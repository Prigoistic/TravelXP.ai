var SN=Object.defineProperty;var EN=(n,e,t)=>e in n?SN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ke=(n,e,t)=>EN(n,typeof e!="symbol"?e+"":e,t);function wN(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Ob(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ay={exports:{}},id={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM;function MN(){if(pM)return id;pM=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:s}}return id.Fragment=e,id.jsx=t,id.jsxs=t,id}var mM;function TN(){return mM||(mM=1,Ay.exports=MN()),Ay.exports}var k=TN(),Ry={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM;function CN(){if(gM)return Tt;gM=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function x(F,ee,J){this.props=F,this.context=ee,this.refs=w,this.updater=J||v}x.prototype.isReactComponent={},x.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function b(){}b.prototype=x.prototype;function M(F,ee,J){this.props=F,this.context=ee,this.refs=w,this.updater=J||v}var C=M.prototype=new b;C.constructor=M,_(C,x.prototype),C.isPureReactComponent=!0;var T=Array.isArray,O={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function D(F,ee,J,ie,V,W){return J=W.ref,{$$typeof:n,type:F,key:ee,ref:J!==void 0?J:null,props:W}}function I(F,ee){return D(F.type,ee,void 0,void 0,void 0,F.props)}function A(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function R(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(J){return ee[J]})}var N=/\/+/g;function X(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?R(""+F.key):ee.toString(36)}function $(){}function Z(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then($,$):(F.status="pending",F.then(function(ee){F.status==="pending"&&(F.status="fulfilled",F.value=ee)},function(ee){F.status==="pending"&&(F.status="rejected",F.reason=ee)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function K(F,ee,J,ie,V){var W=typeof F;(W==="undefined"||W==="boolean")&&(F=null);var ue=!1;if(F===null)ue=!0;else switch(W){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(F.$$typeof){case n:case e:ue=!0;break;case p:return ue=F._init,K(ue(F._payload),ee,J,ie,V)}}if(ue)return V=V(F),ue=ie===""?"."+X(F,0):ie,T(V)?(J="",ue!=null&&(J=ue.replace(N,"$&/")+"/"),K(V,ee,J,"",function(Ae){return Ae})):V!=null&&(A(V)&&(V=I(V,J+(V.key==null||F&&F.key===V.key?"":(""+V.key).replace(N,"$&/")+"/")+ue)),ee.push(V)),1;ue=0;var le=ie===""?".":ie+":";if(T(F))for(var he=0;he<F.length;he++)ie=F[he],W=le+X(ie,he),ue+=K(ie,ee,J,W,V);else if(he=g(F),typeof he=="function")for(F=he.call(F),he=0;!(ie=F.next()).done;)ie=ie.value,W=le+X(ie,he++),ue+=K(ie,ee,J,W,V);else if(W==="object"){if(typeof F.then=="function")return K(Z(F),ee,J,ie,V);throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ue}function H(F,ee,J){if(F==null)return F;var ie=[],V=0;return K(F,ie,"","",function(W){return ee.call(J,W,V++)}),ie}function Y(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(J){(F._status===0||F._status===-1)&&(F._status=1,F._result=J)},function(J){(F._status===0||F._status===-1)&&(F._status=2,F._result=J)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var G=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function te(){}return Tt.Children={map:H,forEach:function(F,ee,J){H(F,function(){ee.apply(this,arguments)},J)},count:function(F){var ee=0;return H(F,function(){ee++}),ee},toArray:function(F){return H(F,function(ee){return ee})||[]},only:function(F){if(!A(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Tt.Component=x,Tt.Fragment=t,Tt.Profiler=r,Tt.PureComponent=M,Tt.StrictMode=i,Tt.Suspense=d,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Tt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Tt.cache=function(F){return function(){return F.apply(null,arguments)}},Tt.cloneElement=function(F,ee,J){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ie=_({},F.props),V=F.key,W=void 0;if(ee!=null)for(ue in ee.ref!==void 0&&(W=void 0),ee.key!==void 0&&(V=""+ee.key),ee)!L.call(ee,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&ee.ref===void 0||(ie[ue]=ee[ue]);var ue=arguments.length-2;if(ue===1)ie.children=J;else if(1<ue){for(var le=Array(ue),he=0;he<ue;he++)le[he]=arguments[he+2];ie.children=le}return D(F.type,V,void 0,void 0,W,ie)},Tt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Tt.createElement=function(F,ee,J){var ie,V={},W=null;if(ee!=null)for(ie in ee.key!==void 0&&(W=""+ee.key),ee)L.call(ee,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(V[ie]=ee[ie]);var ue=arguments.length-2;if(ue===1)V.children=J;else if(1<ue){for(var le=Array(ue),he=0;he<ue;he++)le[he]=arguments[he+2];V.children=le}if(F&&F.defaultProps)for(ie in ue=F.defaultProps,ue)V[ie]===void 0&&(V[ie]=ue[ie]);return D(F,W,void 0,void 0,null,V)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(F){return{$$typeof:u,render:F}},Tt.isValidElement=A,Tt.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:Y}},Tt.memo=function(F,ee){return{$$typeof:f,type:F,compare:ee===void 0?null:ee}},Tt.startTransition=function(F){var ee=O.T,J={};O.T=J;try{var ie=F(),V=O.S;V!==null&&V(J,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(te,G)}catch(W){G(W)}finally{O.T=ee}},Tt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Tt.use=function(F){return O.H.use(F)},Tt.useActionState=function(F,ee,J){return O.H.useActionState(F,ee,J)},Tt.useCallback=function(F,ee){return O.H.useCallback(F,ee)},Tt.useContext=function(F){return O.H.useContext(F)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(F,ee){return O.H.useDeferredValue(F,ee)},Tt.useEffect=function(F,ee){return O.H.useEffect(F,ee)},Tt.useId=function(){return O.H.useId()},Tt.useImperativeHandle=function(F,ee,J){return O.H.useImperativeHandle(F,ee,J)},Tt.useInsertionEffect=function(F,ee){return O.H.useInsertionEffect(F,ee)},Tt.useLayoutEffect=function(F,ee){return O.H.useLayoutEffect(F,ee)},Tt.useMemo=function(F,ee){return O.H.useMemo(F,ee)},Tt.useOptimistic=function(F,ee){return O.H.useOptimistic(F,ee)},Tt.useReducer=function(F,ee,J){return O.H.useReducer(F,ee,J)},Tt.useRef=function(F){return O.H.useRef(F)},Tt.useState=function(F){return O.H.useState(F)},Tt.useSyncExternalStore=function(F,ee,J){return O.H.useSyncExternalStore(F,ee,J)},Tt.useTransition=function(){return O.H.useTransition()},Tt.version="19.0.0",Tt}var vM;function Pb(){return vM||(vM=1,Ry.exports=CN()),Ry.exports}var S=Pb();const ne=Ob(S),AN=wN({__proto__:null,default:ne},[S]);var Dy={exports:{}},rd={},Ly={exports:{}},Oy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yM;function RN(){return yM||(yM=1,function(n){function e(H,Y){var G=H.length;H.push(Y);e:for(;0<G;){var te=G-1>>>1,F=H[te];if(0<r(F,Y))H[te]=Y,H[G]=F,G=te;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Y=H[0],G=H.pop();if(G!==Y){H[0]=G;e:for(var te=0,F=H.length,ee=F>>>1;te<ee;){var J=2*(te+1)-1,ie=H[J],V=J+1,W=H[V];if(0>r(ie,G))V<F&&0>r(W,ie)?(H[te]=W,H[V]=G,te=V):(H[te]=ie,H[J]=G,te=J);else if(V<F&&0>r(W,G))H[te]=W,H[V]=G,te=V;else break e}}return Y}function r(H,Y){var G=H.sortIndex-Y.sortIndex;return G!==0?G:H.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,g=3,v=!1,_=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var Y=t(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=H)i(f),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=t(f)}}function T(H){if(w=!1,C(H),!_)if(t(d)!==null)_=!0,Z();else{var Y=t(f);Y!==null&&K(T,Y.startTime-H)}}var O=!1,L=-1,D=5,I=-1;function A(){return!(n.unstable_now()-I<D)}function R(){if(O){var H=n.unstable_now();I=H;var Y=!0;try{e:{_=!1,w&&(w=!1,b(L),L=-1),v=!0;var G=g;try{t:{for(C(H),m=t(d);m!==null&&!(m.expirationTime>H&&A());){var te=m.callback;if(typeof te=="function"){m.callback=null,g=m.priorityLevel;var F=te(m.expirationTime<=H);if(H=n.unstable_now(),typeof F=="function"){m.callback=F,C(H),Y=!0;break t}m===t(d)&&i(d),C(H)}else i(d);m=t(d)}if(m!==null)Y=!0;else{var ee=t(f);ee!==null&&K(T,ee.startTime-H),Y=!1}}break e}finally{m=null,g=G,v=!1}Y=void 0}}finally{Y?N():O=!1}}}var N;if(typeof M=="function")N=function(){M(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,$=X.port2;X.port1.onmessage=R,N=function(){$.postMessage(null)}}else N=function(){x(R,0)};function Z(){O||(O=!0,N())}function K(H,Y){L=x(function(){H(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,Z())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(H){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var G=g;g=Y;try{return H()}finally{g=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=g;g=H;try{return Y()}finally{g=G}},n.unstable_scheduleCallback=function(H,Y,G){var te=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,H){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=G+F,H={id:p++,callback:Y,priorityLevel:H,startTime:G,expirationTime:F,sortIndex:-1},G>te?(H.sortIndex=G,e(f,H),t(d)===null&&H===t(f)&&(w?(b(L),L=-1):w=!0,K(T,G-te))):(H.sortIndex=F,e(d,H),_||v||(_=!0,Z())),H},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(H){var Y=g;return function(){var G=g;g=Y;try{return H.apply(this,arguments)}finally{g=G}}}}(Oy)),Oy}var _M;function DN(){return _M||(_M=1,Ly.exports=RN()),Ly.exports}var Py={exports:{}},yi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM;function LN(){if(bM)return yi;bM=1;var n=Pb();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yi.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,p)},yi.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},yi.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},yi.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},yi.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:v}):p==="script"&&i.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},yi.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},yi.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},yi.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},yi.requestFormReset=function(d){i.d.r(d)},yi.unstable_batchedUpdates=function(d,f){return d(f)},yi.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},yi.useFormStatus=function(){return l.H.useHostTransitionStatus()},yi.version="19.0.0",yi}var xM;function BR(){if(xM)return Py.exports;xM=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Py.exports=LN(),Py.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SM;function ON(){if(SM)return rd;SM=1;var n=DN(),e=Pb(),t=BR();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var s=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),T=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var D=Symbol.for("react.client.reference");function I(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===D?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Provider";case g:return(a._context.displayName||"Context")+".Consumer";case _:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case b:return o=a.displayName||null,o!==null?o:I(a.type)||"Memo";case M:o=a._payload,a=a._init;try{return I(a(o))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,N,X;function $(a){if(N===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);N=o&&o[1]||"",X=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+a+X}var Z=!1;function K(a,o){if(!a||Z)return"";Z=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(Ee){var _e=Ee}Reflect.construct(a,[],De)}else{try{De.call()}catch(Ee){_e=Ee}a.call(De.prototype)}}else{try{throw Error()}catch(Ee){_e=Ee}(De=a())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(Ee){if(Ee&&_e&&typeof Ee.stack=="string")return[Ee.stack,_e.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=h.DetermineComponentFrameRoot(),P=E[0],B=E[1];if(P&&B){var q=P.split(`
`),se=B.split(`
`);for(y=h=0;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;for(;y<se.length&&!se[y].includes("DetermineComponentFrameRoot");)y++;if(h===q.length||y===se.length)for(h=q.length-1,y=se.length-1;1<=h&&0<=y&&q[h]!==se[y];)y--;for(;1<=h&&0<=y;h--,y--)if(q[h]!==se[y]){if(h!==1||y!==1)do if(h--,y--,0>y||q[h]!==se[y]){var Me=`
`+q[h].replace(" at new "," at ");return a.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",a.displayName)),Me}while(1<=h&&0<=y);break}}}finally{Z=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?$(c):""}function H(a){switch(a.tag){case 26:case 27:case 5:return $(a.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 15:return a=K(a.type,!1),a;case 11:return a=K(a.type.render,!1),a;case 1:return a=K(a.type,!0),a;default:return""}}function Y(a){try{var o="";do o+=H(a),a=a.return;while(a);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function G(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function te(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function F(a){if(G(a)!==a)throw Error(i(188))}function ee(a){var o=a.alternate;if(!o){if(o=G(a),o===null)throw Error(i(188));return o!==a?null:a}for(var c=a,h=o;;){var y=c.return;if(y===null)break;var E=y.alternate;if(E===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===c)return F(y),a;if(E===h)return F(y),o;E=E.sibling}throw Error(i(188))}if(c.return!==h.return)c=y,h=E;else{for(var P=!1,B=y.child;B;){if(B===c){P=!0,c=y,h=E;break}if(B===h){P=!0,h=y,c=E;break}B=B.sibling}if(!P){for(B=E.child;B;){if(B===c){P=!0,c=E,h=y;break}if(B===h){P=!0,h=E,c=y;break}B=B.sibling}if(!P)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?a:o}function J(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=J(a),o!==null)return o;a=a.sibling}return null}var ie=Array.isArray,V=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ue=[],le=-1;function he(a){return{current:a}}function Ae(a){0>le||(a.current=ue[le],ue[le]=null,le--)}function ge(a,o){le++,ue[le]=a.current,a.current=o}var Ne=he(null),nt=he(null),$e=he(null),Q=he(null);function Je(a,o){switch(ge($e,o),ge(nt,a),ge(Ne,null),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?Gw(o):0;break;default:if(a=a===8?o.parentNode:o,o=a.tagName,a=a.namespaceURI)a=Gw(a),o=jw(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Ae(Ne),ge(Ne,o)}function mt(){Ae(Ne),Ae(nt),Ae($e)}function pt(a){a.memoizedState!==null&&ge(Q,a);var o=Ne.current,c=jw(o,a.type);o!==c&&(ge(nt,a),ge(Ne,c))}function Ze(a){nt.current===a&&(Ae(Ne),Ae(nt)),Q.current===a&&(Ae(Q),Qc._currentValue=W)}var Lt=Object.prototype.hasOwnProperty,Qe=n.unstable_scheduleCallback,j=n.unstable_cancelCallback,U=n.unstable_shouldYield,fe=n.unstable_requestPaint,we=n.unstable_now,Re=n.unstable_getCurrentPriorityLevel,xe=n.unstable_ImmediatePriority,Ye=n.unstable_UserBlockingPriority,ke=n.unstable_NormalPriority,He=n.unstable_LowPriority,wt=n.unstable_IdlePriority,Oe=n.log,qe=n.unstable_setDisableYieldValue,et=null,Xe=null;function Ve(a){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(et,a,void 0,(a.current.flags&128)===128)}catch{}}function ft(a){if(typeof Oe=="function"&&qe(a),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(et,a)}catch{}}var it=Math.clz32?Math.clz32:Ue,jt=Math.log,re=Math.LN2;function Ue(a){return a>>>=0,a===0?32:31-(jt(a)/re|0)|0}var be=128,Te=4194304;function Ie(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Fe(a,o){var c=a.pendingLanes;if(c===0)return 0;var h=0,y=a.suspendedLanes,E=a.pingedLanes,P=a.warmLanes;a=a.finishedLanes!==0;var B=c&134217727;return B!==0?(c=B&~y,c!==0?h=Ie(c):(E&=B,E!==0?h=Ie(E):a||(P=B&~P,P!==0&&(h=Ie(P))))):(B=c&~y,B!==0?h=Ie(B):E!==0?h=Ie(E):a||(P=c&~P,P!==0&&(h=Ie(P)))),h===0?0:o!==0&&o!==h&&!(o&y)&&(y=h&-h,P=o&-o,y>=P||y===32&&(P&4194176)!==0)?o:h}function Le(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function st(a,o){switch(a){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var a=be;return be<<=1,!(be&4194176)&&(be=128),a}function bt(){var a=Te;return Te<<=1,!(Te&62914560)&&(Te=4194304),a}function ln(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function nn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ut(a,o,c,h,y,E){var P=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var B=a.entanglements,q=a.expirationTimes,se=a.hiddenUpdates;for(c=P&~c;0<c;){var Me=31-it(c),De=1<<Me;B[Me]=0,q[Me]=-1;var _e=se[Me];if(_e!==null)for(se[Me]=null,Me=0;Me<_e.length;Me++){var Ee=_e[Me];Ee!==null&&(Ee.lane&=-536870913)}c&=~De}h!==0&&ui(a,h,0),E!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=E&~(P&~o))}function ui(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-it(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|c&4194218}function jn(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var h=31-it(c),y=1<<h;y&o|a[h]&o&&(a[h]|=o),c&=~y}}function Sl(a){return a&=-a,2<a?8<a?a&134217727?32:268435456:8:2}function cc(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:lM(a.type))}function bf(a,o){var c=V.p;try{return V.p=a,o()}finally{V.p=c}}var Gi=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Gi,Yn="__reactProps$"+Gi,ya="__reactContainer$"+Gi,El="__reactEvents$"+Gi,Tg="__reactListeners$"+Gi,Cg="__reactHandles$"+Gi,xf="__reactResources$"+Gi,po="__reactMarker$"+Gi;function dc(a){delete a[Wn],delete a[Yn],delete a[El],delete a[Tg],delete a[Cg]}function _a(a){var o=a[Wn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[ya]||c[Wn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=qw(a);a!==null;){if(c=a[Wn])return c;a=qw(a)}return o}a=c,c=a.parentNode}return null}function z(a){if(a=a[Wn]||a[ya]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function oe(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function ye(a){var o=a[xf];return o||(o=a[xf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function pe(a){a[po]=!0}var ce=new Set,Pe={};function Be(a,o){We(a,o),We(a+"Capture",o)}function We(a,o){for(Pe[a]=o,a=0;a<o.length;a++)ce.add(o[a])}var Ge=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),St={},ct={};function Ft(a){return Lt.call(ct,a)?!0:Lt.call(St,a)?!1:xt.test(a)?ct[a]=!0:(St[a]=!0,!1)}function Bt(a,o,c){if(Ft(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function bn(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function qt(a,o,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+h)}}function Et(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function dt(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function qn(a){var o=dt(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),h=""+a[o];if(!a.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,E=c.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){h=""+P,E.call(this,P)}}),Object.defineProperty(a,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function zt(a){a._valueTracker||(a._valueTracker=qn(a))}function Di(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return a&&(h=dt(a)?a.checked?"true":"false":a.value),a=h,a!==c?(o.setValue(a),!0):!1}function Mr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var xi=/[\n"\\]/g;function Jn(a){return a.replace(xi,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function dn(a,o,c,h,y,E,P,B){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),o!=null?P==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Et(o)):a.value!==""+Et(o)&&(a.value=""+Et(o)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),o!=null?gi(a,P,Et(o)):c!=null?gi(a,P,Et(c)):h!=null&&a.removeAttribute("value"),y==null&&E!=null&&(a.defaultChecked=!!E),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.name=""+Et(B):a.removeAttribute("name")}function Si(a,o,c,h,y,E,P,B){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),o!=null||c!=null){if(!(E!=="submit"&&E!=="reset"||o!=null))return;c=c!=null?""+Et(c):"",o=o!=null?""+Et(o):c,B||o===a.value||(a.value=o),a.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=B?a.checked:!!h,a.defaultChecked=!!h,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P)}function gi(a,o,c){o==="number"&&Mr(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Rn(a,o,c,h){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&h&&(a[c].defaultSelected=!0)}else{for(c=""+Et(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function ci(a,o,c){if(o!=null&&(o=""+Et(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Et(c):""}function wl(a,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(i(92));if(ie(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Et(o),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h)}function Li(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var _P=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zx(a,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,c):typeof c!="number"||c===0||_P.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Qx(a,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&c[y]!==h&&Zx(a,y,h)}else for(var E in o)o.hasOwnProperty(E)&&Zx(a,E,o[E])}function Ag(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sf(a){return xP.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Rg=null;function Dg(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ml=null,Tl=null;function Jx(a){var o=z(a);if(o&&(a=o.stateNode)){var c=a[Yn]||null;e:switch(a=o.stateNode,o.type){case"input":if(dn(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Jn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==a&&h.form===a.form){var y=h[Yn]||null;if(!y)throw Error(i(90));dn(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===a.form&&Di(h)}break e;case"textarea":ci(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Rn(a,!!c.multiple,o,!1)}}}var Lg=!1;function eS(a,o,c){if(Lg)return a(o,c);Lg=!0;try{var h=a(o);return h}finally{if(Lg=!1,(Ml!==null||Tl!==null)&&(ah(),Ml&&(o=Ml,a=Tl,Tl=Ml=null,Jx(o),a)))for(o=0;o<a.length;o++)Jx(a[o])}}function fc(a,o){var c=a.stateNode;if(c===null)return null;var h=c[Yn]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Og=!1;if(Ge)try{var hc={};Object.defineProperty(hc,"passive",{get:function(){Og=!0}}),window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{Og=!1}var fs=null,Pg=null,Ef=null;function tS(){if(Ef)return Ef;var a,o=Pg,c=o.length,h,y="value"in fs?fs.value:fs.textContent,E=y.length;for(a=0;a<c&&o[a]===y[a];a++);var P=c-a;for(h=1;h<=P&&o[c-h]===y[E-h];h++);return Ef=y.slice(a,1<h?1-h:void 0)}function wf(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Mf(){return!0}function nS(){return!1}function Oi(a){function o(c,h,y,E,P){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var B in a)a.hasOwnProperty(B)&&(c=a[B],this[B]=c?c(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Mf:nS,this.isPropagationStopped=nS,this}return R(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Mf)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Mf)},persist:function(){},isPersistent:Mf}),o}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=Oi(mo),pc=R({},mo,{view:0,detail:0}),SP=Oi(pc),Ig,Ng,mc,Cf=R({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==mc&&(mc&&a.type==="mousemove"?(Ig=a.screenX-mc.screenX,Ng=a.screenY-mc.screenY):Ng=Ig=0,mc=a),Ig)},movementY:function(a){return"movementY"in a?a.movementY:Ng}}),iS=Oi(Cf),EP=R({},Cf,{dataTransfer:0}),wP=Oi(EP),MP=R({},pc,{relatedTarget:0}),kg=Oi(MP),TP=R({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),CP=Oi(TP),AP=R({},mo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),RP=Oi(AP),DP=R({},mo,{data:0}),rS=Oi(DP),LP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IP(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=PP[a])?!!o[a]:!1}function Ug(){return IP}var NP=R({},pc,{key:function(a){if(a.key){var o=LP[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=wf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?OP[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(a){return a.type==="keypress"?wf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?wf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),kP=Oi(NP),UP=R({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aS=Oi(UP),FP=R({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),BP=Oi(FP),zP=R({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),HP=Oi(zP),VP=R({},Cf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),GP=Oi(VP),jP=R({},mo,{newState:0,oldState:0}),WP=Oi(jP),YP=[9,13,27,32],Fg=Ge&&"CompositionEvent"in window,gc=null;Ge&&"documentMode"in document&&(gc=document.documentMode);var qP=Ge&&"TextEvent"in window&&!gc,sS=Ge&&(!Fg||gc&&8<gc&&11>=gc),oS=" ",lS=!1;function uS(a,o){switch(a){case"keyup":return YP.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Cl=!1;function $P(a,o){switch(a){case"compositionend":return cS(o);case"keypress":return o.which!==32?null:(lS=!0,oS);case"textInput":return a=o.data,a===oS&&lS?null:a;default:return null}}function XP(a,o){if(Cl)return a==="compositionend"||!Fg&&uS(a,o)?(a=tS(),Ef=Pg=fs=null,Cl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sS&&o.locale!=="ko"?null:o.data;default:return null}}var KP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dS(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!KP[a.type]:o==="textarea"}function fS(a,o,c,h){Ml?Tl?Tl.push(h):Tl=[h]:Ml=h,o=ch(o,"onChange"),0<o.length&&(c=new Tf("onChange","change",null,c,h),a.push({event:c,listeners:o}))}var vc=null,yc=null;function ZP(a){Fw(a,0)}function Af(a){var o=oe(a);if(Di(o))return a}function hS(a,o){if(a==="change")return o}var pS=!1;if(Ge){var Bg;if(Ge){var zg="oninput"in document;if(!zg){var mS=document.createElement("div");mS.setAttribute("oninput","return;"),zg=typeof mS.oninput=="function"}Bg=zg}else Bg=!1;pS=Bg&&(!document.documentMode||9<document.documentMode)}function gS(){vc&&(vc.detachEvent("onpropertychange",vS),yc=vc=null)}function vS(a){if(a.propertyName==="value"&&Af(yc)){var o=[];fS(o,yc,a,Dg(a)),eS(ZP,o)}}function QP(a,o,c){a==="focusin"?(gS(),vc=o,yc=c,vc.attachEvent("onpropertychange",vS)):a==="focusout"&&gS()}function JP(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Af(yc)}function eI(a,o){if(a==="click")return Af(o)}function tI(a,o){if(a==="input"||a==="change")return Af(o)}function nI(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ji=typeof Object.is=="function"?Object.is:nI;function _c(a,o){if(ji(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!Lt.call(o,y)||!ji(a[y],o[y]))return!1}return!0}function yS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function _S(a,o){var c=yS(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=o&&h>=o)return{node:c,offset:o-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=yS(c)}}function bS(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?bS(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function xS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Mr(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Mr(a.document)}return o}function Hg(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function iI(a,o){var c=xS(o);o=a.focusedElem;var h=a.selectionRange;if(c!==o&&o&&o.ownerDocument&&bS(o.ownerDocument.documentElement,o)){if(h!==null&&Hg(o)){if(a=h.start,c=h.end,c===void 0&&(c=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(c,o.value.length);else if(c=(a=o.ownerDocument||document)&&a.defaultView||window,c.getSelection){c=c.getSelection();var y=o.textContent.length,E=Math.min(h.start,y);h=h.end===void 0?E:Math.min(h.end,y),!c.extend&&E>h&&(y=h,h=E,E=y),y=_S(o,E);var P=_S(o,h);y&&P&&(c.rangeCount!==1||c.anchorNode!==y.node||c.anchorOffset!==y.offset||c.focusNode!==P.node||c.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),c.removeAllRanges(),E>h?(c.addRange(a),c.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),c.addRange(a)))}}for(a=[],c=o;c=c.parentNode;)c.nodeType===1&&a.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)c=a[o],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var rI=Ge&&"documentMode"in document&&11>=document.documentMode,Al=null,Vg=null,bc=null,Gg=!1;function SS(a,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gg||Al==null||Al!==Mr(h)||(h=Al,"selectionStart"in h&&Hg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),bc&&_c(bc,h)||(bc=h,h=ch(Vg,"onSelect"),0<h.length&&(o=new Tf("onSelect","select",null,o,c),a.push({event:o,listeners:h}),o.target=Al)))}function go(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Rl={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionrun:go("Transition","TransitionRun"),transitionstart:go("Transition","TransitionStart"),transitioncancel:go("Transition","TransitionCancel"),transitionend:go("Transition","TransitionEnd")},jg={},ES={};Ge&&(ES=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function vo(a){if(jg[a])return jg[a];if(!Rl[a])return a;var o=Rl[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in ES)return jg[a]=o[c];return a}var wS=vo("animationend"),MS=vo("animationiteration"),TS=vo("animationstart"),aI=vo("transitionrun"),sI=vo("transitionstart"),oI=vo("transitioncancel"),CS=vo("transitionend"),AS=new Map,RS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Tr(a,o){AS.set(a,o),Be(o,[a])}var rr=[],Dl=0,Wg=0;function Rf(){for(var a=Dl,o=Wg=Dl=0;o<a;){var c=rr[o];rr[o++]=null;var h=rr[o];rr[o++]=null;var y=rr[o];rr[o++]=null;var E=rr[o];if(rr[o++]=null,h!==null&&y!==null){var P=h.pending;P===null?y.next=y:(y.next=P.next,P.next=y),h.pending=y}E!==0&&DS(c,y,E)}}function Df(a,o,c,h){rr[Dl++]=a,rr[Dl++]=o,rr[Dl++]=c,rr[Dl++]=h,Wg|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Yg(a,o,c,h){return Df(a,o,c,h),Lf(a)}function hs(a,o){return Df(a,null,null,o),Lf(a)}function DS(a,o,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var y=!1,E=a.return;E!==null;)E.childLanes|=c,h=E.alternate,h!==null&&(h.childLanes|=c),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(y=!0)),a=E,E=E.return;y&&o!==null&&a.tag===3&&(E=a.stateNode,y=31-it(c),E=E.hiddenUpdates,a=E[y],a===null?E[y]=[o]:a.push(o),o.lane=c|536870912)}function Lf(a){if(50<Wc)throw Wc=0,Qv=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Ll={},LS=new WeakMap;function ar(a,o){if(typeof a=="object"&&a!==null){var c=LS.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Y(o)},LS.set(a,o),o)}return{value:a,source:o,stack:Y(o)}}var Ol=[],Pl=0,Of=null,Pf=0,sr=[],or=0,yo=null,ba=1,xa="";function _o(a,o){Ol[Pl++]=Pf,Ol[Pl++]=Of,Of=a,Pf=o}function OS(a,o,c){sr[or++]=ba,sr[or++]=xa,sr[or++]=yo,yo=a;var h=ba;a=xa;var y=32-it(h)-1;h&=~(1<<y),c+=1;var E=32-it(o)+y;if(30<E){var P=y-y%5;E=(h&(1<<P)-1).toString(32),h>>=P,y-=P,ba=1<<32-it(o)+y|c<<y|h,xa=E+a}else ba=1<<E|c<<y|h,xa=a}function qg(a){a.return!==null&&(_o(a,1),OS(a,1,0))}function $g(a){for(;a===Of;)Of=Ol[--Pl],Ol[Pl]=null,Pf=Ol[--Pl],Ol[Pl]=null;for(;a===yo;)yo=sr[--or],sr[or]=null,xa=sr[--or],sr[or]=null,ba=sr[--or],sr[or]=null}var Ei=null,di=null,$t=!1,Cr=null,Vr=!1,Xg=Error(i(519));function bo(a){var o=Error(i(418,""));throw Ec(ar(o,a)),Xg}function PS(a){var o=a.stateNode,c=a.type,h=a.memoizedProps;switch(o[Wn]=a,o[Yn]=h,c){case"dialog":Ht("cancel",o),Ht("close",o);break;case"iframe":case"object":case"embed":Ht("load",o);break;case"video":case"audio":for(c=0;c<qc.length;c++)Ht(qc[c],o);break;case"source":Ht("error",o);break;case"img":case"image":case"link":Ht("error",o),Ht("load",o);break;case"details":Ht("toggle",o);break;case"input":Ht("invalid",o),Si(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),zt(o);break;case"select":Ht("invalid",o);break;case"textarea":Ht("invalid",o),wl(o,h.value,h.defaultValue,h.children),zt(o)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||Vw(o.textContent,c)?(h.popover!=null&&(Ht("beforetoggle",o),Ht("toggle",o)),h.onScroll!=null&&Ht("scroll",o),h.onScrollEnd!=null&&Ht("scrollend",o),h.onClick!=null&&(o.onclick=dh),o=!0):o=!1,o||bo(a)}function IS(a){for(Ei=a.return;Ei;)switch(Ei.tag){case 3:case 27:Vr=!0;return;case 5:case 13:Vr=!1;return;default:Ei=Ei.return}}function xc(a){if(a!==Ei)return!1;if(!$t)return IS(a),$t=!0,!1;var o=!1,c;if((c=a.tag!==3&&a.tag!==27)&&((c=a.tag===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||my(a.type,a.memoizedProps)),c=!c),c&&(o=!0),o&&di&&bo(a),IS(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(o===0){di=Rr(a.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;a=a.nextSibling}di=null}}else di=Ei?Rr(a.stateNode.nextSibling):null;return!0}function Sc(){di=Ei=null,$t=!1}function Ec(a){Cr===null?Cr=[a]:Cr.push(a)}var wc=Error(i(460)),NS=Error(i(474)),Kg={then:function(){}};function kS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function If(){}function US(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(If,If),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===wc?Error(i(483)):a;default:if(typeof o.status=="string")o.then(If,If);else{if(a=yn,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===wc?Error(i(483)):a}throw Mc=o,wc}}var Mc=null;function FS(){if(Mc===null)throw Error(i(459));var a=Mc;return Mc=null,a}var Il=null,Tc=0;function Nf(a){var o=Tc;return Tc+=1,Il===null&&(Il=[]),US(Il,a,o)}function Cc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function kf(a,o){throw o.$$typeof===s?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function BS(a){var o=a._init;return o(a._payload)}function zS(a){function o(de,ae){if(a){var me=de.deletions;me===null?(de.deletions=[ae],de.flags|=16):me.push(ae)}}function c(de,ae){if(!a)return null;for(;ae!==null;)o(de,ae),ae=ae.sibling;return null}function h(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function y(de,ae){return de=Ms(de,ae),de.index=0,de.sibling=null,de}function E(de,ae,me){return de.index=me,a?(me=de.alternate,me!==null?(me=me.index,me<ae?(de.flags|=33554434,ae):me):(de.flags|=33554434,ae)):(de.flags|=1048576,ae)}function P(de){return a&&de.alternate===null&&(de.flags|=33554434),de}function B(de,ae,me,Ce){return ae===null||ae.tag!==6?(ae=jv(me,de.mode,Ce),ae.return=de,ae):(ae=y(ae,me),ae.return=de,ae)}function q(de,ae,me,Ce){var tt=me.type;return tt===d?Me(de,ae,me.props.children,Ce,me.key):ae!==null&&(ae.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===M&&BS(tt)===ae.type)?(ae=y(ae,me.props),Cc(ae,me),ae.return=de,ae):(ae=eh(me.type,me.key,me.props,null,de.mode,Ce),Cc(ae,me),ae.return=de,ae)}function se(de,ae,me,Ce){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==me.containerInfo||ae.stateNode.implementation!==me.implementation?(ae=Wv(me,de.mode,Ce),ae.return=de,ae):(ae=y(ae,me.children||[]),ae.return=de,ae)}function Me(de,ae,me,Ce,tt){return ae===null||ae.tag!==7?(ae=Do(me,de.mode,Ce,tt),ae.return=de,ae):(ae=y(ae,me),ae.return=de,ae)}function De(de,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=jv(""+ae,de.mode,me),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return me=eh(ae.type,ae.key,ae.props,null,de.mode,me),Cc(me,ae),me.return=de,me;case u:return ae=Wv(ae,de.mode,me),ae.return=de,ae;case M:var Ce=ae._init;return ae=Ce(ae._payload),De(de,ae,me)}if(ie(ae)||L(ae))return ae=Do(ae,de.mode,me,null),ae.return=de,ae;if(typeof ae.then=="function")return De(de,Nf(ae),me);if(ae.$$typeof===v)return De(de,Zf(de,ae),me);kf(de,ae)}return null}function _e(de,ae,me,Ce){var tt=ae!==null?ae.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return tt!==null?null:B(de,ae,""+me,Ce);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return me.key===tt?q(de,ae,me,Ce):null;case u:return me.key===tt?se(de,ae,me,Ce):null;case M:return tt=me._init,me=tt(me._payload),_e(de,ae,me,Ce)}if(ie(me)||L(me))return tt!==null?null:Me(de,ae,me,Ce,null);if(typeof me.then=="function")return _e(de,ae,Nf(me),Ce);if(me.$$typeof===v)return _e(de,ae,Zf(de,me),Ce);kf(de,me)}return null}function Ee(de,ae,me,Ce,tt){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return de=de.get(me)||null,B(ae,de,""+Ce,tt);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:return de=de.get(Ce.key===null?me:Ce.key)||null,q(ae,de,Ce,tt);case u:return de=de.get(Ce.key===null?me:Ce.key)||null,se(ae,de,Ce,tt);case M:var Pt=Ce._init;return Ce=Pt(Ce._payload),Ee(de,ae,me,Ce,tt)}if(ie(Ce)||L(Ce))return de=de.get(me)||null,Me(ae,de,Ce,tt,null);if(typeof Ce.then=="function")return Ee(de,ae,me,Nf(Ce),tt);if(Ce.$$typeof===v)return Ee(de,ae,me,Zf(ae,Ce),tt);kf(ae,Ce)}return null}function at(de,ae,me,Ce){for(var tt=null,Pt=null,ot=ae,gt=ae=0,ni=null;ot!==null&&gt<me.length;gt++){ot.index>gt?(ni=ot,ot=null):ni=ot.sibling;var Xt=_e(de,ot,me[gt],Ce);if(Xt===null){ot===null&&(ot=ni);break}a&&ot&&Xt.alternate===null&&o(de,ot),ae=E(Xt,ae,gt),Pt===null?tt=Xt:Pt.sibling=Xt,Pt=Xt,ot=ni}if(gt===me.length)return c(de,ot),$t&&_o(de,gt),tt;if(ot===null){for(;gt<me.length;gt++)ot=De(de,me[gt],Ce),ot!==null&&(ae=E(ot,ae,gt),Pt===null?tt=ot:Pt.sibling=ot,Pt=ot);return $t&&_o(de,gt),tt}for(ot=h(ot);gt<me.length;gt++)ni=Ee(ot,de,gt,me[gt],Ce),ni!==null&&(a&&ni.alternate!==null&&ot.delete(ni.key===null?gt:ni.key),ae=E(ni,ae,gt),Pt===null?tt=ni:Pt.sibling=ni,Pt=ni);return a&&ot.forEach(function(Os){return o(de,Os)}),$t&&_o(de,gt),tt}function Mt(de,ae,me,Ce){if(me==null)throw Error(i(151));for(var tt=null,Pt=null,ot=ae,gt=ae=0,ni=null,Xt=me.next();ot!==null&&!Xt.done;gt++,Xt=me.next()){ot.index>gt?(ni=ot,ot=null):ni=ot.sibling;var Os=_e(de,ot,Xt.value,Ce);if(Os===null){ot===null&&(ot=ni);break}a&&ot&&Os.alternate===null&&o(de,ot),ae=E(Os,ae,gt),Pt===null?tt=Os:Pt.sibling=Os,Pt=Os,ot=ni}if(Xt.done)return c(de,ot),$t&&_o(de,gt),tt;if(ot===null){for(;!Xt.done;gt++,Xt=me.next())Xt=De(de,Xt.value,Ce),Xt!==null&&(ae=E(Xt,ae,gt),Pt===null?tt=Xt:Pt.sibling=Xt,Pt=Xt);return $t&&_o(de,gt),tt}for(ot=h(ot);!Xt.done;gt++,Xt=me.next())Xt=Ee(ot,de,gt,Xt.value,Ce),Xt!==null&&(a&&Xt.alternate!==null&&ot.delete(Xt.key===null?gt:Xt.key),ae=E(Xt,ae,gt),Pt===null?tt=Xt:Pt.sibling=Xt,Pt=Xt);return a&&ot.forEach(function(xN){return o(de,xN)}),$t&&_o(de,gt),tt}function On(de,ae,me,Ce){if(typeof me=="object"&&me!==null&&me.type===d&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case l:e:{for(var tt=me.key;ae!==null;){if(ae.key===tt){if(tt=me.type,tt===d){if(ae.tag===7){c(de,ae.sibling),Ce=y(ae,me.props.children),Ce.return=de,de=Ce;break e}}else if(ae.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===M&&BS(tt)===ae.type){c(de,ae.sibling),Ce=y(ae,me.props),Cc(Ce,me),Ce.return=de,de=Ce;break e}c(de,ae);break}else o(de,ae);ae=ae.sibling}me.type===d?(Ce=Do(me.props.children,de.mode,Ce,me.key),Ce.return=de,de=Ce):(Ce=eh(me.type,me.key,me.props,null,de.mode,Ce),Cc(Ce,me),Ce.return=de,de=Ce)}return P(de);case u:e:{for(tt=me.key;ae!==null;){if(ae.key===tt)if(ae.tag===4&&ae.stateNode.containerInfo===me.containerInfo&&ae.stateNode.implementation===me.implementation){c(de,ae.sibling),Ce=y(ae,me.children||[]),Ce.return=de,de=Ce;break e}else{c(de,ae);break}else o(de,ae);ae=ae.sibling}Ce=Wv(me,de.mode,Ce),Ce.return=de,de=Ce}return P(de);case M:return tt=me._init,me=tt(me._payload),On(de,ae,me,Ce)}if(ie(me))return at(de,ae,me,Ce);if(L(me)){if(tt=L(me),typeof tt!="function")throw Error(i(150));return me=tt.call(me),Mt(de,ae,me,Ce)}if(typeof me.then=="function")return On(de,ae,Nf(me),Ce);if(me.$$typeof===v)return On(de,ae,Zf(de,me),Ce);kf(de,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,ae!==null&&ae.tag===6?(c(de,ae.sibling),Ce=y(ae,me),Ce.return=de,de=Ce):(c(de,ae),Ce=jv(me,de.mode,Ce),Ce.return=de,de=Ce),P(de)):c(de,ae)}return function(de,ae,me,Ce){try{Tc=0;var tt=On(de,ae,me,Ce);return Il=null,tt}catch(ot){if(ot===wc)throw ot;var Pt=dr(29,ot,null,de.mode);return Pt.lanes=Ce,Pt.return=de,Pt}finally{}}}var xo=zS(!0),HS=zS(!1),Nl=he(null),Uf=he(0);function VS(a,o){a=Oa,ge(Uf,a),ge(Nl,o),Oa=a|o.baseLanes}function Zg(){ge(Uf,Oa),ge(Nl,Nl.current)}function Qg(){Oa=Uf.current,Ae(Nl),Ae(Uf)}var lr=he(null),Gr=null;function ps(a){var o=a.alternate;ge($n,$n.current&1),ge(lr,a),Gr===null&&(o===null||Nl.current!==null||o.memoizedState!==null)&&(Gr=a)}function GS(a){if(a.tag===22){if(ge($n,$n.current),ge(lr,a),Gr===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Gr=a)}}else ms()}function ms(){ge($n,$n.current),ge(lr,lr.current)}function Sa(a){Ae(lr),Gr===a&&(Gr=null),Ae($n)}var $n=he(0);function Ff(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var lI=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},uI=n.unstable_scheduleCallback,cI=n.unstable_NormalPriority,Xn={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jg(){return{controller:new lI,data:new Map,refCount:0}}function Ac(a){a.refCount--,a.refCount===0&&uI(cI,function(){a.controller.abort()})}var Rc=null,ev=0,kl=0,Ul=null;function dI(a,o){if(Rc===null){var c=Rc=[];ev=0,kl=sy(),Ul={status:"pending",value:void 0,then:function(h){c.push(h)}}}return ev++,o.then(jS,jS),o}function jS(){if(--ev===0&&Rc!==null){Ul!==null&&(Ul.status="fulfilled");var a=Rc;Rc=null,kl=0,Ul=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function fI(a,o){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var WS=A.S;A.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&dI(a,o),WS!==null&&WS(a,o)};var So=he(null);function tv(){var a=So.current;return a!==null?a:yn.pooledCache}function Bf(a,o){o===null?ge(So,So.current):ge(So,o.pool)}function YS(){var a=tv();return a===null?null:{parent:Xn._currentValue,pool:a}}var gs=0,Ot=null,fn=null,Fn=null,zf=!1,Fl=!1,Eo=!1,Hf=0,Dc=0,Bl=null,hI=0;function Nn(){throw Error(i(321))}function nv(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!ji(a[c],o[c]))return!1;return!0}function iv(a,o,c,h,y,E){return gs=E,Ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,A.H=a===null||a.memoizedState===null?wo:vs,Eo=!1,E=c(h,y),Eo=!1,Fl&&(E=$S(o,c,h,y)),qS(a),E}function qS(a){A.H=jr;var o=fn!==null&&fn.next!==null;if(gs=0,Fn=fn=Ot=null,zf=!1,Dc=0,Bl=null,o)throw Error(i(300));a===null||ei||(a=a.dependencies,a!==null&&Kf(a)&&(ei=!0))}function $S(a,o,c,h){Ot=a;var y=0;do{if(Fl&&(Bl=null),Dc=0,Fl=!1,25<=y)throw Error(i(301));if(y+=1,Fn=fn=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}A.H=Mo,E=o(c,h)}while(Fl);return E}function pI(){var a=A.H,o=a.useState()[0];return o=typeof o.then=="function"?Lc(o):o,a=a.useState()[0],(fn!==null?fn.memoizedState:null)!==a&&(Ot.flags|=1024),o}function rv(){var a=Hf!==0;return Hf=0,a}function av(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function sv(a){if(zf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}zf=!1}gs=0,Fn=fn=Ot=null,Fl=!1,Dc=Hf=0,Bl=null}function Pi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Ot.memoizedState=Fn=a:Fn=Fn.next=a,Fn}function Bn(){if(fn===null){var a=Ot.alternate;a=a!==null?a.memoizedState:null}else a=fn.next;var o=Fn===null?Ot.memoizedState:Fn.next;if(o!==null)Fn=o,fn=a;else{if(a===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));fn=a,a={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},Fn===null?Ot.memoizedState=Fn=a:Fn=Fn.next=a}return Fn}var Vf;Vf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Lc(a){var o=Dc;return Dc+=1,Bl===null&&(Bl=[]),a=US(Bl,a,o),o=Ot,(Fn===null?o.memoizedState:Fn.next)===null&&(o=o.alternate,A.H=o===null||o.memoizedState===null?wo:vs),a}function Gf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Lc(a);if(a.$$typeof===v)return vi(a)}throw Error(i(438,String(a)))}function ov(a){var o=null,c=Ot.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Ot.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Vf(),Ot.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),h=0;h<a;h++)c[h]=T;return o.index++,c}function Ea(a,o){return typeof o=="function"?o(a):o}function jf(a){var o=Bn();return lv(o,fn,a)}function lv(a,o,c){var h=a.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var y=a.baseQueue,E=h.pending;if(E!==null){if(y!==null){var P=y.next;y.next=E.next,E.next=P}o.baseQueue=y=E,h.pending=null}if(E=a.baseState,y===null)a.memoizedState=E;else{o=y.next;var B=P=null,q=null,se=o,Me=!1;do{var De=se.lane&-536870913;if(De!==se.lane?(Gt&De)===De:(gs&De)===De){var _e=se.revertLane;if(_e===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),De===kl&&(Me=!0);else if((gs&_e)===_e){se=se.next,_e===kl&&(Me=!0);continue}else De={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},q===null?(B=q=De,P=E):q=q.next=De,Ot.lanes|=_e,Ts|=_e;De=se.action,Eo&&c(E,De),E=se.hasEagerState?se.eagerState:c(E,De)}else _e={lane:De,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},q===null?(B=q=_e,P=E):q=q.next=_e,Ot.lanes|=De,Ts|=De;se=se.next}while(se!==null&&se!==o);if(q===null?P=E:q.next=B,!ji(E,a.memoizedState)&&(ei=!0,Me&&(c=Ul,c!==null)))throw c;a.memoizedState=E,a.baseState=P,a.baseQueue=q,h.lastRenderedState=E}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function uv(a){var o=Bn(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var h=c.dispatch,y=c.pending,E=o.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do E=a(E,P.action),P=P.next;while(P!==y);ji(E,o.memoizedState)||(ei=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),c.lastRenderedState=E}return[E,h]}function XS(a,o,c){var h=Ot,y=Bn(),E=$t;if(E){if(c===void 0)throw Error(i(407));c=c()}else c=o();var P=!ji((fn||y).memoizedState,c);if(P&&(y.memoizedState=c,ei=!0),y=y.queue,fv(QS.bind(null,h,y,a),[a]),y.getSnapshot!==o||P||Fn!==null&&Fn.memoizedState.tag&1){if(h.flags|=2048,zl(9,ZS.bind(null,h,y,c,o),{destroy:void 0},null),yn===null)throw Error(i(349));E||gs&60||KS(h,o,c)}return c}function KS(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Ot.updateQueue,o===null?(o=Vf(),Ot.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function ZS(a,o,c,h){o.value=c,o.getSnapshot=h,JS(o)&&eE(a)}function QS(a,o,c){return c(function(){JS(o)&&eE(a)})}function JS(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!ji(a,c)}catch{return!0}}function eE(a){var o=hs(a,2);o!==null&&wi(o,a,2)}function cv(a){var o=Pi();if(typeof a=="function"){var c=a;if(a=c(),Eo){ft(!0);try{c()}finally{ft(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:a},o}function tE(a,o,c,h){return a.baseState=c,lv(a,fn,typeof h=="function"?h:Ea)}function mI(a,o,c,h,y){if(qf(a))throw Error(i(485));if(a=o.action,a!==null){var E={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){E.listeners.push(P)}};A.T!==null?c(!0):E.isTransition=!1,h(E),c=o.pending,c===null?(E.next=o.pending=E,nE(o,E)):(E.next=c.next,o.pending=c.next=E)}}function nE(a,o){var c=o.action,h=o.payload,y=a.state;if(o.isTransition){var E=A.T,P={};A.T=P;try{var B=c(y,h),q=A.S;q!==null&&q(P,B),iE(a,o,B)}catch(se){dv(a,o,se)}finally{A.T=E}}else try{E=c(y,h),iE(a,o,E)}catch(se){dv(a,o,se)}}function iE(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){rE(a,o,h)},function(h){return dv(a,o,h)}):rE(a,o,c)}function rE(a,o,c){o.status="fulfilled",o.value=c,aE(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,nE(a,c)))}function dv(a,o,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,aE(o),o=o.next;while(o!==h)}a.action=null}function aE(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function sE(a,o){return o}function oE(a,o){if($t){var c=yn.formState;if(c!==null){e:{var h=Ot;if($t){if(di){t:{for(var y=di,E=Vr;y.nodeType!==8;){if(!E){y=null;break t}if(y=Rr(y.nextSibling),y===null){y=null;break t}}E=y.data,y=E==="F!"||E==="F"?y:null}if(y){di=Rr(y.nextSibling),h=y.data==="F!";break e}}bo(h)}h=!1}h&&(o=c[0])}}return c=Pi(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sE,lastRenderedState:o},c.queue=h,c=ME.bind(null,Ot,h),h.dispatch=c,h=cv(!1),E=vv.bind(null,Ot,!1,h.queue),h=Pi(),y={state:o,dispatch:null,action:a,pending:null},h.queue=y,c=mI.bind(null,Ot,y,E,c),y.dispatch=c,h.memoizedState=a,[o,c,!1]}function lE(a){var o=Bn();return uE(o,fn,a)}function uE(a,o,c){o=lv(a,o,sE)[0],a=jf(Ea)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Lc(o):o;var h=Bn(),y=h.queue,E=y.dispatch;return c!==h.memoizedState&&(Ot.flags|=2048,zl(9,gI.bind(null,y,c),{destroy:void 0},null)),[o,E,a]}function gI(a,o){a.action=o}function cE(a){var o=Bn(),c=fn;if(c!==null)return uE(o,c,a);Bn(),o=o.memoizedState,c=Bn();var h=c.queue.dispatch;return c.memoizedState=a,[o,h,!1]}function zl(a,o,c,h){return a={tag:a,create:o,inst:c,deps:h,next:null},o=Ot.updateQueue,o===null&&(o=Vf(),Ot.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,o.lastEffect=a),a}function dE(){return Bn().memoizedState}function Wf(a,o,c,h){var y=Pi();Ot.flags|=a,y.memoizedState=zl(1|o,c,{destroy:void 0},h===void 0?null:h)}function Yf(a,o,c,h){var y=Bn();h=h===void 0?null:h;var E=y.memoizedState.inst;fn!==null&&h!==null&&nv(h,fn.memoizedState.deps)?y.memoizedState=zl(o,c,E,h):(Ot.flags|=a,y.memoizedState=zl(1|o,c,E,h))}function fE(a,o){Wf(8390656,8,a,o)}function fv(a,o){Yf(2048,8,a,o)}function hE(a,o){return Yf(4,2,a,o)}function pE(a,o){return Yf(4,4,a,o)}function mE(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function gE(a,o,c){c=c!=null?c.concat([a]):null,Yf(4,4,mE.bind(null,o,a),c)}function hv(){}function vE(a,o){var c=Bn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&nv(o,h[1])?h[0]:(c.memoizedState=[a,o],a)}function yE(a,o){var c=Bn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&nv(o,h[1]))return h[0];if(h=a(),Eo){ft(!0);try{a()}finally{ft(!1)}}return c.memoizedState=[h,o],h}function pv(a,o,c){return c===void 0||gs&1073741824?a.memoizedState=o:(a.memoizedState=c,a=bw(),Ot.lanes|=a,Ts|=a,c)}function _E(a,o,c,h){return ji(c,o)?c:Nl.current!==null?(a=pv(a,c,h),ji(a,o)||(ei=!0),a):gs&42?(a=bw(),Ot.lanes|=a,Ts|=a,o):(ei=!0,a.memoizedState=c)}function bE(a,o,c,h,y){var E=V.p;V.p=E!==0&&8>E?E:8;var P=A.T,B={};A.T=B,vv(a,!1,o,c);try{var q=y(),se=A.S;if(se!==null&&se(B,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var Me=fI(q,h);Oc(a,o,Me,$i(a))}else Oc(a,o,h,$i(a))}catch(De){Oc(a,o,{then:function(){},status:"rejected",reason:De},$i())}finally{V.p=E,A.T=P}}function vI(){}function mv(a,o,c,h){if(a.tag!==5)throw Error(i(476));var y=xE(a).queue;bE(a,y,o,W,c===null?vI:function(){return SE(a),c(h)})}function xE(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function SE(a){var o=xE(a).next.queue;Oc(a,o,{},$i())}function gv(){return vi(Qc)}function EE(){return Bn().memoizedState}function wE(){return Bn().memoizedState}function yI(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=$i();a=bs(c);var h=xs(o,a,c);h!==null&&(wi(h,o,c),Nc(h,o,c)),o={cache:Jg()},a.payload=o;return}o=o.return}}function _I(a,o,c){var h=$i();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},qf(a)?TE(o,c):(c=Yg(a,o,c,h),c!==null&&(wi(c,a,h),CE(c,o,h)))}function ME(a,o,c){var h=$i();Oc(a,o,c,h)}function Oc(a,o,c,h){var y={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(qf(a))TE(o,y);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var P=o.lastRenderedState,B=E(P,c);if(y.hasEagerState=!0,y.eagerState=B,ji(B,P))return Df(a,o,y,0),yn===null&&Rf(),!1}catch{}finally{}if(c=Yg(a,o,y,h),c!==null)return wi(c,a,h),CE(c,o,h),!0}return!1}function vv(a,o,c,h){if(h={lane:2,revertLane:sy(),action:h,hasEagerState:!1,eagerState:null,next:null},qf(a)){if(o)throw Error(i(479))}else o=Yg(a,c,h,2),o!==null&&wi(o,a,2)}function qf(a){var o=a.alternate;return a===Ot||o!==null&&o===Ot}function TE(a,o){Fl=zf=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function CE(a,o,c){if(c&4194176){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,jn(a,c)}}var jr={readContext:vi,use:Gf,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn};jr.useCacheRefresh=Nn,jr.useMemoCache=Nn,jr.useHostTransitionStatus=Nn,jr.useFormState=Nn,jr.useActionState=Nn,jr.useOptimistic=Nn;var wo={readContext:vi,use:Gf,useCallback:function(a,o){return Pi().memoizedState=[a,o===void 0?null:o],a},useContext:vi,useEffect:fE,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Wf(4194308,4,mE.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Wf(4194308,4,a,o)},useInsertionEffect:function(a,o){Wf(4,2,a,o)},useMemo:function(a,o){var c=Pi();o=o===void 0?null:o;var h=a();if(Eo){ft(!0);try{a()}finally{ft(!1)}}return c.memoizedState=[h,o],h},useReducer:function(a,o,c){var h=Pi();if(c!==void 0){var y=c(o);if(Eo){ft(!0);try{c(o)}finally{ft(!1)}}}else y=o;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=_I.bind(null,Ot,a),[h.memoizedState,a]},useRef:function(a){var o=Pi();return a={current:a},o.memoizedState=a},useState:function(a){a=cv(a);var o=a.queue,c=ME.bind(null,Ot,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:hv,useDeferredValue:function(a,o){var c=Pi();return pv(c,a,o)},useTransition:function(){var a=cv(!1);return a=bE.bind(null,Ot,a.queue,!0,!1),Pi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var h=Ot,y=Pi();if($t){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),yn===null)throw Error(i(349));Gt&60||KS(h,o,c)}y.memoizedState=c;var E={value:c,getSnapshot:o};return y.queue=E,fE(QS.bind(null,h,E,a),[a]),h.flags|=2048,zl(9,ZS.bind(null,h,E,c,o),{destroy:void 0},null),c},useId:function(){var a=Pi(),o=yn.identifierPrefix;if($t){var c=xa,h=ba;c=(h&~(1<<32-it(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Hf++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=hI++,o=":"+o+"r"+c.toString(32)+":";return a.memoizedState=o},useCacheRefresh:function(){return Pi().memoizedState=yI.bind(null,Ot)}};wo.useMemoCache=ov,wo.useHostTransitionStatus=gv,wo.useFormState=oE,wo.useActionState=oE,wo.useOptimistic=function(a){var o=Pi();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=vv.bind(null,Ot,!0,c),c.dispatch=o,[a,o]};var vs={readContext:vi,use:Gf,useCallback:vE,useContext:vi,useEffect:fv,useImperativeHandle:gE,useInsertionEffect:hE,useLayoutEffect:pE,useMemo:yE,useReducer:jf,useRef:dE,useState:function(){return jf(Ea)},useDebugValue:hv,useDeferredValue:function(a,o){var c=Bn();return _E(c,fn.memoizedState,a,o)},useTransition:function(){var a=jf(Ea)[0],o=Bn().memoizedState;return[typeof a=="boolean"?a:Lc(a),o]},useSyncExternalStore:XS,useId:EE};vs.useCacheRefresh=wE,vs.useMemoCache=ov,vs.useHostTransitionStatus=gv,vs.useFormState=lE,vs.useActionState=lE,vs.useOptimistic=function(a,o){var c=Bn();return tE(c,fn,a,o)};var Mo={readContext:vi,use:Gf,useCallback:vE,useContext:vi,useEffect:fv,useImperativeHandle:gE,useInsertionEffect:hE,useLayoutEffect:pE,useMemo:yE,useReducer:uv,useRef:dE,useState:function(){return uv(Ea)},useDebugValue:hv,useDeferredValue:function(a,o){var c=Bn();return fn===null?pv(c,a,o):_E(c,fn.memoizedState,a,o)},useTransition:function(){var a=uv(Ea)[0],o=Bn().memoizedState;return[typeof a=="boolean"?a:Lc(a),o]},useSyncExternalStore:XS,useId:EE};Mo.useCacheRefresh=wE,Mo.useMemoCache=ov,Mo.useHostTransitionStatus=gv,Mo.useFormState=cE,Mo.useActionState=cE,Mo.useOptimistic=function(a,o){var c=Bn();return fn!==null?tE(c,fn,a,o):(c.baseState=a,[a,c.queue.dispatch])};function yv(a,o,c,h){o=a.memoizedState,c=c(h,o),c=c==null?o:R({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var _v={isMounted:function(a){return(a=a._reactInternals)?G(a)===a:!1},enqueueSetState:function(a,o,c){a=a._reactInternals;var h=$i(),y=bs(h);y.payload=o,c!=null&&(y.callback=c),o=xs(a,y,h),o!==null&&(wi(o,a,h),Nc(o,a,h))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var h=$i(),y=bs(h);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=xs(a,y,h),o!==null&&(wi(o,a,h),Nc(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=$i(),h=bs(c);h.tag=2,o!=null&&(h.callback=o),o=xs(a,h,c),o!==null&&(wi(o,a,c),Nc(o,a,c))}};function AE(a,o,c,h,y,E,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,E,P):o.prototype&&o.prototype.isPureReactComponent?!_c(c,h)||!_c(y,E):!0}function RE(a,o,c,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==a&&_v.enqueueReplaceState(o,o.state,null)}function To(a,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(a=a.defaultProps){c===o&&(c=R({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}var $f=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function DE(a){$f(a)}function LE(a){console.error(a)}function OE(a){$f(a)}function Xf(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function PE(a,o,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function bv(a,o,c){return c=bs(c),c.tag=3,c.payload={element:null},c.callback=function(){Xf(a,o)},c}function IE(a){return a=bs(a),a.tag=3,a}function NE(a,o,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var E=h.value;a.payload=function(){return y(E)},a.callback=function(){PE(o,c,h)}}var P=c.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){PE(o,c,h),typeof y!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})})}function bI(a,o,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Ic(o,c,y,!0),c=lr.current,c!==null){switch(c.tag){case 13:return Gr===null?ty():c.alternate===null&&Ln===0&&(Ln=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===Kg?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),iy(a,h,y)),!1;case 22:return c.flags|=65536,h===Kg?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),iy(a,h,y)),!1}throw Error(i(435,c.tag))}return iy(a,h,y),ty(),!1}if($t)return o=lr.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==Xg&&(a=Error(i(422),{cause:h}),Ec(ar(a,c)))):(h!==Xg&&(o=Error(i(423),{cause:h}),Ec(ar(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=ar(h,c),y=bv(a.stateNode,h,y),Nv(a,y),Ln!==4&&(Ln=2)),!1;var E=Error(i(520),{cause:h});if(E=ar(E,c),Gc===null?Gc=[E]:Gc.push(E),Ln!==4&&(Ln=2),o===null)return!0;h=ar(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=bv(c.stateNode,h,a),Nv(c,a),!1;case 1:if(o=c.type,E=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Cs===null||!Cs.has(E))))return c.flags|=65536,y&=-y,c.lanes|=y,y=IE(y),NE(y,a,c,h),Nv(c,y),!1}c=c.return}while(c!==null);return!1}var kE=Error(i(461)),ei=!1;function fi(a,o,c,h){o.child=a===null?HS(o,null,c,h):xo(o,a.child,c,h)}function UE(a,o,c,h,y){c=c.render;var E=o.ref;if("ref"in h){var P={};for(var B in h)B!=="ref"&&(P[B]=h[B])}else P=h;return Ao(o),h=iv(a,o,c,P,E,y),B=rv(),a!==null&&!ei?(av(a,o,y),wa(a,o,y)):($t&&B&&qg(o),o.flags|=1,fi(a,o,h,y),o.child)}function FE(a,o,c,h,y){if(a===null){var E=c.type;return typeof E=="function"&&!Gv(E)&&E.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=E,BE(a,o,E,h,y)):(a=eh(c.type,null,h,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(E=a.child,!Rv(a,y)){var P=E.memoizedProps;if(c=c.compare,c=c!==null?c:_c,c(P,h)&&a.ref===o.ref)return wa(a,o,y)}return o.flags|=1,a=Ms(E,h),a.ref=o.ref,a.return=o,o.child=a}function BE(a,o,c,h,y){if(a!==null){var E=a.memoizedProps;if(_c(E,h)&&a.ref===o.ref)if(ei=!1,o.pendingProps=h=E,Rv(a,y))a.flags&131072&&(ei=!0);else return o.lanes=a.lanes,wa(a,o,y)}return xv(a,o,c,h,y)}function zE(a,o,c){var h=o.pendingProps,y=h.children,E=(o.stateNode._pendingVisibility&2)!==0,P=a!==null?a.memoizedState:null;if(Pc(a,o),h.mode==="hidden"||E){if(o.flags&128){if(h=P!==null?P.baseLanes|c:c,a!==null){for(y=o.child=a.child,E=0;y!==null;)E=E|y.lanes|y.childLanes,y=y.sibling;o.childLanes=E&~h}else o.childLanes=0,o.child=null;return HE(a,o,h,c)}if(c&536870912)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Bf(o,P!==null?P.cachePool:null),P!==null?VS(o,P):Zg(),GS(o);else return o.lanes=o.childLanes=536870912,HE(a,o,P!==null?P.baseLanes|c:c,c)}else P!==null?(Bf(o,P.cachePool),VS(o,P),ms(),o.memoizedState=null):(a!==null&&Bf(o,null),Zg(),ms());return fi(a,o,y,c),o.child}function HE(a,o,c,h){var y=tv();return y=y===null?null:{parent:Xn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},a!==null&&Bf(o,null),Zg(),GS(o),a!==null&&Ic(a,o,h,!0),null}function Pc(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(a===null||a.ref!==c)&&(o.flags|=2097664)}}function xv(a,o,c,h,y){return Ao(o),c=iv(a,o,c,h,void 0,y),h=rv(),a!==null&&!ei?(av(a,o,y),wa(a,o,y)):($t&&h&&qg(o),o.flags|=1,fi(a,o,c,y),o.child)}function VE(a,o,c,h,y,E){return Ao(o),o.updateQueue=null,c=$S(o,h,c,y),qS(a),h=rv(),a!==null&&!ei?(av(a,o,E),wa(a,o,E)):($t&&h&&qg(o),o.flags|=1,fi(a,o,c,E),o.child)}function GE(a,o,c,h,y){if(Ao(o),o.stateNode===null){var E=Ll,P=c.contextType;typeof P=="object"&&P!==null&&(E=vi(P)),E=new c(h,E),o.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=_v,o.stateNode=E,E._reactInternals=o,E=o.stateNode,E.props=h,E.state=o.memoizedState,E.refs={},Pv(o),P=c.contextType,E.context=typeof P=="object"&&P!==null?vi(P):Ll,E.state=o.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(yv(o,c,P,h),E.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(P=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),P!==E.state&&_v.enqueueReplaceState(E,E.state,null),Uc(o,h,E,y),kc(),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){E=o.stateNode;var B=o.memoizedProps,q=To(c,B);E.props=q;var se=E.context,Me=c.contextType;P=Ll,typeof Me=="object"&&Me!==null&&(P=vi(Me));var De=c.getDerivedStateFromProps;Me=typeof De=="function"||typeof E.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,Me||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(B||se!==P)&&RE(o,E,h,P),_s=!1;var _e=o.memoizedState;E.state=_e,Uc(o,h,E,y),kc(),se=o.memoizedState,B||_e!==se||_s?(typeof De=="function"&&(yv(o,c,De,h),se=o.memoizedState),(q=_s||AE(o,c,q,h,_e,se,P))?(Me||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=se),E.props=h,E.state=se,E.context=P,h=q):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Iv(a,o),P=o.memoizedProps,Me=To(c,P),E.props=Me,De=o.pendingProps,_e=E.context,se=c.contextType,q=Ll,typeof se=="object"&&se!==null&&(q=vi(se)),B=c.getDerivedStateFromProps,(se=typeof B=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==De||_e!==q)&&RE(o,E,h,q),_s=!1,_e=o.memoizedState,E.state=_e,Uc(o,h,E,y),kc();var Ee=o.memoizedState;P!==De||_e!==Ee||_s||a!==null&&a.dependencies!==null&&Kf(a.dependencies)?(typeof B=="function"&&(yv(o,c,B,h),Ee=o.memoizedState),(Me=_s||AE(o,c,Me,h,_e,Ee,q)||a!==null&&a.dependencies!==null&&Kf(a.dependencies))?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,Ee,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,Ee,q)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===a.memoizedProps&&_e===a.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&_e===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ee),E.props=h,E.state=Ee,E.context=q,h=Me):(typeof E.componentDidUpdate!="function"||P===a.memoizedProps&&_e===a.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&_e===a.memoizedState||(o.flags|=1024),h=!1)}return E=h,Pc(a,o),h=(o.flags&128)!==0,E||h?(E=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:E.render(),o.flags|=1,a!==null&&h?(o.child=xo(o,a.child,null,y),o.child=xo(o,null,c,y)):fi(a,o,c,y),o.memoizedState=E.state,a=o.child):a=wa(a,o,y),a}function jE(a,o,c,h){return Sc(),o.flags|=256,fi(a,o,c,h),o.child}var Sv={dehydrated:null,treeContext:null,retryLane:0};function Ev(a){return{baseLanes:a,cachePool:YS()}}function wv(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=fr),a}function WE(a,o,c){var h=o.pendingProps,y=!1,E=(o.flags&128)!==0,P;if((P=E)||(P=a!==null&&a.memoizedState===null?!1:($n.current&2)!==0),P&&(y=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,a===null){if($t){if(y?ps(o):ms(),$t){var B=di,q;if(q=B){e:{for(q=B,B=Vr;q.nodeType!==8;){if(!B){B=null;break e}if(q=Rr(q.nextSibling),q===null){B=null;break e}}B=q}B!==null?(o.memoizedState={dehydrated:B,treeContext:yo!==null?{id:ba,overflow:xa}:null,retryLane:536870912},q=dr(18,null,null,0),q.stateNode=B,q.return=o,o.child=q,Ei=o,di=null,q=!0):q=!1}q||bo(o)}if(B=o.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return B.data==="$!"?o.lanes=16:o.lanes=536870912,null;Sa(o)}return B=h.children,h=h.fallback,y?(ms(),y=o.mode,B=Tv({mode:"hidden",children:B},y),h=Do(h,y,c,null),B.return=o,h.return=o,B.sibling=h,o.child=B,y=o.child,y.memoizedState=Ev(c),y.childLanes=wv(a,P,c),o.memoizedState=Sv,h):(ps(o),Mv(o,B))}if(q=a.memoizedState,q!==null&&(B=q.dehydrated,B!==null)){if(E)o.flags&256?(ps(o),o.flags&=-257,o=Cv(a,o,c)):o.memoizedState!==null?(ms(),o.child=a.child,o.flags|=128,o=null):(ms(),y=h.fallback,B=o.mode,h=Tv({mode:"visible",children:h.children},B),y=Do(y,B,c,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,xo(o,a.child,null,c),h=o.child,h.memoizedState=Ev(c),h.childLanes=wv(a,P,c),o.memoizedState=Sv,o=y);else if(ps(o),B.data==="$!"){if(P=B.nextSibling&&B.nextSibling.dataset,P)var se=P.dgst;P=se,h=Error(i(419)),h.stack="",h.digest=P,Ec({value:h,source:null,stack:null}),o=Cv(a,o,c)}else if(ei||Ic(a,o,c,!1),P=(c&a.childLanes)!==0,ei||P){if(P=yn,P!==null){if(h=c&-c,h&42)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=h&(P.suspendedLanes|c)?0:h,h!==0&&h!==q.retryLane)throw q.retryLane=h,hs(a,h),wi(P,a,h),kE}B.data==="$?"||ty(),o=Cv(a,o,c)}else B.data==="$?"?(o.flags|=128,o.child=a.child,o=NI.bind(null,a),B._reactRetry=o,o=null):(a=q.treeContext,di=Rr(B.nextSibling),Ei=o,$t=!0,Cr=null,Vr=!1,a!==null&&(sr[or++]=ba,sr[or++]=xa,sr[or++]=yo,ba=a.id,xa=a.overflow,yo=o),o=Mv(o,h.children),o.flags|=4096);return o}return y?(ms(),y=h.fallback,B=o.mode,q=a.child,se=q.sibling,h=Ms(q,{mode:"hidden",children:h.children}),h.subtreeFlags=q.subtreeFlags&31457280,se!==null?y=Ms(se,y):(y=Do(y,B,c,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,B=a.child.memoizedState,B===null?B=Ev(c):(q=B.cachePool,q!==null?(se=Xn._currentValue,q=q.parent!==se?{parent:se,pool:se}:q):q=YS(),B={baseLanes:B.baseLanes|c,cachePool:q}),y.memoizedState=B,y.childLanes=wv(a,P,c),o.memoizedState=Sv,h):(ps(o),c=a.child,a=c.sibling,c=Ms(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,a!==null&&(P=o.deletions,P===null?(o.deletions=[a],o.flags|=16):P.push(a)),o.child=c,o.memoizedState=null,c)}function Mv(a,o){return o=Tv({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Tv(a,o){return vw(a,o,0,null)}function Cv(a,o,c){return xo(o,a.child,null,c),a=Mv(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function YE(a,o,c){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Lv(a.return,o,c)}function Av(a,o,c,h,y){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=c,E.tailMode=y)}function qE(a,o,c){var h=o.pendingProps,y=h.revealOrder,E=h.tail;if(fi(a,o,h.children,c),h=$n.current,h&2)h=h&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&YE(a,c,o);else if(a.tag===19)YE(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}switch(ge($n,h),y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&Ff(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Av(o,!1,y,c,E);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Ff(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Av(o,!0,c,null,E);break;case"together":Av(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function wa(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ts|=o.lanes,!(c&o.childLanes))if(a!==null){if(Ic(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,c=Ms(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Ms(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Rv(a,o){return a.lanes&o?!0:(a=a.dependencies,!!(a!==null&&Kf(a)))}function xI(a,o,c){switch(o.tag){case 3:Je(o,o.stateNode.containerInfo),ys(o,Xn,a.memoizedState.cache),Sc();break;case 27:case 5:pt(o);break;case 4:Je(o,o.stateNode.containerInfo);break;case 10:ys(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ps(o),o.flags|=128,null):c&o.child.childLanes?WE(a,o,c):(ps(o),a=wa(a,o,c),a!==null?a.sibling:null);ps(o);break;case 19:var y=(a.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Ic(a,o,c,!1),h=(c&o.childLanes)!==0),y){if(h)return qE(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ge($n,$n.current),h)break;return null;case 22:case 23:return o.lanes=0,zE(a,o,c);case 24:ys(o,Xn,a.memoizedState.cache)}return wa(a,o,c)}function $E(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)ei=!0;else{if(!Rv(a,c)&&!(o.flags&128))return ei=!1,xI(a,o,c);ei=!!(a.flags&131072)}else ei=!1,$t&&o.flags&1048576&&OS(o,Pf,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var h=o.elementType,y=h._init;if(h=y(h._payload),o.type=h,typeof h=="function")Gv(h)?(a=To(h,a),o.tag=1,o=GE(null,o,h,a,c)):(o.tag=0,o=xv(null,o,h,a,c));else{if(h!=null){if(y=h.$$typeof,y===_){o.tag=11,o=UE(null,o,h,a,c);break e}else if(y===b){o.tag=14,o=FE(null,o,h,a,c);break e}}throw o=I(h)||h,Error(i(306,o,""))}}return o;case 0:return xv(a,o,o.type,o.pendingProps,c);case 1:return h=o.type,y=To(h,o.pendingProps),GE(a,o,h,y,c);case 3:e:{if(Je(o,o.stateNode.containerInfo),a===null)throw Error(i(387));var E=o.pendingProps;y=o.memoizedState,h=y.element,Iv(a,o),Uc(o,E,null,c);var P=o.memoizedState;if(E=P.cache,ys(o,Xn,E),E!==y.cache&&Ov(o,[Xn],c,!0),kc(),E=P.element,y.isDehydrated)if(y={element:E,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=jE(a,o,E,c);break e}else if(E!==h){h=ar(Error(i(424)),o),Ec(h),o=jE(a,o,E,c);break e}else for(di=Rr(o.stateNode.containerInfo.firstChild),Ei=o,$t=!0,Cr=null,Vr=!0,c=HS(o,null,E,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Sc(),E===h){o=wa(a,o,c);break e}fi(a,o,E,c)}o=o.child}return o;case 26:return Pc(a,o),a===null?(c=Zw(o.type,null,o.pendingProps,null))?o.memoizedState=c:$t||(c=o.type,a=o.pendingProps,h=fh($e.current).createElement(c),h[Wn]=o,h[Yn]=a,hi(h,c,a),pe(h),o.stateNode=h):o.memoizedState=Zw(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return pt(o),a===null&&$t&&(h=o.stateNode=$w(o.type,o.pendingProps,$e.current),Ei=o,Vr=!0,di=Rr(h.firstChild)),h=o.pendingProps.children,a!==null||$t?fi(a,o,h,c):o.child=xo(o,null,h,c),Pc(a,o),o.child;case 5:return a===null&&$t&&((y=h=di)&&(h=ZI(h,o.type,o.pendingProps,Vr),h!==null?(o.stateNode=h,Ei=o,di=Rr(h.firstChild),Vr=!1,y=!0):y=!1),y||bo(o)),pt(o),y=o.type,E=o.pendingProps,P=a!==null?a.memoizedProps:null,h=E.children,my(y,E)?h=null:P!==null&&my(y,P)&&(o.flags|=32),o.memoizedState!==null&&(y=iv(a,o,pI,null,null,c),Qc._currentValue=y),Pc(a,o),fi(a,o,h,c),o.child;case 6:return a===null&&$t&&((a=c=di)&&(c=QI(c,o.pendingProps,Vr),c!==null?(o.stateNode=c,Ei=o,di=null,a=!0):a=!1),a||bo(o)),null;case 13:return WE(a,o,c);case 4:return Je(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=xo(o,null,h,c):fi(a,o,h,c),o.child;case 11:return UE(a,o,o.type,o.pendingProps,c);case 7:return fi(a,o,o.pendingProps,c),o.child;case 8:return fi(a,o,o.pendingProps.children,c),o.child;case 12:return fi(a,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,ys(o,o.type,h.value),fi(a,o,h.children,c),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Ao(o),y=vi(y),h=h(y),o.flags|=1,fi(a,o,h,c),o.child;case 14:return FE(a,o,o.type,o.pendingProps,c);case 15:return BE(a,o,o.type,o.pendingProps,c);case 19:return qE(a,o,c);case 22:return zE(a,o,c);case 24:return Ao(o),h=vi(Xn),a===null?(y=tv(),y===null&&(y=yn,E=Jg(),y.pooledCache=E,E.refCount++,E!==null&&(y.pooledCacheLanes|=c),y=E),o.memoizedState={parent:h,cache:y},Pv(o),ys(o,Xn,y)):(a.lanes&c&&(Iv(a,o),Uc(o,null,null,c),kc()),y=a.memoizedState,E=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ys(o,Xn,h)):(h=E.cache,ys(o,Xn,h),h!==y.cache&&Ov(o,[Xn],c,!0))),fi(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}var Dv=he(null),Co=null,Ma=null;function ys(a,o,c){ge(Dv,o._currentValue),o._currentValue=c}function Ta(a){a._currentValue=Dv.current,Ae(Dv)}function Lv(a,o,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===c)break;a=a.return}}function Ov(a,o,c,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var E=y.dependencies;if(E!==null){var P=y.child;E=E.firstContext;e:for(;E!==null;){var B=E;E=y;for(var q=0;q<o.length;q++)if(B.context===o[q]){E.lanes|=c,B=E.alternate,B!==null&&(B.lanes|=c),Lv(E.return,c,a),h||(P=null);break e}E=B.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(i(341));P.lanes|=c,E=P.alternate,E!==null&&(E.lanes|=c),Lv(P,c,a),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===a){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function Ic(a,o,c,h){a=null;for(var y=o,E=!1;y!==null;){if(!E){if(y.flags&524288)E=!0;else if(y.flags&262144)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var B=y.type;ji(y.pendingProps.value,P.value)||(a!==null?a.push(B):a=[B])}}else if(y===Q.current){if(P=y.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Qc):a=[Qc])}y=y.return}a!==null&&Ov(o,a,c,h),o.flags|=262144}function Kf(a){for(a=a.firstContext;a!==null;){if(!ji(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ao(a){Co=a,Ma=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function vi(a){return XE(Co,a)}function Zf(a,o){return Co===null&&Ao(a),XE(a,o)}function XE(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ma===null){if(a===null)throw Error(i(308));Ma=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ma=Ma.next=o;return c}var _s=!1;function Pv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iv(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function bs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function xs(a,o,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,Mn&2){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Lf(a),DS(a,null,c),o}return Df(a,h,o,c),Lf(a)}function Nc(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194176)!==0)){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,jn(a,c)}}function Nv(a,o){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var P={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};E===null?y=E=P:E=E.next=P,c=c.next}while(c!==null);E===null?y=E=o:E=E.next=o}else y=E=o;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var kv=!1;function kc(){if(kv){var a=Ul;if(a!==null)throw a}}function Uc(a,o,c,h){kv=!1;var y=a.updateQueue;_s=!1;var E=y.firstBaseUpdate,P=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var q=B,se=q.next;q.next=null,P===null?E=se:P.next=se,P=q;var Me=a.alternate;Me!==null&&(Me=Me.updateQueue,B=Me.lastBaseUpdate,B!==P&&(B===null?Me.firstBaseUpdate=se:B.next=se,Me.lastBaseUpdate=q))}if(E!==null){var De=y.baseState;P=0,Me=se=q=null,B=E;do{var _e=B.lane&-536870913,Ee=_e!==B.lane;if(Ee?(Gt&_e)===_e:(h&_e)===_e){_e!==0&&_e===kl&&(kv=!0),Me!==null&&(Me=Me.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var at=a,Mt=B;_e=o;var On=c;switch(Mt.tag){case 1:if(at=Mt.payload,typeof at=="function"){De=at.call(On,De,_e);break e}De=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=Mt.payload,_e=typeof at=="function"?at.call(On,De,_e):at,_e==null)break e;De=R({},De,_e);break e;case 2:_s=!0}}_e=B.callback,_e!==null&&(a.flags|=64,Ee&&(a.flags|=8192),Ee=y.callbacks,Ee===null?y.callbacks=[_e]:Ee.push(_e))}else Ee={lane:_e,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Me===null?(se=Me=Ee,q=De):Me=Me.next=Ee,P|=_e;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;Ee=B,B=Ee.next,Ee.next=null,y.lastBaseUpdate=Ee,y.shared.pending=null}}while(!0);Me===null&&(q=De),y.baseState=q,y.firstBaseUpdate=se,y.lastBaseUpdate=Me,E===null&&(y.shared.lanes=0),Ts|=P,a.lanes=P,a.memoizedState=De}}function KE(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function ZE(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)KE(c[a],o)}function Fc(a,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&a)===a){h=void 0;var E=c.create,P=c.inst;h=E(),P.destroy=h}c=c.next}while(c!==y)}}catch(B){gn(o,o.return,B)}}function Ss(a,o,c){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var E=y.next;h=E;do{if((h.tag&a)===a){var P=h.inst,B=P.destroy;if(B!==void 0){P.destroy=void 0,y=o;var q=c;try{B()}catch(se){gn(y,q,se)}}}h=h.next}while(h!==E)}}catch(se){gn(o,o.return,se)}}function QE(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{ZE(o,c)}catch(h){gn(a,a.return,h)}}}function JE(a,o,c){c.props=To(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){gn(a,o,h)}}function Ro(a,o){try{var c=a.ref;if(c!==null){var h=a.stateNode;switch(a.tag){case 26:case 27:case 5:var y=h;break;default:y=h}typeof c=="function"?a.refCleanup=c(y):c.current=y}}catch(E){gn(a,o,E)}}function Wi(a,o){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){gn(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){gn(a,o,y)}else c.current=null}function ew(a){var o=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){gn(a,a.return,y)}}function tw(a,o,c){try{var h=a.stateNode;YI(h,a.type,c,o),h[Yn]=o}catch(y){gn(a,a.return,y)}}function nw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function Uv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||nw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Fv(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(a,o):c.insertBefore(a,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(a,c)):(o=c,o.appendChild(a)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=dh));else if(h!==4&&h!==27&&(a=a.child,a!==null))for(Fv(a,o,c),a=a.sibling;a!==null;)Fv(a,o,c),a=a.sibling}function Qf(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(h!==4&&h!==27&&(a=a.child,a!==null))for(Qf(a,o,c),a=a.sibling;a!==null;)Qf(a,o,c),a=a.sibling}var Ca=!1,Dn=!1,Bv=!1,iw=typeof WeakSet=="function"?WeakSet:Set,ti=null,rw=!1;function SI(a,o){if(a=a.containerInfo,hy=yh,a=xS(a),Hg(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var P=0,B=-1,q=-1,se=0,Me=0,De=a,_e=null;t:for(;;){for(var Ee;De!==c||y!==0&&De.nodeType!==3||(B=P+y),De!==E||h!==0&&De.nodeType!==3||(q=P+h),De.nodeType===3&&(P+=De.nodeValue.length),(Ee=De.firstChild)!==null;)_e=De,De=Ee;for(;;){if(De===a)break t;if(_e===c&&++se===y&&(B=P),_e===E&&++Me===h&&(q=P),(Ee=De.nextSibling)!==null)break;De=_e,_e=De.parentNode}De=Ee}c=B===-1||q===-1?null:{start:B,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(py={focusedElem:a,selectionRange:c},yh=!1,ti=o;ti!==null;)if(o=ti,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,ti=a;else for(;ti!==null;){switch(o=ti,E=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(a&1024&&E!==null){a=void 0,c=o,y=E.memoizedProps,E=E.memoizedState,h=c.stateNode;try{var at=To(c.type,y,c.elementType===c.type);a=h.getSnapshotBeforeUpdate(at,E),h.__reactInternalSnapshotBeforeUpdate=a}catch(Mt){gn(c,c.return,Mt)}}break;case 3:if(a&1024){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)yy(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":yy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(a&1024)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,ti=a;break}ti=o.return}return at=rw,rw=!1,at}function aw(a,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ra(a,c),h&4&&Fc(5,c);break;case 1:if(Ra(a,c),h&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(B){gn(c,c.return,B)}else{var y=To(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(B){gn(c,c.return,B)}}h&64&&QE(c),h&512&&Ro(c,c.return);break;case 3:if(Ra(a,c),h&64&&(h=c.updateQueue,h!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{ZE(h,a)}catch(B){gn(c,c.return,B)}}break;case 26:Ra(a,c),h&512&&Ro(c,c.return);break;case 27:case 5:Ra(a,c),o===null&&h&4&&ew(c),h&512&&Ro(c,c.return);break;case 12:Ra(a,c);break;case 13:Ra(a,c),h&4&&lw(a,c);break;case 22:if(y=c.memoizedState!==null||Ca,!y){o=o!==null&&o.memoizedState!==null||Dn;var E=Ca,P=Dn;Ca=y,(Dn=o)&&!P?Es(a,c,(c.subtreeFlags&8772)!==0):Ra(a,c),Ca=E,Dn=P}h&512&&(c.memoizedProps.mode==="manual"?Ro(c,c.return):Wi(c,c.return));break;default:Ra(a,c)}}function sw(a){var o=a.alternate;o!==null&&(a.alternate=null,sw(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&dc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var zn=null,Yi=!1;function Aa(a,o,c){for(c=c.child;c!==null;)ow(a,o,c),c=c.sibling}function ow(a,o,c){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(et,c)}catch{}switch(c.tag){case 26:Dn||Wi(c,o),Aa(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Dn||Wi(c,o);var h=zn,y=Yi;for(zn=c.stateNode,Aa(a,o,c),c=c.stateNode,o=c.attributes;o.length;)c.removeAttributeNode(o[0]);dc(c),zn=h,Yi=y;break;case 5:Dn||Wi(c,o);case 6:y=zn;var E=Yi;if(zn=null,Aa(a,o,c),zn=y,Yi=E,zn!==null)if(Yi)try{a=zn,h=c.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)}catch(P){gn(c,o,P)}else try{zn.removeChild(c.stateNode)}catch(P){gn(c,o,P)}break;case 18:zn!==null&&(Yi?(o=zn,c=c.stateNode,o.nodeType===8?vy(o.parentNode,c):o.nodeType===1&&vy(o,c),nd(o)):vy(zn,c.stateNode));break;case 4:h=zn,y=Yi,zn=c.stateNode.containerInfo,Yi=!0,Aa(a,o,c),zn=h,Yi=y;break;case 0:case 11:case 14:case 15:Dn||Ss(2,c,o),Dn||Ss(4,c,o),Aa(a,o,c);break;case 1:Dn||(Wi(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&JE(c,o,h)),Aa(a,o,c);break;case 21:Aa(a,o,c);break;case 22:Dn||Wi(c,o),Dn=(h=Dn)||c.memoizedState!==null,Aa(a,o,c),Dn=h;break;default:Aa(a,o,c)}}function lw(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{nd(a)}catch(c){gn(o,o.return,c)}}function EI(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new iw),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new iw),o;default:throw Error(i(435,a.tag))}}function zv(a,o){var c=EI(a);o.forEach(function(h){var y=kI.bind(null,a,h);c.has(h)||(c.add(h),h.then(y,y))})}function ur(a,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],E=a,P=o,B=P;e:for(;B!==null;){switch(B.tag){case 27:case 5:zn=B.stateNode,Yi=!1;break e;case 3:zn=B.stateNode.containerInfo,Yi=!0;break e;case 4:zn=B.stateNode.containerInfo,Yi=!0;break e}B=B.return}if(zn===null)throw Error(i(160));ow(E,P,y),zn=null,Yi=!1,E=y.alternate,E!==null&&(E.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)uw(o,a),o=o.sibling}var Ar=null;function uw(a,o){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ur(o,a),cr(a),h&4&&(Ss(3,a,a.return),Fc(3,a),Ss(5,a,a.return));break;case 1:ur(o,a),cr(a),h&512&&(Dn||c===null||Wi(c,c.return)),h&64&&Ca&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=Ar;if(ur(o,a),cr(a),h&512&&(Dn||c===null||Wi(c,c.return)),h&4){var E=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":E=y.getElementsByTagName("title")[0],(!E||E[po]||E[Wn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=y.createElement(h),y.head.insertBefore(E,y.querySelector("head > title"))),hi(E,h,c),E[Wn]=a,pe(E),h=E;break e;case"link":var P=eM("link","href",y).get(h+(c.href||""));if(P){for(var B=0;B<P.length;B++)if(E=P[B],E.getAttribute("href")===(c.href==null?null:c.href)&&E.getAttribute("rel")===(c.rel==null?null:c.rel)&&E.getAttribute("title")===(c.title==null?null:c.title)&&E.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){P.splice(B,1);break t}}E=y.createElement(h),hi(E,h,c),y.head.appendChild(E);break;case"meta":if(P=eM("meta","content",y).get(h+(c.content||""))){for(B=0;B<P.length;B++)if(E=P[B],E.getAttribute("content")===(c.content==null?null:""+c.content)&&E.getAttribute("name")===(c.name==null?null:c.name)&&E.getAttribute("property")===(c.property==null?null:c.property)&&E.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&E.getAttribute("charset")===(c.charSet==null?null:c.charSet)){P.splice(B,1);break t}}E=y.createElement(h),hi(E,h,c),y.head.appendChild(E);break;default:throw Error(i(468,h))}E[Wn]=a,pe(E),h=E}a.stateNode=h}else tM(y,a.type,a.stateNode);else a.stateNode=Jw(y,h,a.memoizedProps);else E!==h?(E===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):E.count--,h===null?tM(y,a.type,a.stateNode):Jw(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&tw(a,a.memoizedProps,c.memoizedProps)}break;case 27:if(h&4&&a.alternate===null){y=a.stateNode,E=a.memoizedProps;try{for(var q=y.firstChild;q;){var se=q.nextSibling,Me=q.nodeName;q[po]||Me==="HEAD"||Me==="BODY"||Me==="SCRIPT"||Me==="STYLE"||Me==="LINK"&&q.rel.toLowerCase()==="stylesheet"||y.removeChild(q),q=se}for(var De=a.type,_e=y.attributes;_e.length;)y.removeAttributeNode(_e[0]);hi(y,De,E),y[Wn]=a,y[Yn]=E}catch(at){gn(a,a.return,at)}}case 5:if(ur(o,a),cr(a),h&512&&(Dn||c===null||Wi(c,c.return)),a.flags&32){y=a.stateNode;try{Li(y,"")}catch(at){gn(a,a.return,at)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,tw(a,y,c!==null?c.memoizedProps:y)),h&1024&&(Bv=!0);break;case 6:if(ur(o,a),cr(a),h&4){if(a.stateNode===null)throw Error(i(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(at){gn(a,a.return,at)}}break;case 3:if(mh=null,y=Ar,Ar=hh(o.containerInfo),ur(o,a),Ar=y,cr(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{nd(o.containerInfo)}catch(at){gn(a,a.return,at)}Bv&&(Bv=!1,cw(a));break;case 4:h=Ar,Ar=hh(a.stateNode.containerInfo),ur(o,a),cr(a),Ar=h;break;case 12:ur(o,a),cr(a);break;case 13:ur(o,a),cr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Xv=we()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,zv(a,h)));break;case 22:if(h&512&&(Dn||c===null||Wi(c,c.return)),q=a.memoizedState!==null,se=c!==null&&c.memoizedState!==null,Me=Ca,De=Dn,Ca=Me||q,Dn=De||se,ur(o,a),Dn=De,Ca=Me,cr(a),o=a.stateNode,o._current=a,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,h&8192&&(o._visibility=q?o._visibility&-2:o._visibility|1,q&&(o=Ca||Dn,c===null||se||o||Hl(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(c=null,o=a;;){if(o.tag===5||o.tag===26||o.tag===27){if(c===null){se=c=o;try{if(y=se.stateNode,q)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{P=se.stateNode,B=se.memoizedProps.style;var Ee=B!=null&&B.hasOwnProperty("display")?B.display:null;P.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(at){gn(se,se.return,at)}}}else if(o.tag===6){if(c===null){se=o;try{se.stateNode.nodeValue=q?"":se.memoizedProps}catch(at){gn(se,se.return,at)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,zv(a,c))));break;case 19:ur(o,a),cr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,zv(a,h)));break;case 21:break;default:ur(o,a),cr(a)}}function cr(a){var o=a.flags;if(o&2){try{if(a.tag!==27){e:{for(var c=a.return;c!==null;){if(nw(c)){var h=c;break e}c=c.return}throw Error(i(160))}switch(h.tag){case 27:var y=h.stateNode,E=Uv(a);Qf(a,E,y);break;case 5:var P=h.stateNode;h.flags&32&&(Li(P,""),h.flags&=-33);var B=Uv(a);Qf(a,B,P);break;case 3:case 4:var q=h.stateNode.containerInfo,se=Uv(a);Fv(a,se,q);break;default:throw Error(i(161))}}}catch(Me){gn(a,a.return,Me)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function cw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;cw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ra(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)aw(a,o.alternate,o),o=o.sibling}function Hl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ss(4,o,o.return),Hl(o);break;case 1:Wi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&JE(o,o.return,c),Hl(o);break;case 26:case 27:case 5:Wi(o,o.return),Hl(o);break;case 22:Wi(o,o.return),o.memoizedState===null&&Hl(o);break;default:Hl(o)}a=a.sibling}}function Es(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=a,E=o,P=E.flags;switch(E.tag){case 0:case 11:case 15:Es(y,E,c),Fc(4,E);break;case 1:if(Es(y,E,c),h=E,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(se){gn(h,h.return,se)}if(h=E,y=h.updateQueue,y!==null){var B=h.stateNode;try{var q=y.shared.hiddenCallbacks;if(q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<q.length;y++)KE(q[y],B)}catch(se){gn(h,h.return,se)}}c&&P&64&&QE(E),Ro(E,E.return);break;case 26:case 27:case 5:Es(y,E,c),c&&h===null&&P&4&&ew(E),Ro(E,E.return);break;case 12:Es(y,E,c);break;case 13:Es(y,E,c),c&&P&4&&lw(y,E);break;case 22:E.memoizedState===null&&Es(y,E,c),Ro(E,E.return);break;default:Es(y,E,c)}o=o.sibling}}function Hv(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ac(c))}function Vv(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ac(a))}function ws(a,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dw(a,o,c,h),o=o.sibling}function dw(a,o,c,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ws(a,o,c,h),y&2048&&Fc(9,o);break;case 3:ws(a,o,c,h),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ac(a)));break;case 12:if(y&2048){ws(a,o,c,h),a=o.stateNode;try{var E=o.memoizedProps,P=E.id,B=E.onPostCommit;typeof B=="function"&&B(P,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(q){gn(o,o.return,q)}}else ws(a,o,c,h);break;case 23:break;case 22:E=o.stateNode,o.memoizedState!==null?E._visibility&4?ws(a,o,c,h):Bc(a,o):E._visibility&4?ws(a,o,c,h):(E._visibility|=4,Vl(a,o,c,h,(o.subtreeFlags&10256)!==0)),y&2048&&Hv(o.alternate,o);break;case 24:ws(a,o,c,h),y&2048&&Vv(o.alternate,o);break;default:ws(a,o,c,h)}}function Vl(a,o,c,h,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var E=a,P=o,B=c,q=h,se=P.flags;switch(P.tag){case 0:case 11:case 15:Vl(E,P,B,q,y),Fc(8,P);break;case 23:break;case 22:var Me=P.stateNode;P.memoizedState!==null?Me._visibility&4?Vl(E,P,B,q,y):Bc(E,P):(Me._visibility|=4,Vl(E,P,B,q,y)),y&&se&2048&&Hv(P.alternate,P);break;case 24:Vl(E,P,B,q,y),y&&se&2048&&Vv(P.alternate,P);break;default:Vl(E,P,B,q,y)}o=o.sibling}}function Bc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,h=o,y=h.flags;switch(h.tag){case 22:Bc(c,h),y&2048&&Hv(h.alternate,h);break;case 24:Bc(c,h),y&2048&&Vv(h.alternate,h);break;default:Bc(c,h)}o=o.sibling}}var zc=8192;function Gl(a){if(a.subtreeFlags&zc)for(a=a.child;a!==null;)fw(a),a=a.sibling}function fw(a){switch(a.tag){case 26:Gl(a),a.flags&zc&&a.memoizedState!==null&&dN(Ar,a.memoizedState,a.memoizedProps);break;case 5:Gl(a);break;case 3:case 4:var o=Ar;Ar=hh(a.stateNode.containerInfo),Gl(a),Ar=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=zc,zc=16777216,Gl(a),zc=o):Gl(a));break;default:Gl(a)}}function hw(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Hc(a){var o=a.deletions;if(a.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];ti=h,mw(h,a)}hw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pw(a),a=a.sibling}function pw(a){switch(a.tag){case 0:case 11:case 15:Hc(a),a.flags&2048&&Ss(9,a,a.return);break;case 3:Hc(a);break;case 12:Hc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&4&&(a.return===null||a.return.tag!==13)?(o._visibility&=-5,Jf(a)):Hc(a);break;default:Hc(a)}}function Jf(a){var o=a.deletions;if(a.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];ti=h,mw(h,a)}hw(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ss(8,o,o.return),Jf(o);break;case 22:c=o.stateNode,c._visibility&4&&(c._visibility&=-5,Jf(o));break;default:Jf(o)}a=a.sibling}}function mw(a,o){for(;ti!==null;){var c=ti;switch(c.tag){case 0:case 11:case 15:Ss(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ac(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,ti=h;else e:for(c=a;ti!==null;){h=ti;var y=h.sibling,E=h.return;if(sw(h),h===c){ti=null;break e}if(y!==null){y.return=E,ti=y;break e}ti=E}}}function wI(a,o,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(a,o,c,h){return new wI(a,o,c,h)}function Gv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ms(a,o){var c=a.alternate;return c===null?(c=dr(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&31457280,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function gw(a,o){a.flags&=31457282;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function eh(a,o,c,h,y,E){var P=0;if(h=a,typeof a=="function")Gv(a)&&(P=1);else if(typeof a=="string")P=uN(a,c,Ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case d:return Do(c.children,y,E,o);case f:P=8,y|=24;break;case p:return a=dr(12,c,o,y|2),a.elementType=p,a.lanes=E,a;case w:return a=dr(13,c,o,y),a.elementType=w,a.lanes=E,a;case x:return a=dr(19,c,o,y),a.elementType=x,a.lanes=E,a;case C:return vw(c,y,E,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:case v:P=10;break e;case g:P=9;break e;case _:P=11;break e;case b:P=14;break e;case M:P=16,h=null;break e}P=29,c=Error(i(130,a===null?"null":typeof a,"")),h=null}return o=dr(P,c,o,y),o.elementType=a,o.type=h,o.lanes=E,o}function Do(a,o,c,h){return a=dr(7,a,h,o),a.lanes=c,a}function vw(a,o,c,h){a=dr(22,a,h,o),a.elementType=C,a.lanes=c;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var E=y._current;if(E===null)throw Error(i(456));if(!(y._pendingVisibility&2)){var P=hs(E,2);P!==null&&(y._pendingVisibility|=2,wi(P,E,2))}},attach:function(){var E=y._current;if(E===null)throw Error(i(456));if(y._pendingVisibility&2){var P=hs(E,2);P!==null&&(y._pendingVisibility&=-3,wi(P,E,2))}}};return a.stateNode=y,a}function jv(a,o,c){return a=dr(6,a,null,o),a.lanes=c,a}function Wv(a,o,c){return o=dr(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function Da(a){a.flags|=4}function yw(a,o){if(o.type!=="stylesheet"||o.state.loading&4)a.flags&=-16777217;else if(a.flags|=16777216,!nM(o)){if(o=lr.current,o!==null&&((Gt&4194176)===Gt?Gr!==null:(Gt&62914560)!==Gt&&!(Gt&536870912)||o!==Gr))throw Mc=Kg,NS;a.flags|=8192}}function th(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?bt():536870912,a.lanes|=o,Wl|=o)}function Vc(a,o){if(!$t)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function wn(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&31457280,h|=y.flags&31457280,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=c,o}function MI(a,o,c){var h=o.pendingProps;switch($g(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(o),null;case 1:return wn(o),null;case 3:return c=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ta(Xn),mt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(xc(o)?Da(o):a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Cr!==null&&(Jv(Cr),Cr=null))),wn(o),null;case 26:return c=o.memoizedState,a===null?(Da(o),c!==null?(wn(o),yw(o,c)):(wn(o),o.flags&=-16777217)):c?c!==a.memoizedState?(Da(o),wn(o),yw(o,c)):(wn(o),o.flags&=-16777217):(a.memoizedProps!==h&&Da(o),wn(o),o.flags&=-16777217),null;case 27:Ze(o),c=$e.current;var y=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Da(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return wn(o),null}a=Ne.current,xc(o)?PS(o):(a=$w(y,h,c),o.stateNode=a,Da(o))}return wn(o),null;case 5:if(Ze(o),c=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Da(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return wn(o),null}if(a=Ne.current,xc(o))PS(o);else{switch(y=fh($e.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?a.multiple=!0:h.size&&(a.size=h.size);break;default:a=typeof h.is=="string"?y.createElement(c,{is:h.is}):y.createElement(c)}}a[Wn]=o,a[Yn]=h;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=a;e:switch(hi(a,c,h),c){case"button":case"input":case"select":case"textarea":a=!!h.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Da(o)}}return wn(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&Da(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(i(166));if(a=$e.current,xc(o)){if(a=o.stateNode,c=o.memoizedProps,h=null,y=Ei,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[Wn]=o,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Vw(a.nodeValue,c)),a||bo(o)}else a=fh(a).createTextNode(h),a[Wn]=o,o.stateNode=a}return wn(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=xc(o),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Wn]=o}else Sc(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;wn(o),y=!1}else Cr!==null&&(Jv(Cr),Cr=null),y=!0;if(!y)return o.flags&256?(Sa(o),o):(Sa(o),null)}if(Sa(o),o.flags&128)return o.lanes=c,o;if(c=h!==null,a=a!==null&&a.memoizedState!==null,c){h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var E=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==y&&(h.flags|=2048)}return c!==a&&c&&(o.child.flags|=8192),th(o,o.updateQueue),wn(o),null;case 4:return mt(),a===null&&cy(o.stateNode.containerInfo),wn(o),null;case 10:return Ta(o.type),wn(o),null;case 19:if(Ae($n),y=o.memoizedState,y===null)return wn(o),null;if(h=(o.flags&128)!==0,E=y.rendering,E===null)if(h)Vc(y,!1);else{if(Ln!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(E=Ff(a),E!==null){for(o.flags|=128,Vc(y,!1),a=E.updateQueue,o.updateQueue=a,th(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)gw(c,a),c=c.sibling;return ge($n,$n.current&1|2),o.child}a=a.sibling}y.tail!==null&&we()>nh&&(o.flags|=128,h=!0,Vc(y,!1),o.lanes=4194304)}else{if(!h)if(a=Ff(E),a!==null){if(o.flags|=128,h=!0,a=a.updateQueue,o.updateQueue=a,th(o,a),Vc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!$t)return wn(o),null}else 2*we()-y.renderingStartTime>nh&&c!==536870912&&(o.flags|=128,h=!0,Vc(y,!1),o.lanes=4194304);y.isBackwards?(E.sibling=o.child,o.child=E):(a=y.last,a!==null?a.sibling=E:o.child=E,y.last=E)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=we(),o.sibling=null,a=$n.current,ge($n,h?a&1|2:a&1),o):(wn(o),null);case 22:case 23:return Sa(o),Qg(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?c&536870912&&!(o.flags&128)&&(wn(o),o.subtreeFlags&6&&(o.flags|=8192)):wn(o),c=o.updateQueue,c!==null&&th(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),a!==null&&Ae(So),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ta(Xn),wn(o),null;case 25:return null}throw Error(i(156,o.tag))}function TI(a,o){switch($g(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ta(Xn),mt(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ze(o),null;case 13:if(Sa(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Sc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Ae($n),null;case 4:return mt(),null;case 10:return Ta(o.type),null;case 22:case 23:return Sa(o),Qg(),a!==null&&Ae(So),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ta(Xn),null;case 25:return null;default:return null}}function _w(a,o){switch($g(o),o.tag){case 3:Ta(Xn),mt();break;case 26:case 27:case 5:Ze(o);break;case 4:mt();break;case 13:Sa(o);break;case 19:Ae($n);break;case 10:Ta(o.type);break;case 22:case 23:Sa(o),Qg(),a!==null&&Ae(So);break;case 24:Ta(Xn)}}var CI={getCacheForType:function(a){var o=vi(Xn),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c}},AI=typeof WeakMap=="function"?WeakMap:Map,Mn=0,yn=null,kt=null,Gt=0,_n=0,qi=null,La=!1,jl=!1,Yv=!1,Oa=0,Ln=0,Ts=0,Lo=0,qv=0,fr=0,Wl=0,Gc=null,Wr=null,$v=!1,Xv=0,nh=1/0,ih=null,Cs=null,rh=!1,Oo=null,jc=0,Kv=0,Zv=null,Wc=0,Qv=null;function $i(){if(Mn&2&&Gt!==0)return Gt&-Gt;if(A.T!==null){var a=kl;return a!==0?a:sy()}return cc()}function bw(){fr===0&&(fr=!(Gt&536870912)||$t?yt():536870912);var a=lr.current;return a!==null&&(a.flags|=32),fr}function wi(a,o,c){(a===yn&&_n===2||a.cancelPendingCommit!==null)&&(Yl(a,0),Pa(a,Gt,fr,!1)),nn(a,c),(!(Mn&2)||a!==yn)&&(a===yn&&(!(Mn&2)&&(Lo|=c),Ln===4&&Pa(a,Gt,fr,!1)),Yr(a))}function xw(a,o,c){if(Mn&6)throw Error(i(327));var h=!c&&(o&60)===0&&(o&a.expiredLanes)===0||Le(a,o),y=h?LI(a,o):ny(a,o,!0),E=h;do{if(y===0){jl&&!h&&Pa(a,o,0,!1);break}else if(y===6)Pa(a,o,0,!La);else{if(c=a.current.alternate,E&&!RI(c)){y=ny(a,o,!1),E=!1;continue}if(y===2){if(E=o,a.errorRecoveryDisabledLanes&E)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var B=a;y=Gc;var q=B.current.memoizedState.isDehydrated;if(q&&(Yl(B,P).flags|=256),P=ny(B,P,!1),P!==2){if(Yv&&!q){B.errorRecoveryDisabledLanes|=E,Lo|=E,y=4;break e}E=Wr,Wr=y,E!==null&&Jv(E)}y=P}if(E=!1,y!==2)continue}}if(y===1){Yl(a,0),Pa(a,o,0,!0);break}e:{switch(h=a,y){case 0:case 1:throw Error(i(345));case 4:if((o&4194176)===o){Pa(h,o,fr,!La);break e}break;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(h.finishedWork=c,h.finishedLanes=o,(o&62914560)===o&&(E=Xv+300-we(),10<E)){if(Pa(h,o,fr,!La),Fe(h,0)!==0)break e;h.timeoutHandle=Ww(Sw.bind(null,h,c,Wr,ih,$v,o,fr,Lo,Wl,La,2,-0,0),E);break e}Sw(h,c,Wr,ih,$v,o,fr,Lo,Wl,La,0,-0,0)}}break}while(!0);Yr(a)}function Jv(a){Wr===null?Wr=a:Wr.push.apply(Wr,a)}function Sw(a,o,c,h,y,E,P,B,q,se,Me,De,_e){var Ee=o.subtreeFlags;if((Ee&8192||(Ee&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:cN},fw(o),o=fN(),o!==null)){a.cancelPendingCommit=o(Rw.bind(null,a,c,h,y,P,B,q,1,De,_e)),Pa(a,E,P,!se);return}Rw(a,c,h,y,P,B,q,Me,De,_e)}function RI(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],E=y.getSnapshot;y=y.value;try{if(!ji(E(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Pa(a,o,c,h){o&=~qv,o&=~Lo,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var y=o;0<y;){var E=31-it(y),P=1<<E;h[E]=-1,y&=~P}c!==0&&ui(a,c,o)}function ah(){return Mn&6?!0:(Yc(0),!1)}function ey(){if(kt!==null){if(_n===0)var a=kt.return;else a=kt,Ma=Co=null,sv(a),Il=null,Tc=0,a=kt;for(;a!==null;)_w(a.alternate,a),a=a.return;kt=null}}function Yl(a,o){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,$I(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ey(),yn=a,kt=c=Ms(a.current,null),Gt=o,_n=0,qi=null,La=!1,jl=Le(a,o),Yv=!1,Wl=fr=qv=Lo=Ts=Ln=0,Wr=Gc=null,$v=!1,o&8&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var y=31-it(h),E=1<<y;o|=a[y],h&=~E}return Oa=o,Rf(),c}function Ew(a,o){Ot=null,A.H=jr,o===wc?(o=FS(),_n=3):o===NS?(o=FS(),_n=4):_n=o===kE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,qi=o,kt===null&&(Ln=1,Xf(a,ar(o,a.current)))}function ww(){var a=A.H;return A.H=jr,a===null?jr:a}function Mw(){var a=A.A;return A.A=CI,a}function ty(){Ln=4,La||(Gt&4194176)!==Gt&&lr.current!==null||(jl=!0),!(Ts&134217727)&&!(Lo&134217727)||yn===null||Pa(yn,Gt,fr,!1)}function ny(a,o,c){var h=Mn;Mn|=2;var y=ww(),E=Mw();(yn!==a||Gt!==o)&&(ih=null,Yl(a,o)),o=!1;var P=Ln;e:do try{if(_n!==0&&kt!==null){var B=kt,q=qi;switch(_n){case 8:ey(),P=6;break e;case 3:case 2:case 6:lr.current===null&&(o=!0);var se=_n;if(_n=0,qi=null,ql(a,B,q,se),c&&jl){P=0;break e}break;default:se=_n,_n=0,qi=null,ql(a,B,q,se)}}DI(),P=Ln;break}catch(Me){Ew(a,Me)}while(!0);return o&&a.shellSuspendCounter++,Ma=Co=null,Mn=h,A.H=y,A.A=E,kt===null&&(yn=null,Gt=0,Rf()),P}function DI(){for(;kt!==null;)Tw(kt)}function LI(a,o){var c=Mn;Mn|=2;var h=ww(),y=Mw();yn!==a||Gt!==o?(ih=null,nh=we()+500,Yl(a,o)):jl=Le(a,o);e:do try{if(_n!==0&&kt!==null){o=kt;var E=qi;t:switch(_n){case 1:_n=0,qi=null,ql(a,o,E,1);break;case 2:if(kS(E)){_n=0,qi=null,Cw(o);break}o=function(){_n===2&&yn===a&&(_n=7),Yr(a)},E.then(o,o);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:kS(E)?(_n=0,qi=null,Cw(o)):(_n=0,qi=null,ql(a,o,E,7));break;case 5:var P=null;switch(kt.tag){case 26:P=kt.memoizedState;case 5:case 27:var B=kt;if(!P||nM(P)){_n=0,qi=null;var q=B.sibling;if(q!==null)kt=q;else{var se=B.return;se!==null?(kt=se,sh(se)):kt=null}break t}}_n=0,qi=null,ql(a,o,E,5);break;case 6:_n=0,qi=null,ql(a,o,E,6);break;case 8:ey(),Ln=6;break e;default:throw Error(i(462))}}OI();break}catch(Me){Ew(a,Me)}while(!0);return Ma=Co=null,A.H=h,A.A=y,Mn=c,kt!==null?0:(yn=null,Gt=0,Rf(),Ln)}function OI(){for(;kt!==null&&!U();)Tw(kt)}function Tw(a){var o=$E(a.alternate,a,Oa);a.memoizedProps=a.pendingProps,o===null?sh(a):kt=o}function Cw(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=VE(c,o,o.pendingProps,o.type,void 0,Gt);break;case 11:o=VE(c,o,o.pendingProps,o.type.render,o.ref,Gt);break;case 5:sv(o);default:_w(c,o),o=kt=gw(o,Oa),o=$E(c,o,Oa)}a.memoizedProps=a.pendingProps,o===null?sh(a):kt=o}function ql(a,o,c,h){Ma=Co=null,sv(o),Il=null,Tc=0;var y=o.return;try{if(bI(a,y,o,c,Gt)){Ln=1,Xf(a,ar(c,a.current)),kt=null;return}}catch(E){if(y!==null)throw kt=y,E;Ln=1,Xf(a,ar(c,a.current)),kt=null;return}o.flags&32768?($t||h===1?a=!0:jl||Gt&536870912?a=!1:(La=a=!0,(h===2||h===3||h===6)&&(h=lr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Aw(o,a)):sh(o)}function sh(a){var o=a;do{if(o.flags&32768){Aw(o,La);return}a=o.return;var c=MI(o.alternate,o,Oa);if(c!==null){kt=c;return}if(o=o.sibling,o!==null){kt=o;return}kt=o=a}while(o!==null);Ln===0&&(Ln=5)}function Aw(a,o){do{var c=TI(a.alternate,a);if(c!==null){c.flags&=32767,kt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){kt=a;return}kt=a=c}while(a!==null);Ln=6,kt=null}function Rw(a,o,c,h,y,E,P,B,q,se){var Me=A.T,De=V.p;try{V.p=2,A.T=null,PI(a,o,c,h,De,y,E,P,B,q,se)}finally{A.T=Me,V.p=De}}function PI(a,o,c,h,y,E,P,B){do $l();while(Oo!==null);if(Mn&6)throw Error(i(327));var q=a.finishedWork;if(h=a.finishedLanes,q===null)return null;if(a.finishedWork=null,a.finishedLanes=0,q===a.current)throw Error(i(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var se=q.lanes|q.childLanes;if(se|=Wg,ut(a,h,se,E,P,B),a===yn&&(kt=yn=null,Gt=0),!(q.subtreeFlags&10256)&&!(q.flags&10256)||rh||(rh=!0,Kv=se,Zv=c,UI(ke,function(){return $l(),null})),c=(q.flags&15990)!==0,q.subtreeFlags&15990||c?(c=A.T,A.T=null,E=V.p,V.p=2,P=Mn,Mn|=4,SI(a,q),uw(q,a),iI(py,a.containerInfo),yh=!!hy,py=hy=null,a.current=q,aw(a,q.alternate,q),fe(),Mn=P,V.p=E,A.T=c):a.current=q,rh?(rh=!1,Oo=a,jc=h):Dw(a,se),se=a.pendingLanes,se===0&&(Cs=null),Ve(q.stateNode),Yr(a),o!==null)for(y=a.onRecoverableError,q=0;q<o.length;q++)se=o[q],y(se.value,{componentStack:se.stack});return jc&3&&$l(),se=a.pendingLanes,h&4194218&&se&42?a===Qv?Wc++:(Wc=0,Qv=a):Wc=0,Yc(0),null}function Dw(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Ac(o)))}function $l(){if(Oo!==null){var a=Oo,o=Kv;Kv=0;var c=Sl(jc),h=A.T,y=V.p;try{if(V.p=32>c?32:c,A.T=null,Oo===null)var E=!1;else{c=Zv,Zv=null;var P=Oo,B=jc;if(Oo=null,jc=0,Mn&6)throw Error(i(331));var q=Mn;if(Mn|=4,pw(P.current),dw(P,P.current,B,c),Mn=q,Yc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(et,P)}catch{}E=!0}return E}finally{V.p=y,A.T=h,Dw(a,o)}}return!1}function Lw(a,o,c){o=ar(c,o),o=bv(a.stateNode,o,2),a=xs(a,o,2),a!==null&&(nn(a,2),Yr(a))}function gn(a,o,c){if(a.tag===3)Lw(a,a,c);else for(;o!==null;){if(o.tag===3){Lw(o,a,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cs===null||!Cs.has(h))){a=ar(c,a),c=IE(2),h=xs(o,c,2),h!==null&&(NE(c,h,o,a),nn(h,2),Yr(h));break}}o=o.return}}function iy(a,o,c){var h=a.pingCache;if(h===null){h=a.pingCache=new AI;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(c)||(Yv=!0,y.add(c),a=II.bind(null,a,o,c),o.then(a,a))}function II(a,o,c){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,yn===a&&(Gt&c)===c&&(Ln===4||Ln===3&&(Gt&62914560)===Gt&&300>we()-Xv?!(Mn&2)&&Yl(a,0):qv|=c,Wl===Gt&&(Wl=0)),Yr(a)}function Ow(a,o){o===0&&(o=bt()),a=hs(a,o),a!==null&&(nn(a,o),Yr(a))}function NI(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),Ow(a,c)}function kI(a,o){var c=0;switch(a.tag){case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(o),Ow(a,c)}function UI(a,o){return Qe(a,o)}var oh=null,Xl=null,ry=!1,lh=!1,ay=!1,Po=0;function Yr(a){a!==Xl&&a.next===null&&(Xl===null?oh=Xl=a:Xl=Xl.next=a),lh=!0,ry||(ry=!0,BI(FI))}function Yc(a,o){if(!ay&&lh){ay=!0;do for(var c=!1,h=oh;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var E=0;else{var P=h.suspendedLanes,B=h.pingedLanes;E=(1<<31-it(42|a)+1)-1,E&=y&~(P&~B),E=E&201326677?E&201326677|1:E?E|2:0}E!==0&&(c=!0,Nw(h,E))}else E=Gt,E=Fe(h,h===yn?E:0),!(E&3)||Le(h,E)||(c=!0,Nw(h,E));h=h.next}while(c);ay=!1}}function FI(){lh=ry=!1;var a=0;Po!==0&&(qI()&&(a=Po),Po=0);for(var o=we(),c=null,h=oh;h!==null;){var y=h.next,E=Pw(h,o);E===0?(h.next=null,c===null?oh=y:c.next=y,y===null&&(Xl=c)):(c=h,(a!==0||E&3)&&(lh=!0)),h=y}Yc(a)}function Pw(a,o){for(var c=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var P=31-it(E),B=1<<P,q=y[P];q===-1?(!(B&c)||B&h)&&(y[P]=st(B,o)):q<=o&&(a.expiredLanes|=B),E&=~B}if(o=yn,c=Gt,c=Fe(a,a===o?c:0),h=a.callbackNode,c===0||a===o&&_n===2||a.cancelPendingCommit!==null)return h!==null&&h!==null&&j(h),a.callbackNode=null,a.callbackPriority=0;if(!(c&3)||Le(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(h!==null&&j(h),Sl(c)){case 2:case 8:c=Ye;break;case 32:c=ke;break;case 268435456:c=wt;break;default:c=ke}return h=Iw.bind(null,a),c=Qe(c,h),a.callbackPriority=o,a.callbackNode=c,o}return h!==null&&h!==null&&j(h),a.callbackPriority=2,a.callbackNode=null,2}function Iw(a,o){var c=a.callbackNode;if($l()&&a.callbackNode!==c)return null;var h=Gt;return h=Fe(a,a===yn?h:0),h===0?null:(xw(a,h,o),Pw(a,we()),a.callbackNode!=null&&a.callbackNode===c?Iw.bind(null,a):null)}function Nw(a,o){if($l())return null;xw(a,o,!0)}function BI(a){XI(function(){Mn&6?Qe(xe,a):a()})}function sy(){return Po===0&&(Po=yt()),Po}function kw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Sf(""+a)}function Uw(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function zI(a,o,c,h,y){if(o==="submit"&&c&&c.stateNode===y){var E=kw((y[Yn]||null).action),P=h.submitter;P&&(o=(o=P[Yn]||null)?kw(o.formAction):P.getAttribute("formAction"),o!==null&&(E=o,P=null));var B=new Tf("action","action",null,h,y);a.push({event:B,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Po!==0){var q=P?Uw(y,P):new FormData(y);mv(c,{pending:!0,data:q,method:y.method,action:E},null,q)}}else typeof E=="function"&&(B.preventDefault(),q=P?Uw(y,P):new FormData(y),mv(c,{pending:!0,data:q,method:y.method,action:E},E,q))},currentTarget:y}]})}}for(var oy=0;oy<RS.length;oy++){var ly=RS[oy],HI=ly.toLowerCase(),VI=ly[0].toUpperCase()+ly.slice(1);Tr(HI,"on"+VI)}Tr(wS,"onAnimationEnd"),Tr(MS,"onAnimationIteration"),Tr(TS,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(aI,"onTransitionRun"),Tr(sI,"onTransitionStart"),Tr(oI,"onTransitionCancel"),Tr(CS,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),Be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Be("onBeforeInput",["compositionend","keypress","textInput","paste"]),Be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qc));function Fw(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],y=h.event;h=h.listeners;e:{var E=void 0;if(o)for(var P=h.length-1;0<=P;P--){var B=h[P],q=B.instance,se=B.currentTarget;if(B=B.listener,q!==E&&y.isPropagationStopped())break e;E=B,y.currentTarget=se;try{E(y)}catch(Me){$f(Me)}y.currentTarget=null,E=q}else for(P=0;P<h.length;P++){if(B=h[P],q=B.instance,se=B.currentTarget,B=B.listener,q!==E&&y.isPropagationStopped())break e;E=B,y.currentTarget=se;try{E(y)}catch(Me){$f(Me)}y.currentTarget=null,E=q}}}}function Ht(a,o){var c=o[El];c===void 0&&(c=o[El]=new Set);var h=a+"__bubble";c.has(h)||(Bw(o,a,2,!1),c.add(h))}function uy(a,o,c){var h=0;o&&(h|=4),Bw(c,a,h,o)}var uh="_reactListening"+Math.random().toString(36).slice(2);function cy(a){if(!a[uh]){a[uh]=!0,ce.forEach(function(c){c!=="selectionchange"&&(GI.has(c)||uy(c,!1,a),uy(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[uh]||(o[uh]=!0,uy("selectionchange",!1,o))}}function Bw(a,o,c,h){switch(lM(o)){case 2:var y=mN;break;case 8:y=gN;break;default:y=Ey}c=y.bind(null,o,c,a),y=void 0,!Og||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function dy(a,o,c,h,y){var E=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var P=h.tag;if(P===3||P===4){var B=h.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(P===4)for(P=h.return;P!==null;){var q=P.tag;if((q===3||q===4)&&(q=P.stateNode.containerInfo,q===y||q.nodeType===8&&q.parentNode===y))return;P=P.return}for(;B!==null;){if(P=_a(B),P===null)return;if(q=P.tag,q===5||q===6||q===26||q===27){h=E=P;continue e}B=B.parentNode}}h=h.return}eS(function(){var se=E,Me=Dg(c),De=[];e:{var _e=AS.get(a);if(_e!==void 0){var Ee=Tf,at=a;switch(a){case"keypress":if(wf(c)===0)break e;case"keydown":case"keyup":Ee=kP;break;case"focusin":at="focus",Ee=kg;break;case"focusout":at="blur",Ee=kg;break;case"beforeblur":case"afterblur":Ee=kg;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=iS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=wP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=BP;break;case wS:case MS:case TS:Ee=CP;break;case CS:Ee=HP;break;case"scroll":case"scrollend":Ee=SP;break;case"wheel":Ee=GP;break;case"copy":case"cut":case"paste":Ee=RP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=aS;break;case"toggle":case"beforetoggle":Ee=WP}var Mt=(o&4)!==0,On=!Mt&&(a==="scroll"||a==="scrollend"),de=Mt?_e!==null?_e+"Capture":null:_e;Mt=[];for(var ae=se,me;ae!==null;){var Ce=ae;if(me=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||me===null||de===null||(Ce=fc(ae,de),Ce!=null&&Mt.push($c(ae,Ce,me))),On)break;ae=ae.return}0<Mt.length&&(_e=new Ee(_e,at,null,c,Me),De.push({event:_e,listeners:Mt}))}}if(!(o&7)){e:{if(_e=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",_e&&c!==Rg&&(at=c.relatedTarget||c.fromElement)&&(_a(at)||at[ya]))break e;if((Ee||_e)&&(_e=Me.window===Me?Me:(_e=Me.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ee?(at=c.relatedTarget||c.toElement,Ee=se,at=at?_a(at):null,at!==null&&(On=G(at),Mt=at.tag,at!==On||Mt!==5&&Mt!==27&&Mt!==6)&&(at=null)):(Ee=null,at=se),Ee!==at)){if(Mt=iS,Ce="onMouseLeave",de="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(Mt=aS,Ce="onPointerLeave",de="onPointerEnter",ae="pointer"),On=Ee==null?_e:oe(Ee),me=at==null?_e:oe(at),_e=new Mt(Ce,ae+"leave",Ee,c,Me),_e.target=On,_e.relatedTarget=me,Ce=null,_a(Me)===se&&(Mt=new Mt(de,ae+"enter",at,c,Me),Mt.target=me,Mt.relatedTarget=On,Ce=Mt),On=Ce,Ee&&at)t:{for(Mt=Ee,de=at,ae=0,me=Mt;me;me=Kl(me))ae++;for(me=0,Ce=de;Ce;Ce=Kl(Ce))me++;for(;0<ae-me;)Mt=Kl(Mt),ae--;for(;0<me-ae;)de=Kl(de),me--;for(;ae--;){if(Mt===de||de!==null&&Mt===de.alternate)break t;Mt=Kl(Mt),de=Kl(de)}Mt=null}else Mt=null;Ee!==null&&zw(De,_e,Ee,Mt,!1),at!==null&&On!==null&&zw(De,On,at,Mt,!0)}}e:{if(_e=se?oe(se):window,Ee=_e.nodeName&&_e.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&_e.type==="file")var tt=hS;else if(dS(_e))if(pS)tt=tI;else{tt=JP;var Pt=QP}else Ee=_e.nodeName,!Ee||Ee.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?se&&Ag(se.elementType)&&(tt=hS):tt=eI;if(tt&&(tt=tt(a,se))){fS(De,tt,c,Me);break e}Pt&&Pt(a,_e,se),a==="focusout"&&se&&_e.type==="number"&&se.memoizedProps.value!=null&&gi(_e,"number",_e.value)}switch(Pt=se?oe(se):window,a){case"focusin":(dS(Pt)||Pt.contentEditable==="true")&&(Al=Pt,Vg=se,bc=null);break;case"focusout":bc=Vg=Al=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,SS(De,c,Me);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":SS(De,c,Me)}var ot;if(Fg)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Cl?uS(a,c)&&(gt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(gt="onCompositionStart");gt&&(sS&&c.locale!=="ko"&&(Cl||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Cl&&(ot=tS()):(fs=Me,Pg="value"in fs?fs.value:fs.textContent,Cl=!0)),Pt=ch(se,gt),0<Pt.length&&(gt=new rS(gt,a,null,c,Me),De.push({event:gt,listeners:Pt}),ot?gt.data=ot:(ot=cS(c),ot!==null&&(gt.data=ot)))),(ot=qP?$P(a,c):XP(a,c))&&(gt=ch(se,"onBeforeInput"),0<gt.length&&(Pt=new rS("onBeforeInput","beforeinput",null,c,Me),De.push({event:Pt,listeners:gt}),Pt.data=ot)),zI(De,a,se,c,Me)}Fw(De,o)})}function $c(a,o,c){return{instance:a,listener:o,currentTarget:c}}function ch(a,o){for(var c=o+"Capture",h=[];a!==null;){var y=a,E=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||E===null||(y=fc(a,c),y!=null&&h.unshift($c(a,y,E)),y=fc(a,o),y!=null&&h.push($c(a,y,E))),a=a.return}return h}function Kl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function zw(a,o,c,h,y){for(var E=o._reactName,P=[];c!==null&&c!==h;){var B=c,q=B.alternate,se=B.stateNode;if(B=B.tag,q!==null&&q===h)break;B!==5&&B!==26&&B!==27||se===null||(q=se,y?(se=fc(c,E),se!=null&&P.unshift($c(c,se,q))):y||(se=fc(c,E),se!=null&&P.push($c(c,se,q)))),c=c.return}P.length!==0&&a.push({event:o,listeners:P})}var jI=/\r\n?/g,WI=/\u0000|\uFFFD/g;function Hw(a){return(typeof a=="string"?a:""+a).replace(jI,`
`).replace(WI,"")}function Vw(a,o){return o=Hw(o),Hw(a)===o}function dh(){}function hn(a,o,c,h,y,E){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Li(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Li(a,""+h);break;case"className":bn(a,"class",h);break;case"tabIndex":bn(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(a,c,h);break;case"style":Qx(a,h,E);break;case"data":if(o!=="object"){bn(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Sf(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(c==="formAction"?(o!=="input"&&hn(a,o,"name",y.name,y,null),hn(a,o,"formEncType",y.formEncType,y,null),hn(a,o,"formMethod",y.formMethod,y,null),hn(a,o,"formTarget",y.formTarget,y,null)):(hn(a,o,"encType",y.encType,y,null),hn(a,o,"method",y.method,y,null),hn(a,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Sf(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=dh);break;case"onScroll":h!=null&&Ht("scroll",a);break;case"onScrollEnd":h!=null&&Ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=Sf(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":Ht("beforetoggle",a),Ht("toggle",a),Bt(a,"popover",h);break;case"xlinkActuate":qt(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":qt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":qt(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":qt(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":qt(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":qt(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":qt(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":qt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":qt(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Bt(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bP.get(c)||c,Bt(a,c,h))}}function fy(a,o,c,h,y,E){switch(c){case"style":Qx(a,h,E);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"children":typeof h=="string"?Li(a,h):(typeof h=="number"||typeof h=="bigint")&&Li(a,""+h);break;case"onScroll":h!=null&&Ht("scroll",a);break;case"onScrollEnd":h!=null&&Ht("scrollend",a);break;case"onClick":h!=null&&(a.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pe.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),E=a[Yn]||null,E=E!=null?E[c]:null,typeof E=="function"&&a.removeEventListener(o,E,y),typeof h=="function")){typeof E!="function"&&E!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,h,y);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Bt(a,c,h)}}}function hi(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",a),Ht("load",a);var h=!1,y=!1,E;for(E in c)if(c.hasOwnProperty(E)){var P=c[E];if(P!=null)switch(E){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:hn(a,o,E,P,c,null)}}y&&hn(a,o,"srcSet",c.srcSet,c,null),h&&hn(a,o,"src",c.src,c,null);return;case"input":Ht("invalid",a);var B=E=P=y=null,q=null,se=null;for(h in c)if(c.hasOwnProperty(h)){var Me=c[h];if(Me!=null)switch(h){case"name":y=Me;break;case"type":P=Me;break;case"checked":q=Me;break;case"defaultChecked":se=Me;break;case"value":E=Me;break;case"defaultValue":B=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(i(137,o));break;default:hn(a,o,h,Me,c,null)}}Si(a,E,B,q,se,P,y,!1),zt(a);return;case"select":Ht("invalid",a),h=P=E=null;for(y in c)if(c.hasOwnProperty(y)&&(B=c[y],B!=null))switch(y){case"value":E=B;break;case"defaultValue":P=B;break;case"multiple":h=B;default:hn(a,o,y,B,c,null)}o=E,c=P,a.multiple=!!h,o!=null?Rn(a,!!h,o,!1):c!=null&&Rn(a,!!h,c,!0);return;case"textarea":Ht("invalid",a),E=y=h=null;for(P in c)if(c.hasOwnProperty(P)&&(B=c[P],B!=null))switch(P){case"value":h=B;break;case"defaultValue":y=B;break;case"children":E=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:hn(a,o,P,B,c,null)}wl(a,h,y,E),zt(a);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(h=c[q],h!=null))switch(q){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:hn(a,o,q,h,c,null)}return;case"dialog":Ht("cancel",a),Ht("close",a);break;case"iframe":case"object":Ht("load",a);break;case"video":case"audio":for(h=0;h<qc.length;h++)Ht(qc[h],a);break;case"image":Ht("error",a),Ht("load",a);break;case"details":Ht("toggle",a);break;case"embed":case"source":case"link":Ht("error",a),Ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(h=c[se],h!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:hn(a,o,se,h,c,null)}return;default:if(Ag(o)){for(Me in c)c.hasOwnProperty(Me)&&(h=c[Me],h!==void 0&&fy(a,o,Me,h,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(h=c[B],h!=null&&hn(a,o,B,h,c,null))}function YI(a,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,E=null,P=null,B=null,q=null,se=null,Me=null;for(Ee in c){var De=c[Ee];if(c.hasOwnProperty(Ee)&&De!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":q=De;default:h.hasOwnProperty(Ee)||hn(a,o,Ee,null,h,De)}}for(var _e in h){var Ee=h[_e];if(De=c[_e],h.hasOwnProperty(_e)&&(Ee!=null||De!=null))switch(_e){case"type":E=Ee;break;case"name":y=Ee;break;case"checked":se=Ee;break;case"defaultChecked":Me=Ee;break;case"value":P=Ee;break;case"defaultValue":B=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,o));break;default:Ee!==De&&hn(a,o,_e,Ee,h,De)}}dn(a,P,B,q,se,Me,E,y);return;case"select":Ee=P=B=_e=null;for(E in c)if(q=c[E],c.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":Ee=q;default:h.hasOwnProperty(E)||hn(a,o,E,null,h,q)}for(y in h)if(E=h[y],q=c[y],h.hasOwnProperty(y)&&(E!=null||q!=null))switch(y){case"value":_e=E;break;case"defaultValue":B=E;break;case"multiple":P=E;default:E!==q&&hn(a,o,y,E,h,q)}o=B,c=P,h=Ee,_e!=null?Rn(a,!!c,_e,!1):!!h!=!!c&&(o!=null?Rn(a,!!c,o,!0):Rn(a,!!c,c?[]:"",!1));return;case"textarea":Ee=_e=null;for(B in c)if(y=c[B],c.hasOwnProperty(B)&&y!=null&&!h.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:hn(a,o,B,null,h,y)}for(P in h)if(y=h[P],E=c[P],h.hasOwnProperty(P)&&(y!=null||E!=null))switch(P){case"value":_e=y;break;case"defaultValue":Ee=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==E&&hn(a,o,P,y,h,E)}ci(a,_e,Ee);return;case"option":for(var at in c)if(_e=c[at],c.hasOwnProperty(at)&&_e!=null&&!h.hasOwnProperty(at))switch(at){case"selected":a.selected=!1;break;default:hn(a,o,at,null,h,_e)}for(q in h)if(_e=h[q],Ee=c[q],h.hasOwnProperty(q)&&_e!==Ee&&(_e!=null||Ee!=null))switch(q){case"selected":a.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:hn(a,o,q,_e,h,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in c)_e=c[Mt],c.hasOwnProperty(Mt)&&_e!=null&&!h.hasOwnProperty(Mt)&&hn(a,o,Mt,null,h,_e);for(se in h)if(_e=h[se],Ee=c[se],h.hasOwnProperty(se)&&_e!==Ee&&(_e!=null||Ee!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,o));break;default:hn(a,o,se,_e,h,Ee)}return;default:if(Ag(o)){for(var On in c)_e=c[On],c.hasOwnProperty(On)&&_e!==void 0&&!h.hasOwnProperty(On)&&fy(a,o,On,void 0,h,_e);for(Me in h)_e=h[Me],Ee=c[Me],!h.hasOwnProperty(Me)||_e===Ee||_e===void 0&&Ee===void 0||fy(a,o,Me,_e,h,Ee);return}}for(var de in c)_e=c[de],c.hasOwnProperty(de)&&_e!=null&&!h.hasOwnProperty(de)&&hn(a,o,de,null,h,_e);for(De in h)_e=h[De],Ee=c[De],!h.hasOwnProperty(De)||_e===Ee||_e==null&&Ee==null||hn(a,o,De,_e,h,Ee)}var hy=null,py=null;function fh(a){return a.nodeType===9?a:a.ownerDocument}function Gw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jw(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function my(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gy=null;function qI(){var a=window.event;return a&&a.type==="popstate"?a===gy?!1:(gy=a,!0):(gy=null,!1)}var Ww=typeof setTimeout=="function"?setTimeout:void 0,$I=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,XI=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(a){return Yw.resolve(null).then(a).catch(KI)}:Ww;function KI(a){setTimeout(function(){throw a})}function vy(a,o){var c=o,h=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(h===0){a.removeChild(y),nd(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=y}while(c);nd(o)}function yy(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":yy(c),dc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function ZI(a,o,c,h){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[po])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==y.rel||a.getAttribute("href")!==(y.href==null?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var E=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=Rr(a.nextSibling),a===null)break}return null}function QI(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Rr(a.nextSibling),a===null))return null;return a}function Rr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}function qw(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return a;o--}else c==="/$"&&o++}a=a.previousSibling}return null}function $w(a,o,c){switch(o=fh(c),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}var hr=new Map,Xw=new Set;function hh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var Ia=V.d;V.d={f:JI,r:eN,D:tN,C:nN,L:iN,m:rN,X:sN,S:aN,M:oN};function JI(){var a=Ia.f(),o=ah();return a||o}function eN(a){var o=z(a);o!==null&&o.tag===5&&o.type==="form"?SE(o):Ia.r(a)}var Zl=typeof document>"u"?null:document;function Kw(a,o,c){var h=Zl;if(h&&typeof o=="string"&&o){var y=Jn(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),Xw.has(y)||(Xw.add(y),a={rel:a,crossOrigin:c,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),hi(o,"link",a),pe(o),h.head.appendChild(o)))}}function tN(a){Ia.D(a),Kw("dns-prefetch",a,null)}function nN(a,o){Ia.C(a,o),Kw("preconnect",a,o)}function iN(a,o,c){Ia.L(a,o,c);var h=Zl;if(h&&a&&o){var y='link[rel="preload"][as="'+Jn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Jn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Jn(c.imageSizes)+'"]')):y+='[href="'+Jn(a)+'"]';var E=y;switch(o){case"style":E=Ql(a);break;case"script":E=Jl(a)}hr.has(E)||(a=R({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),hr.set(E,a),h.querySelector(y)!==null||o==="style"&&h.querySelector(Xc(E))||o==="script"&&h.querySelector(Kc(E))||(o=h.createElement("link"),hi(o,"link",a),pe(o),h.head.appendChild(o)))}}function rN(a,o){Ia.m(a,o);var c=Zl;if(c&&a){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Jn(h)+'"][href="'+Jn(a)+'"]',E=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Jl(a)}if(!hr.has(E)&&(a=R({rel:"modulepreload",href:a},o),hr.set(E,a),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Kc(E)))return}h=c.createElement("link"),hi(h,"link",a),pe(h),c.head.appendChild(h)}}}function aN(a,o,c){Ia.S(a,o,c);var h=Zl;if(h&&a){var y=ye(h).hoistableStyles,E=Ql(a);o=o||"default";var P=y.get(E);if(!P){var B={loading:0,preload:null};if(P=h.querySelector(Xc(E)))B.loading=5;else{a=R({rel:"stylesheet",href:a,"data-precedence":o},c),(c=hr.get(E))&&_y(a,c);var q=P=h.createElement("link");pe(q),hi(q,"link",a),q._p=new Promise(function(se,Me){q.onload=se,q.onerror=Me}),q.addEventListener("load",function(){B.loading|=1}),q.addEventListener("error",function(){B.loading|=2}),B.loading|=4,ph(P,o,h)}P={type:"stylesheet",instance:P,count:1,state:B},y.set(E,P)}}}function sN(a,o){Ia.X(a,o);var c=Zl;if(c&&a){var h=ye(c).hoistableScripts,y=Jl(a),E=h.get(y);E||(E=c.querySelector(Kc(y)),E||(a=R({src:a,async:!0},o),(o=hr.get(y))&&by(a,o),E=c.createElement("script"),pe(E),hi(E,"link",a),c.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(y,E))}}function oN(a,o){Ia.M(a,o);var c=Zl;if(c&&a){var h=ye(c).hoistableScripts,y=Jl(a),E=h.get(y);E||(E=c.querySelector(Kc(y)),E||(a=R({src:a,async:!0,type:"module"},o),(o=hr.get(y))&&by(a,o),E=c.createElement("script"),pe(E),hi(E,"link",a),c.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(y,E))}}function Zw(a,o,c,h){var y=(y=$e.current)?hh(y):null;if(!y)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ql(c.href),c=ye(y).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ql(c.href);var E=ye(y).hoistableStyles,P=E.get(a);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,P),(E=y.querySelector(Xc(a)))&&!E._p&&(P.instance=E,P.state.loading=5),hr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},hr.set(a,c),E||lN(y,a,c,P.state))),o&&h===null)throw Error(i(528,""));return P}if(o&&h!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Jl(c),c=ye(y).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Ql(a){return'href="'+Jn(a)+'"'}function Xc(a){return'link[rel="stylesheet"]['+a+"]"}function Qw(a){return R({},a,{"data-precedence":a.precedence,precedence:null})}function lN(a,o,c,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),hi(o,"link",c),pe(o),a.head.appendChild(o))}function Jl(a){return'[src="'+Jn(a)+'"]'}function Kc(a){return"script[async]"+a}function Jw(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Jn(c.href)+'"]');if(h)return o.instance=h,pe(h),h;var y=R({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),pe(h),hi(h,"style",y),ph(h,c.precedence,a),o.instance=h;case"stylesheet":y=Ql(c.href);var E=a.querySelector(Xc(y));if(E)return o.state.loading|=4,o.instance=E,pe(E),E;h=Qw(c),(y=hr.get(y))&&_y(h,y),E=(a.ownerDocument||a).createElement("link"),pe(E);var P=E;return P._p=new Promise(function(B,q){P.onload=B,P.onerror=q}),hi(E,"link",h),o.state.loading|=4,ph(E,c.precedence,a),o.instance=E;case"script":return E=Jl(c.src),(y=a.querySelector(Kc(E)))?(o.instance=y,pe(y),y):(h=c,(y=hr.get(E))&&(h=R({},c),by(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),pe(y),hi(y,"link",h),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(h=o.instance,o.state.loading|=4,ph(h,c.precedence,a));return o.instance}function ph(a,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,E=y,P=0;P<h.length;P++){var B=h[P];if(B.dataset.precedence===o)E=B;else if(E!==y)break}E?E.parentNode.insertBefore(a,E.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function _y(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function by(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var mh=null;function eM(a,o,c){if(mh===null){var h=new Map,y=mh=new Map;y.set(c,h)}else y=mh,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var E=c[y];if(!(E[po]||E[Wn]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var P=E.getAttribute(o)||"";P=a+P;var B=h.get(P);B?B.push(E):h.set(P,[E])}}return h}function tM(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function uN(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function nM(a){return!(a.type==="stylesheet"&&!(a.state.loading&3))}var Zc=null;function cN(){}function dN(a,o,c){if(Zc===null)throw Error(i(475));var h=Zc;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var y=Ql(c.href),E=a.querySelector(Xc(y));if(E){a=E._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(h.count++,h=gh.bind(h),a.then(h,h)),o.state.loading|=4,o.instance=E,pe(E);return}E=a.ownerDocument||a,c=Qw(c),(y=hr.get(y))&&_y(c,y),E=E.createElement("link"),pe(E);var P=E;P._p=new Promise(function(B,q){P.onload=B,P.onerror=q}),hi(E,"link",c),o.instance=E}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,a),(a=o.state.preload)&&!(o.state.loading&3)&&(h.count++,o=gh.bind(h),a.addEventListener("load",o),a.addEventListener("error",o))}}function fN(){if(Zc===null)throw Error(i(475));var a=Zc;return a.stylesheets&&a.count===0&&xy(a,a.stylesheets),0<a.count?function(o){var c=setTimeout(function(){if(a.stylesheets&&xy(a,a.stylesheets),a.unsuspend){var h=a.unsuspend;a.unsuspend=null,h()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(c)}}:null}function gh(){if(this.count--,this.count===0){if(this.stylesheets)xy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var vh=null;function xy(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,vh=new Map,o.forEach(hN,a),vh=null,gh.call(a))}function hN(a,o){if(!(o.state.loading&4)){var c=vh.get(a);if(c)var h=c.get(null);else{c=new Map,vh.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<y.length;E++){var P=y[E];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(c.set(P.dataset.precedence,P),h=P)}h&&c.set(null,h)}y=o.instance,P=y.getAttribute("data-precedence"),E=c.get(P)||h,E===h&&c.set(null,y),c.set(P,y),this.count++,h=gh.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),E?E.parentNode.insertBefore(y,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Qc={$$typeof:v,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function pN(a,o,c,h,y,E,P,B){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ln(0),this.hiddenUpdates=ln(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=E,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function iM(a,o,c,h,y,E,P,B,q,se,Me,De){return a=new pN(a,o,c,P,B,q,se,De),o=1,E===!0&&(o|=24),E=dr(3,null,null,o),a.current=E,E.stateNode=a,o=Jg(),o.refCount++,a.pooledCache=o,o.refCount++,E.memoizedState={element:h,isDehydrated:c,cache:o},Pv(E),a}function rM(a){return a?(a=Ll,a):Ll}function aM(a,o,c,h,y,E){y=rM(y),h.context===null?h.context=y:h.pendingContext=y,h=bs(o),h.payload={element:c},E=E===void 0?null:E,E!==null&&(h.callback=E),c=xs(a,h,o),c!==null&&(wi(c,a,o),Nc(c,a,o))}function sM(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function Sy(a,o){sM(a,o),(a=a.alternate)&&sM(a,o)}function oM(a){if(a.tag===13){var o=hs(a,67108864);o!==null&&wi(o,a,67108864),Sy(a,67108864)}}var yh=!0;function mN(a,o,c,h){var y=A.T;A.T=null;var E=V.p;try{V.p=2,Ey(a,o,c,h)}finally{V.p=E,A.T=y}}function gN(a,o,c,h){var y=A.T;A.T=null;var E=V.p;try{V.p=8,Ey(a,o,c,h)}finally{V.p=E,A.T=y}}function Ey(a,o,c,h){if(yh){var y=wy(h);if(y===null)dy(a,o,h,_h,c),uM(a,h);else if(yN(y,a,o,c,h))h.stopPropagation();else if(uM(a,h),o&4&&-1<vN.indexOf(a)){for(;y!==null;){var E=z(y);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var P=Ie(E.pendingLanes);if(P!==0){var B=E;for(B.pendingLanes|=2,B.entangledLanes|=2;P;){var q=1<<31-it(P);B.entanglements[1]|=q,P&=~q}Yr(E),!(Mn&6)&&(nh=we()+500,Yc(0))}}break;case 13:B=hs(E,2),B!==null&&wi(B,E,2),ah(),Sy(E,2)}if(E=wy(h),E===null&&dy(a,o,h,_h,c),E===y)break;y=E}y!==null&&h.stopPropagation()}else dy(a,o,h,null,c)}}function wy(a){return a=Dg(a),My(a)}var _h=null;function My(a){if(_h=null,a=_a(a),a!==null){var o=G(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=te(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return _h=a,null}function lM(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case xe:return 2;case Ye:return 8;case ke:case He:return 32;case wt:return 268435456;default:return 32}default:return 32}}var Ty=!1,As=null,Rs=null,Ds=null,Jc=new Map,ed=new Map,Ls=[],vN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uM(a,o){switch(a){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Jc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ed.delete(o.pointerId)}}function td(a,o,c,h,y,E){return a===null||a.nativeEvent!==E?(a={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:E,targetContainers:[y]},o!==null&&(o=z(o),o!==null&&oM(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function yN(a,o,c,h,y){switch(o){case"focusin":return As=td(As,a,o,c,h,y),!0;case"dragenter":return Rs=td(Rs,a,o,c,h,y),!0;case"mouseover":return Ds=td(Ds,a,o,c,h,y),!0;case"pointerover":var E=y.pointerId;return Jc.set(E,td(Jc.get(E)||null,a,o,c,h,y)),!0;case"gotpointercapture":return E=y.pointerId,ed.set(E,td(ed.get(E)||null,a,o,c,h,y)),!0}return!1}function cM(a){var o=_a(a.target);if(o!==null){var c=G(o);if(c!==null){if(o=c.tag,o===13){if(o=te(c),o!==null){a.blockedOn=o,bf(a.priority,function(){if(c.tag===13){var h=$i(),y=hs(c,h);y!==null&&wi(y,c,h),Sy(c,h)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function bh(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=wy(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Rg=h,c.target.dispatchEvent(h),Rg=null}else return o=z(c),o!==null&&oM(o),a.blockedOn=c,!1;o.shift()}return!0}function dM(a,o,c){bh(a)&&c.delete(o)}function _N(){Ty=!1,As!==null&&bh(As)&&(As=null),Rs!==null&&bh(Rs)&&(Rs=null),Ds!==null&&bh(Ds)&&(Ds=null),Jc.forEach(dM),ed.forEach(dM)}function xh(a,o){a.blockedOn===o&&(a.blockedOn=null,Ty||(Ty=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_N)))}var Sh=null;function fM(a){Sh!==a&&(Sh=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sh===a&&(Sh=null);for(var o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],y=a[o+2];if(typeof h!="function"){if(My(h||c)===null)continue;break}var E=z(c);E!==null&&(a.splice(o,3),o-=3,mv(E,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function nd(a){function o(q){return xh(q,a)}As!==null&&xh(As,a),Rs!==null&&xh(Rs,a),Ds!==null&&xh(Ds,a),Jc.forEach(o),ed.forEach(o);for(var c=0;c<Ls.length;c++){var h=Ls[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Ls.length&&(c=Ls[0],c.blockedOn===null);)cM(c),c.blockedOn===null&&Ls.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],E=c[h+1],P=y[Yn]||null;if(typeof E=="function")P||fM(c);else if(P){var B=null;if(E&&E.hasAttribute("formAction")){if(y=E,P=E[Yn]||null)B=P.formAction;else if(My(y)!==null)continue}else B=P.action;typeof B=="function"?c[h+1]=B:(c.splice(h,3),h-=3),fM(c)}}}function Cy(a){this._internalRoot=a}Eh.prototype.render=Cy.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,h=$i();aM(c,h,a,o,null,null)},Eh.prototype.unmount=Cy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;a.tag===0&&$l(),aM(a.current,2,null,a,null,null),ah(),o[ya]=null}};function Eh(a){this._internalRoot=a}Eh.prototype.unstable_scheduleHydration=function(a){if(a){var o=cc();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Ls.length&&o!==0&&o<Ls[c].priority;c++);Ls.splice(c,0,a),c===0&&cM(a)}};var hM=e.version;if(hM!=="19.0.0")throw Error(i(527,hM,"19.0.0"));V.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=ee(o),a=a!==null?J(a):null,a=a===null?null:a.stateNode,a};var bN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:_a,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{et=wh.inject(bN),Xe=wh}catch{}}return rd.createRoot=function(a,o){if(!r(a))throw Error(i(299));var c=!1,h="",y=DE,E=LE,P=OE,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks)),o=iM(a,1,!1,null,null,c,h,y,E,P,B,null),a[ya]=o.current,cy(a.nodeType===8?a.parentNode:a),new Cy(o)},rd.hydrateRoot=function(a,o,c){if(!r(a))throw Error(i(299));var h=!1,y="",E=DE,P=LE,B=OE,q=null,se=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks),c.formState!==void 0&&(se=c.formState)),o=iM(a,1,!0,o,c??null,h,y,E,P,B,q,se),o.context=rM(null),c=o.current,h=$i(),y=bs(h),y.callback=null,xs(c,y,h),o.current.lanes=h,nn(o,h),Yr(o),a[ya]=o.current,cy(a),new Eh(o)},rd.version="19.0.0",rd}var EM;function PN(){if(EM)return Dy.exports;EM=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dy.exports=ON(),Dy.exports}var IN=PN(),ad={},wM;function NN(){if(wM)return ad;wM=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.parse=l,ad.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,v){const _=new s,w=g.length;if(w<2)return _;const x=(v==null?void 0:v.decode)||p;let b=0;do{const M=g.indexOf("=",b);if(M===-1)break;const C=g.indexOf(";",b),T=C===-1?w:C;if(M>T){b=g.lastIndexOf(";",M-1)+1;continue}const O=u(g,b,M),L=d(g,M,O),D=g.slice(O,L);if(_[D]===void 0){let I=u(g,M+1,T),A=d(g,T,I);const R=x(g.slice(I,A));_[D]=R}b=T+1}while(b<w);return _}function u(g,v,_){do{const w=g.charCodeAt(v);if(w!==32&&w!==9)return v}while(++v<_);return _}function d(g,v,_){for(;v>_;){const w=g.charCodeAt(--v);if(w!==32&&w!==9)return v+1}return _}function f(g,v,_){const w=(_==null?void 0:_.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const x=w(v);if(!e.test(x))throw new TypeError(`argument val is invalid: ${v}`);let b=g+"="+x;if(!_)return b;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);b+="; Max-Age="+_.maxAge}if(_.domain){if(!t.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);b+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);b+="; Path="+_.path}if(_.expires){if(!m(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);b+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(b+="; HttpOnly"),_.secure&&(b+="; Secure"),_.partitioned&&(b+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return b}function p(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return r.call(g)==="[object Date]"}return ad}NN();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var MM="popstate";function kN(n={}){function e(i,r){let{pathname:s,search:l,hash:u}=i.location;return i_("",{pathname:s,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:kd(r)}return FN(e,t,null,n)}function Cn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function da(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UN(){return Math.random().toString(36).substring(2,10)}function TM(n,e){return{usr:n.state,key:n.key,idx:e}}function i_(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ec(e):e,state:t,key:e&&e.key||i||UN()}}function kd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ec(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function FN(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,l=r.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let x=p(),b=x==null?null:x-f;f=x,d&&d({action:u,location:w.location,delta:b})}function g(x,b){u="PUSH";let M=i_(w.location,x,b);f=p()+1;let C=TM(M,f),T=w.createHref(M);try{l.pushState(C,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(T)}s&&d&&d({action:u,location:w.location,delta:1})}function v(x,b){u="REPLACE";let M=i_(w.location,x,b);f=p();let C=TM(M,f),T=w.createHref(M);l.replaceState(C,"",T),s&&d&&d({action:u,location:w.location,delta:0})}function _(x){let b=r.location.origin!=="null"?r.location.origin:r.location.href,M=typeof x=="string"?x:kd(x);return M=M.replace(/ $/,"%20"),Cn(b,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,b)}let w={get action(){return u},get location(){return n(r,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(MM,m),d=x,()=>{r.removeEventListener(MM,m),d=null}},createHref(x){return e(r,x)},createURL:_,encodeLocation(x){let b=_(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:v,go(x){return l.go(x)}};return w}function zR(n,e,t="/"){return BN(n,e,t,!1)}function BN(n,e,t,i){let r=typeof e=="string"?ec(e):e,s=io(r.pathname||"/",t);if(s==null)return null;let l=HR(n);zN(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=ZN(s);u=XN(l[d],f,i)}return u}function HR(n,e=[],t=[],i=""){let r=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Cn(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let f=Xa([i,d.relativePath]),p=t.concat(d);s.children&&s.children.length>0&&(Cn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),HR(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:qN(f,s.index),routesMeta:p})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,l);else for(let d of VR(s.path))r(s,l,d)}),e}function VR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let l=VR(i.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),r&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function zN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$N(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var HN=/^:[\w-]+$/,VN=3,GN=2,jN=1,WN=10,YN=-2,CM=n=>n==="*";function qN(n,e){let t=n.split("/"),i=t.length;return t.some(CM)&&(i+=YN),e&&(i+=GN),t.filter(r=>!CM(r)).reduce((r,s)=>r+(HN.test(s)?VN:s===""?jN:WN),i)}function $N(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function XN(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=tm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),g=d.route;if(!m&&f&&t&&!i[i.length-1].route.index&&(m=tm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Xa([s,m.pathname]),pathnameBase:t3(Xa([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Xa([s,m.pathnameBase]))}return l}function tm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=KN(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:m},g)=>{if(p==="*"){let _=u[g]||"";l=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=u[g];return m&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function KN(n,e=!1,t=!0){da(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function ZN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return da(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function io(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function QN(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ec(n):n;return{pathname:t?t.startsWith("/")?t:JN(t,e):e,search:n3(i),hash:i3(r)}}function JN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Iy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function GR(n){let e=e3(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function jR(n,e,t,i=!1){let r;typeof n=="string"?r=ec(n):(r={...n},Cn(!r.pathname||!r.pathname.includes("?"),Iy("?","pathname","search",r)),Cn(!r.pathname||!r.pathname.includes("#"),Iy("#","pathname","hash",r)),Cn(!r.search||!r.search.includes("#"),Iy("#","search","hash",r)));let s=n===""||r.pathname==="",l=s?"/":r.pathname,u;if(l==null)u=t;else{let m=e.length-1;if(!i&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}u=m>=0?e[m]:"/"}let d=QN(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Xa=n=>n.join("/").replace(/\/\/+/g,"/"),t3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),n3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,i3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function r3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var WR=["POST","PUT","PATCH","DELETE"];new Set(WR);var a3=["GET",...WR];new Set(a3);var tc=S.createContext(null);tc.displayName="DataRouter";var qm=S.createContext(null);qm.displayName="DataRouterState";var YR=S.createContext({isTransitioning:!1});YR.displayName="ViewTransition";var s3=S.createContext(new Map);s3.displayName="Fetchers";var o3=S.createContext(null);o3.displayName="Await";var ma=S.createContext(null);ma.displayName="Navigation";var Zd=S.createContext(null);Zd.displayName="Location";var us=S.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var Ib=S.createContext(null);Ib.displayName="RouteError";function l3(n,{relative:e}={}){Cn(Qd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=S.useContext(ma),{hash:r,pathname:s,search:l}=Jd(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Xa([t,s])),i.createHref({pathname:u,search:l,hash:r})}function Qd(){return S.useContext(Zd)!=null}function lo(){return Cn(Qd(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Zd).location}var qR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $R(n){S.useContext(ma).static||S.useLayoutEffect(n)}function Nb(){let{isDataRoute:n}=S.useContext(us);return n?x3():u3()}function u3(){Cn(Qd(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(tc),{basename:e,navigator:t}=S.useContext(ma),{matches:i}=S.useContext(us),{pathname:r}=lo(),s=JSON.stringify(GR(i)),l=S.useRef(!1);return $R(()=>{l.current=!0}),S.useCallback((d,f={})=>{if(da(l.current,qR),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=jR(d,JSON.parse(s),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Xa([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,s,r,n])}S.createContext(null);function Jd(n,{relative:e}={}){let{matches:t}=S.useContext(us),{pathname:i}=lo(),r=JSON.stringify(GR(t));return S.useMemo(()=>jR(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function c3(n,e){return XR(n,e)}function XR(n,e,t,i){var M;Cn(Qd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=S.useContext(ma),{matches:l}=S.useContext(us),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let C=m&&m.path||"";KR(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=lo(),v;if(e){let C=typeof e=="string"?ec(e):e;Cn(p==="/"||((M=C.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=g;let _=v.pathname||"/",w=_;if(p!=="/"){let C=p.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=!s&&t&&t.matches&&t.matches.length>0?t.matches:zR(n,{pathname:w});da(m||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),da(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=m3(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Xa([p,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Xa([p,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,t,i);return e&&b?S.createElement(Zd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},b):b}function d3(){let n=b3(),e=r3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:r},t):null,l)}var f3=S.createElement(d3,null),h3=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(us.Provider,{value:this.props.routeContext},S.createElement(Ib.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p3({routeContext:n,match:e,children:t}){let i=S.useContext(tc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(us.Provider,{value:n},t)}function m3(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let d=r.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Cn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<r.length;d++){let f=r[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=t,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((d,f,p)=>{let m,g=!1,v=null,_=null;t&&(m=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||f3,l&&(u<0&&p===0?(KR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,_=null):u===p&&(g=!0,_=f.route.hydrateFallbackElement||null)));let w=e.concat(r.slice(0,p+1)),x=()=>{let b;return m?b=v:g?b=_:f.route.Component?b=S.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,S.createElement(p3,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:b})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?S.createElement(h3,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function kb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g3(n){let e=S.useContext(tc);return Cn(e,kb(n)),e}function v3(n){let e=S.useContext(qm);return Cn(e,kb(n)),e}function y3(n){let e=S.useContext(us);return Cn(e,kb(n)),e}function Ub(n){let e=y3(n),t=e.matches[e.matches.length-1];return Cn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _3(){return Ub("useRouteId")}function b3(){var i;let n=S.useContext(Ib),e=v3("useRouteError"),t=Ub("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function x3(){let{router:n}=g3("useNavigate"),e=Ub("useNavigate"),t=S.useRef(!1);return $R(()=>{t.current=!0}),S.useCallback(async(r,s={})=>{da(t.current,qR),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var AM={};function KR(n,e,t){!e&&!AM[n]&&(AM[n]=!0,da(!1,t))}S.memo(S3);function S3({routes:n,future:e,state:t}){return XR(n,void 0,t,e)}function Sd(n){Cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function E3({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){Cn(!Qd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:r,static:s,future:{}}),[l,r,s]);typeof t=="string"&&(t=ec(t));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:g="default"}=t,v=S.useMemo(()=>{let _=io(d,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:m,key:g},navigationType:i}},[l,d,f,p,m,g,i]);return da(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:S.createElement(ma.Provider,{value:u},S.createElement(Zd.Provider,{children:e,value:v}))}function w3({children:n,location:e}){return c3(r_(n),e)}function r_(n,e=[]){let t=[];return S.Children.forEach(n,(i,r)=>{if(!S.isValidElement(i))return;let s=[...e,r];if(i.type===S.Fragment){t.push.apply(t,r_(i.props.children,s));return}Cn(i.type===Sd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=r_(i.props.children,s)),t.push(l)}),t}var gp="get",vp="application/x-www-form-urlencoded";function $m(n){return n!=null&&typeof n.tagName=="string"}function M3(n){return $m(n)&&n.tagName.toLowerCase()==="button"}function T3(n){return $m(n)&&n.tagName.toLowerCase()==="form"}function C3(n){return $m(n)&&n.tagName.toLowerCase()==="input"}function A3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function R3(n,e){return n.button===0&&(!e||e==="_self")&&!A3(n)}var Mh=null;function D3(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var L3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ny(n){return n!=null&&!L3.has(n)?(da(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vp}"`),null):n}function O3(n,e){let t,i,r,s,l;if(T3(n)){let u=n.getAttribute("action");i=u?io(u,e):null,t=n.getAttribute("method")||gp,r=Ny(n.getAttribute("enctype"))||vp,s=new FormData(n)}else if(M3(n)||C3(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(i=d?io(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||gp,r=Ny(n.getAttribute("formenctype"))||Ny(u.getAttribute("enctype"))||vp,s=new FormData(u,n),!D3()){let{name:f,type:p,value:m}=n;if(p==="image"){let g=f?`${f}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else f&&s.append(f,m)}}else{if($m(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gp,i=null,r=vp,l=n}return s&&r==="text/plain"&&(l=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:l}}function Fb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function P3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function N3(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let l=await P3(s,t);return l.links?l.links():[]}return[]}));return B3(i.flat(1).filter(I3).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function RM(n,e,t,i,r,s){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):s==="data"?e.filter((d,f)=>{var m;let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function k3(n,e){return U3(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function U3(n){return[...new Set(n)]}function F3(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function B3(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(F3(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function z3(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function H3(){let n=S.useContext(tc);return Fb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function V3(){let n=S.useContext(qm);return Fb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bb=S.createContext(void 0);Bb.displayName="FrameworkContext";function ZR(){let n=S.useContext(Bb);return Fb(n,"You must render this element inside a <HydratedRouter> element"),n}function G3(n,e){let t=S.useContext(Bb),[i,r]=S.useState(!1),[s,l]=S.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,g=S.useRef(null);S.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let w=b=>{b.forEach(M=>{l(M.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[n]),S.useEffect(()=>{if(i){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[i]);let v=()=>{r(!0)},_=()=>{r(!1),l(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:sd(u,v),onBlur:sd(d,_),onMouseEnter:sd(f,v),onMouseLeave:sd(p,_),onTouchStart:sd(m,v)}]:[!1,g,{}]}function sd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function j3({page:n,...e}){let{router:t}=H3(),i=S.useMemo(()=>zR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?S.createElement(Y3,{page:n,matches:i,...e}):null}function W3(n){let{manifest:e,routeModules:t}=ZR(),[i,r]=S.useState([]);return S.useEffect(()=>{let s=!1;return N3(n,e,t).then(l=>{s||r(l)}),()=>{s=!0}},[n,e,t]),i}function Y3({page:n,matches:e,...t}){let i=lo(),{manifest:r,routeModules:s}=ZR(),{loaderData:l,matches:u}=V3(),d=S.useMemo(()=>RM(n,e,u,r,i,"data"),[n,e,u,r,i]),f=S.useMemo(()=>RM(n,e,u,r,i,"assets"),[n,e,u,r,i]),p=S.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let v=new Set,_=!1;if(e.forEach(x=>{var M;let b=r.routes[x.route.id];!b||!b.hasLoader||(!d.some(C=>C.route.id===x.route.id)&&x.route.id in l&&((M=s[x.route.id])!=null&&M.shouldRevalidate)||b.hasClientLoader?_=!0:v.add(x.route.id))}),v.size===0)return[];let w=z3(n);return _&&v.size>0&&w.searchParams.set("_routes",e.filter(x=>v.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[l,i,r,d,e,n,s]),m=S.useMemo(()=>k3(f,r),[f,r]),g=W3(f);return S.createElement(S.Fragment,null,p.map(v=>S.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),m.map(v=>S.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),g.map(({key:v,link:_})=>S.createElement("link",{key:v,..._})))}function q3(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QR&&(window.__reactRouterVersion="7.1.5")}catch{}function $3({basename:n,children:e,window:t}){let i=S.useRef();i.current==null&&(i.current=kN({window:t,v5Compat:!0}));let r=i.current,[s,l]=S.useState({action:r.action,location:r.location}),u=S.useCallback(d=>{S.startTransition(()=>l(d))},[l]);return S.useLayoutEffect(()=>r.listen(u),[r,u]),S.createElement(E3,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var JR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ul=S.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,...g},v){let{basename:_}=S.useContext(ma),w=typeof f=="string"&&JR.test(f),x,b=!1;if(typeof f=="string"&&w&&(x=f,QR))try{let A=new URL(window.location.href),R=f.startsWith("//")?new URL(A.protocol+f):new URL(f),N=io(R.pathname,_);R.origin===A.origin&&N!=null?f=N+R.search+R.hash:b=!0}catch{da(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=l3(f,{relative:r}),[C,T,O]=G3(i,g),L=Q3(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:m});function D(A){e&&e(A),A.defaultPrevented||L(A)}let I=S.createElement("a",{...g,...O,href:x||M,onClick:b||s?e:D,ref:q3(v,T),target:d,"data-discover":!w&&t==="render"?"true":void 0});return C&&!w?S.createElement(S.Fragment,null,I,S.createElement(j3,{page:M})):I});ul.displayName="Link";var X3=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:l,viewTransition:u,children:d,...f},p){let m=Jd(l,{relative:f.relative}),g=lo(),v=S.useContext(qm),{navigator:_,basename:w}=S.useContext(ma),x=v!=null&&ik(m)&&u===!0,b=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,M=g.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(M=M.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&w&&(C=io(C,w)||C);const T=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let O=M===b||!r&&M.startsWith(b)&&M.charAt(T)==="/",L=C!=null&&(C===b||!r&&C.startsWith(b)&&C.charAt(b.length)==="/"),D={isActive:O,isPending:L,isTransitioning:x},I=O?e:void 0,A;typeof i=="function"?A=i(D):A=[i,O?"active":null,L?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(D):s;return S.createElement(ul,{...f,"aria-current":I,className:A,ref:p,style:R,to:l,viewTransition:u},typeof d=="function"?d(D):d)});X3.displayName="NavLink";var K3=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:l=gp,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...g},v)=>{let _=tk(),w=nk(u,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",b=typeof u=="string"&&JR.test(u),M=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let T=C.nativeEvent.submitter,O=(T==null?void 0:T.getAttribute("formmethod"))||l;_(T||C.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:r,state:s,relative:f,preventScrollReset:p,viewTransition:m})};return S.createElement("form",{ref:v,method:x,action:w,onSubmit:i?d:M,...g,"data-discover":!b&&n==="render"?"true":void 0})});K3.displayName="Form";function Z3(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eD(n){let e=S.useContext(tc);return Cn(e,Z3(n)),e}function Q3(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:l}={}){let u=Nb(),d=lo(),f=Jd(n,{relative:s});return S.useCallback(p=>{if(R3(p,e)){p.preventDefault();let m=t!==void 0?t:kd(d)===kd(f);u(n,{replace:m,state:i,preventScrollReset:r,relative:s,viewTransition:l})}},[d,u,f,t,i,e,n,r,s,l])}var J3=0,ek=()=>`__${String(++J3)}__`;function tk(){let{router:n}=eD("useSubmit"),{basename:e}=S.useContext(ma),t=_3();return S.useCallback(async(i,r={})=>{let{action:s,method:l,encType:u,formData:d,body:f}=O3(i,e);if(r.navigate===!1){let p=r.fetcherKey||ek();await n.fetch(p,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function nk(n,{relative:e}={}){let{basename:t}=S.useContext(ma),i=S.useContext(us);Cn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Jd(n||".",{relative:e})},l=lo();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Xa([t,s.pathname])),kd(s)}function ik(n,e={}){let t=S.useContext(YR);Cn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=eD("useViewTransitionState"),r=Jd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=io(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=io(t.nextLocation.pathname,i)||t.nextLocation.pathname;return tm(r.pathname,l)!=null||tm(r.pathname,s)!=null}new TextEncoder;var cs=BR();const tD=Ob(cs);var DM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},rk=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],l=n[t++],u=n[t++],d=((r&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|l&63)}}return e.join("")},iD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],l=r+1<n.length,u=l?n[r+1]:0,d=r+2<n.length,f=d?n[r+2]:0,p=s>>2,m=(s&3)<<4|u>>4;let g=(u&15)<<2|f>>6,v=f&63;d||(v=64,l||(g=64)),i.push(t[p],t[m],t[g],t[v])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const m=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||u==null||f==null||m==null)throw new ak;const g=s<<2|u>>4;if(i.push(g),f!==64){const v=u<<4&240|f>>2;if(i.push(v),m!==64){const _=f<<6&192|m;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ak extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sk=function(n){const e=nD(n);return iD.encodeByteArray(e,!0)},rD=function(n){return sk(n).replace(/\./g,"")},aD=function(n){try{return iD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=()=>ok().__FIREBASE_DEFAULTS__,uk=()=>{if(typeof process>"u"||typeof DM>"u")return;const n=DM.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ck=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&aD(n[1]);return e&&JSON.parse(e)},zb=()=>{try{return lk()||uk()||ck()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dk=n=>{var e,t;return(t=(e=zb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sD=()=>{var n;return(n=zb())===null||n===void 0?void 0:n.config},oD=n=>{var e;return(e=zb())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ri())}function pk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gk(){const n=Ri();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uD(){try{return typeof indexedDB=="object"}catch{return!1}}function cD(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function vk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="FirebaseError";class ga extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=yk,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],l=s?_k(s,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new ga(r,u,i)}}function _k(n,e){return n.replace(bk,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const bk=/\{\$([^}]+)}/g;function xk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ud(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],l=e[r];if(LM(s)&&LM(l)){if(!Ud(s,l))return!1}else if(s!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function LM(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ed(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function wd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Sk(n,e){const t=new Ek(n,e);return t.subscribe.bind(t)}class Ek{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");wk(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=ky),r.error===void 0&&(r.error=ky),r.complete===void 0&&(r.complete=ky);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ky(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=1e3,Tk=2,Ck=4*60*60*1e3,Ak=.5;function OM(n,e=Mk,t=Tk){const i=e*Math.pow(t,n),r=Math.round(Ak*i*(Math.random()-.5)*2);return Math.min(Ck,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n){return n&&n._delegate?n._delegate:n}class fa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new fk;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lk(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);i===u&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const l=this.instances.get(r);return l&&e(l,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Dk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dk(n){return n===Ho?void 0:n}function Lk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Rk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(vn||(vn={}));const Pk={debug:vn.DEBUG,verbose:vn.VERBOSE,info:vn.INFO,warn:vn.WARN,error:vn.ERROR,silent:vn.SILENT},Ik=vn.INFO,Nk={[vn.DEBUG]:"log",[vn.VERBOSE]:"log",[vn.INFO]:"info",[vn.WARN]:"warn",[vn.ERROR]:"error"},kk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=Nk[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hb{constructor(e){this.name=e,this._logLevel=Ik,this._logHandler=kk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vn.DEBUG,...e),this._logHandler(this,vn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vn.VERBOSE,...e),this._logHandler(this,vn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vn.INFO,...e),this._logHandler(this,vn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vn.WARN,...e),this._logHandler(this,vn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vn.ERROR,...e),this._logHandler(this,vn.ERROR,...e)}}const Uk=(n,e)=>e.some(t=>n instanceof t);let PM,IM;function Fk(){return PM||(PM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bk(){return IM||(IM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dD=new WeakMap,a_=new WeakMap,fD=new WeakMap,Uy=new WeakMap,Vb=new WeakMap;function zk(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Ks(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&dD.set(t,n)}).catch(()=>{}),Vb.set(e,n),e}function Hk(n){if(a_.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});a_.set(n,e)}let s_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return a_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Vk(n){s_=n(s_)}function Gk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Fy(this),e,...t);return fD.set(i,e.sort?e.sort():[e]),Ks(i)}:Bk().includes(n)?function(...e){return n.apply(Fy(this),e),Ks(dD.get(this))}:function(...e){return Ks(n.apply(Fy(this),e))}}function jk(n){return typeof n=="function"?Gk(n):(n instanceof IDBTransaction&&Hk(n),Uk(n,Fk())?new Proxy(n,s_):n)}function Ks(n){if(n instanceof IDBRequest)return zk(n);if(Uy.has(n))return Uy.get(n);const e=jk(n);return e!==n&&(Uy.set(n,e),Vb.set(e,n)),e}const Fy=n=>Vb.get(n);function hD(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const l=indexedDB.open(n,e),u=Ks(l);return i&&l.addEventListener("upgradeneeded",d=>{i(Ks(l.result),d.oldVersion,d.newVersion,Ks(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const Wk=["get","getKey","getAll","getAllKeys","count"],Yk=["put","add","delete","clear"],By=new Map;function NM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(By.get(e))return By.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Yk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Wk.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&d.done]))[0]};return By.set(e,s),s}Vk(n=>({...n,get:(e,t,i)=>NM(e,t)||n.get(e,t,i),has:(e,t)=>!!NM(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($k(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function $k(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const o_="@firebase/app",kM="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Hb("@firebase/app"),Xk="@firebase/app-compat",Kk="@firebase/analytics-compat",Zk="@firebase/analytics",Qk="@firebase/app-check-compat",Jk="@firebase/app-check",eU="@firebase/auth",tU="@firebase/auth-compat",nU="@firebase/database",iU="@firebase/data-connect",rU="@firebase/database-compat",aU="@firebase/functions",sU="@firebase/functions-compat",oU="@firebase/installations",lU="@firebase/installations-compat",uU="@firebase/messaging",cU="@firebase/messaging-compat",dU="@firebase/performance",fU="@firebase/performance-compat",hU="@firebase/remote-config",pU="@firebase/remote-config-compat",mU="@firebase/storage",gU="@firebase/storage-compat",vU="@firebase/firestore",yU="@firebase/vertexai",_U="@firebase/firestore-compat",bU="firebase",xU="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="[DEFAULT]",SU={[o_]:"fire-core",[Xk]:"fire-core-compat",[Zk]:"fire-analytics",[Kk]:"fire-analytics-compat",[Jk]:"fire-app-check",[Qk]:"fire-app-check-compat",[eU]:"fire-auth",[tU]:"fire-auth-compat",[nU]:"fire-rtdb",[iU]:"fire-data-connect",[rU]:"fire-rtdb-compat",[aU]:"fire-fn",[sU]:"fire-fn-compat",[oU]:"fire-iid",[lU]:"fire-iid-compat",[uU]:"fire-fcm",[cU]:"fire-fcm-compat",[dU]:"fire-perf",[fU]:"fire-perf-compat",[hU]:"fire-rc",[pU]:"fire-rc-compat",[mU]:"fire-gcs",[gU]:"fire-gcs-compat",[vU]:"fire-fst",[_U]:"fire-fst-compat",[yU]:"fire-vertex","fire-js":"fire-js",[bU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map,EU=new Map,u_=new Map;function UM(n,e){try{n.container.addComponent(e)}catch(t){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function as(n){const e=n.name;if(u_.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;u_.set(e,n);for(const t of nm.values())UM(t,n);for(const t of EU.values())UM(t,n);return!0}function nc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new bl("app","Firebase",wU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=xU;function pD(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:l_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Zs.create("bad-app-name",{appName:String(r)});if(t||(t=sD()),!t)throw Zs.create("no-options");const s=nm.get(r);if(s){if(Ud(t,s.options)&&Ud(i,s.config))return s;throw Zs.create("duplicate-app",{appName:r})}const l=new Ok(r);for(const d of u_.values())l.addComponent(d);const u=new MU(t,i,l);return nm.set(r,u),u}function mD(n=l_){const e=nm.get(n);if(!e&&n===l_&&sD())return pD();if(!e)throw Zs.create("no-app",{appName:n});return e}function aa(n,e,t){var i;let r=(i=SU[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(u.join(" "));return}as(new fa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="firebase-heartbeat-database",CU=1,Fd="firebase-heartbeat-store";let zy=null;function gD(){return zy||(zy=hD(TU,CU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zs.create("idb-open",{originalErrorMessage:n.message})})),zy}async function AU(n){try{const t=(await gD()).transaction(Fd),i=await t.objectStore(Fd).get(vD(n));return await t.done,i}catch(e){if(e instanceof ga)rs.warn(e.message);else{const t=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(t.message)}}}async function FM(n,e){try{const i=(await gD()).transaction(Fd,"readwrite");await i.objectStore(Fd).put(e,vD(n)),await i.done}catch(t){if(t instanceof ga)rs.warn(t.message);else{const i=Zs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rs.warn(i.message)}}}function vD(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=1024,DU=30;class LU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PU(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>DU){const l=IU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){rs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=BM(),{heartbeatsToSend:i,unsentEntries:r}=OU(this._heartbeatsCache.heartbeats),s=rD(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return rs.warn(t),""}}}function BM(){return new Date().toISOString().substring(0,10)}function OU(n,e=RU){const t=[];let i=n.slice();for(const r of n){const s=t.find(l=>l.agent===r.agent);if(s){if(s.dates.push(r.date),zM(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),zM(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class PU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uD()?cD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return FM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return FM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zM(n){return rD(JSON.stringify({version:2,heartbeats:n})).length}function IU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(n){as(new fa("platform-logger",e=>new qk(e),"PRIVATE")),as(new fa("heartbeat",e=>new LU(e),"PRIVATE")),aa(o_,kM,n),aa(o_,kM,"esm2017"),aa("fire-js","")}NU("");var kU="firebase",UU="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa(kU,UU,"app");function Gb(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function yD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FU=yD,_D=new bl("auth","Firebase",yD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Hb("@firebase/auth");function BU(n,...e){im.logLevel<=vn.WARN&&im.warn(`Auth (${tf}): ${n}`,...e)}function yp(n,...e){im.logLevel<=vn.ERROR&&im.error(`Auth (${tf}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,...e){throw Wb(n,...e)}function kr(n,...e){return Wb(n,...e)}function jb(n,e,t){const i=Object.assign(Object.assign({},FU()),{[e]:t});return new bl("auth","Firebase",i).create(e,{appName:n.name})}function Ka(n){return jb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zU(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Sr(n,"argument-error"),jb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wb(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return _D.create(n,...e)}function _t(n,e,...t){if(!n)throw Wb(e,...t)}function ja(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yp(e),new Error(e)}function ss(n,e){n||ja(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HU(){return HM()==="http:"||HM()==="https:"}function HM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HU()||lD()||"connection"in navigator)?navigator.onLine:!0}function GU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ss(t>e,"Short delay should be less than long delay!"),this.isMobile=hk()||mk()}get(){return VU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n,e){ss(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=new nf(3e4,6e4);function uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function co(n,e,t,i,r={}){return xD(n,r,async()=>{let s={},l={};i&&(e==="GET"?l=i:s={body:JSON.stringify(i)});const u=ef(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},s);return pk()||(f.referrerPolicy="no-referrer"),bD.fetch()(SD(n,n.config.apiHost,t,u),f)})}async function xD(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},jU),e);try{const r=new qU(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Th(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Th(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Th(n,"user-disabled",l);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw jb(n,p,f);Sr(n,p)}}catch(r){if(r instanceof ga)throw r;Sr(n,"network-request-failed",{message:String(r)})}}async function rf(n,e,t,i,r={}){const s=await co(n,e,t,i,r);return"mfaPendingCredential"in s&&Sr(n,"multi-factor-auth-required",{_serverResponse:s}),s}function SD(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?Yb(n.config,r):`${n.config.apiScheme}://${r}`}function YU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(kr(this.auth,"network-request-failed")),WU.get())})}}function Th(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=kr(n,e,i);return r.customData._tokenResponse=t,r}function VM(n){return n!==void 0&&n.enterprise!==void 0}class $U{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XU(n,e){return co(n,"GET","/v2/recaptchaConfig",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(n,e){return co(n,"POST","/v1/accounts:delete",e)}async function ED(n,e){return co(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZU(n,e=!1){const t=Hr(n),i=await t.getIdToken(e),r=qb(i);_t(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Rd(Hy(r.auth_time)),issuedAtTime:Rd(Hy(r.iat)),expirationTime:Rd(Hy(r.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hy(n){return Number(n)*1e3}function qb(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return yp("JWT malformed, contained fewer than 3 sections"),null;try{const r=aD(t);return r?JSON.parse(r):(yp("Failed to decode base64 JWT payload"),null)}catch(r){return yp("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function GM(n){const e=qb(n);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ga&&QU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function QU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rd(this.lastLoginAt),this.creationTime=Rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Bd(n,ED(t,{idToken:i}));_t(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wD(s.providerUserInfo):[],u=tF(n.providerData,l),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),p=d?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new d_(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function eF(n){const e=Hr(n);await rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tF(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function wD(n){return n.map(e=>{var{providerId:t}=e,i=Gb(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(n,e){const t=await xD(n,{},async()=>{const i=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,l=SD(n,r,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",bD.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iF(n,e){return co(n,"POST","/v2/accounts:revokeToken",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_t(e.length!==0,"internal-error");const t=GM(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await nF(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,l=new wu;return i&&(_t(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(_t(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),s&&(_t(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wu,this.toJSON())}_performRefresh(){return ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(n,e){_t(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wa{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Gb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new d_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Bd(this,this.stsTokenManager.getToken(this.auth,e));return _t(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZU(this,e)}reload(){return eF(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await rm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(Ka(this.auth));const e=await this.getIdToken();return await Bd(this,KU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,l,u,d,f,p;const m=(i=t.displayName)!==null&&i!==void 0?i:void 0,g=(r=t.email)!==null&&r!==void 0?r:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,_=(l=t.photoURL)!==null&&l!==void 0?l:void 0,w=(u=t.tenantId)!==null&&u!==void 0?u:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,b=(f=t.createdAt)!==null&&f!==void 0?f:void 0,M=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:C,emailVerified:T,isAnonymous:O,providerData:L,stsTokenManager:D}=t;_t(C&&D,e,"internal-error");const I=wu.fromJSON(this.name,D);_t(typeof C=="string",e,"internal-error"),Ps(m,e.name),Ps(g,e.name),_t(typeof T=="boolean",e,"internal-error"),_t(typeof O=="boolean",e,"internal-error"),Ps(v,e.name),Ps(_,e.name),Ps(w,e.name),Ps(x,e.name),Ps(b,e.name),Ps(M,e.name);const A=new Wa({uid:C,auth:e,email:g,emailVerified:T,displayName:m,isAnonymous:O,photoURL:_,phoneNumber:v,tenantId:w,stsTokenManager:I,createdAt:b,lastLoginAt:M});return L&&Array.isArray(L)&&(A.providerData=L.map(R=>Object.assign({},R))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,t,i=!1){const r=new wu;r.updateFromServerResponse(t);const s=new Wa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await rm(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];_t(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?wD(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),u=new wu;u.updateFromIdToken(i);const d=new Wa({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new d_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new Map;function Ya(n){ss(n instanceof Function,"Expected a class definition");let e=jM.get(n);return e?(ss(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jM.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MD.type="NONE";const WM=MD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n,e,t){return`firebase:${n}:${e}:${t}`}class Mu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=_p(this.userKey,r.apiKey,s),this.fullPersistenceKey=_p("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Mu(Ya(WM),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||Ya(WM);const l=_p(i,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){const m=Wa._fromJSON(e,p);f!==s&&(u=m),s=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Mu(s,e,i):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Mu(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LD(e))return"Blackberry";if(OD(e))return"Webos";if(CD(e))return"Safari";if((e.includes("chrome/")||AD(e))&&!e.includes("edge/"))return"Chrome";if(DD(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function TD(n=Ri()){return/firefox\//i.test(n)}function CD(n=Ri()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AD(n=Ri()){return/crios\//i.test(n)}function RD(n=Ri()){return/iemobile/i.test(n)}function DD(n=Ri()){return/android/i.test(n)}function LD(n=Ri()){return/blackberry/i.test(n)}function OD(n=Ri()){return/webos/i.test(n)}function $b(n=Ri()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rF(n=Ri()){var e;return $b(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aF(){return gk()&&document.documentMode===10}function PD(n=Ri()){return $b(n)||DD(n)||OD(n)||LD(n)||/windows phone/i.test(n)||RD(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n,e=[]){let t;switch(n){case"Browser":t=YM(Ri());break;case"Worker":t=`${YM(Ri())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tf}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(n,e={}){return co(n,"GET","/v2/passwordPolicy",uo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=6;class uF{constructor(e){var t,i,r,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:lF,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qM(this),this.idTokenSubscription=new qM(this),this.beforeStateQueue=new sF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_D,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ya(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Mu.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ED(this,{idToken:e}),i=await Wa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(Ka(this));const t=e?Hr(e):null;return t&&_t(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ya(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oF(this),t=new uF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await iF(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ya(e)||this._popupRedirectResolver;_t(t,this,"argument-error"),this.redirectPersistenceManager=await Mu.create(this,[Ya(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,r);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ID(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fo(n){return Hr(n)}class qM{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sk(t=>this.observer=t)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dF(n){Xm=n}function ND(n){return Xm.loadJS(n)}function fF(){return Xm.recaptchaEnterpriseScript}function hF(){return Xm.gapiScript}function pF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class mF{constructor(){this.enterprise=new gF}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gF{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const vF="recaptcha-enterprise",kD="NO_RECAPTCHA";class yF{constructor(e){this.type=vF,this.auth=fo(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{XU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new $U(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function r(s,l,u){const d=window.grecaptcha;VM(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(kD)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mF().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{i(this.auth).then(u=>{if(!t&&VM(window.grecaptcha))r(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=fF();d.length!==0&&(d+=u),ND(d).then(()=>{r(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function $M(n,e,t,i=!1,r=!1){const s=new yF(n);let l;if(r)l=kD;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function f_(n,e,t,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await $M(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await $M(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(n,e){const t=nc(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Ud(s,e??{}))return r;Sr(r,"already-initialized")}return t.initialize({options:e})}function bF(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ya);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function xF(n,e,t){const i=fo(n);_t(i._canInitEmulator,i,"emulator-config-failed"),_t(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=UD(e),{host:l,port:u}=SF(e),d=u===null?"":`:${u}`;i.config.emulator={url:`${s}//${l}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),EF()}function UD(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SF(n){const e=UD(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:XM(i.substr(s.length+1))}}else{const[s,l]=i.split(":");return{host:s,port:XM(l)}}}function XM(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function EF(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ja("not implemented")}_getIdTokenResponse(e){return ja("not implemented")}_linkToIdToken(e,t){return ja("not implemented")}_getReauthenticationResolver(e){return ja("not implemented")}}async function wF(n,e){return co(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(n,e){return rf(n,"POST","/v1/accounts:signInWithPassword",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(n,e){return rf(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))}async function CF(n,e){return rf(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Xb{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new zd(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new zd(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,t,"signInWithPassword",MF);case"emailLink":return TF(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,i,"signUpPassword",wF);case"emailLink":return CF(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(n,e){return rf(n,"POST","/v1/accounts:signInWithIdp",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="http://localhost";class cl extends Xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new cl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=Gb(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new cl(i,r);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Tu(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Tu(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tu(e,t)}buildRequest(){const e={requestUri:AF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ef(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DF(n){const e=Ed(wd(n)).link,t=e?Ed(wd(e)).deep_link_id:null,i=Ed(wd(n)).deep_link_id;return(i?Ed(wd(i)).link:null)||i||t||e||n}class Kb{constructor(e){var t,i,r,s,l,u;const d=Ed(wd(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,p=(i=d.oobCode)!==null&&i!==void 0?i:null,m=RF((r=d.mode)!==null&&r!==void 0?r:null);_t(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=DF(e);try{return new Kb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.providerId=ic.PROVIDER_ID}static credential(e,t){return zd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Kb.parseLink(t);return _t(i,"argument-error"),zd._fromEmailAndCode(e,i.code,i.tenantId)}}ic.PROVIDER_ID="password";ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends Zb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends af{constructor(){super("facebook.com")}static credential(e){return cl._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return cl._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Va.credential(t,i)}catch{return null}}}Va.GOOGLE_SIGN_IN_METHOD="google.com";Va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends af{constructor(){super("github.com")}static credential(e){return cl._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends af{constructor(){super("twitter.com")}static credential(e,t){return cl._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return qs.credential(t,i)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(n,e){return rf(n,"POST","/v1/accounts:signUp",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await Wa._fromIdTokenResponse(e,i,r),l=KM(i);return new dl({user:s,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=KM(i);return new dl({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function KM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends ga{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,am.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new am(e,t,i,r)}}function FD(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(n,s,e,i):s})}async function OF(n,e,t=!1){const i=await Bd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return dl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(n,e,t=!1){const{auth:i}=n;if(xr(i.app))return Promise.reject(Ka(i));const r="reauthenticate";try{const s=await Bd(n,FD(i,r,e,n),t);_t(s.idToken,i,"internal-error");const l=qb(s.idToken);_t(l,i,"internal-error");const{sub:u}=l;return _t(n.uid===u,i,"user-mismatch"),dl._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sr(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e,t=!1){if(xr(n.app))return Promise.reject(Ka(n));const i="signIn",r=await FD(n,i,e),s=await dl._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function IF(n,e){return BD(fo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n){const e=fo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NF(n,e,t){if(xr(n.app))return Promise.reject(Ka(n));const i=fo(n),l=await f_(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LF).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&zD(n),d}),u=await dl._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function kF(n,e,t){return xr(n.app)?Promise.reject(Ka(n)):IF(Hr(n),ic.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&zD(n),i})}function UF(n,e,t,i){return Hr(n).onIdTokenChanged(e,t,i)}function FF(n,e,t){return Hr(n).beforeAuthStateChanged(e,t)}function BF(n,e,t,i){return Hr(n).onAuthStateChanged(e,t,i)}function zF(n){return Hr(n).signOut()}const sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=1e3,VF=10;class VD extends HD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},s=this.storage.getItem(i);aF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,VF):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},HF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VD.type="LOCAL";const GF=VD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD extends HD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GD.type="SESSION";const jD=GD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Km(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(t.origin,s)),d=await jF(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const f=Qb("",20);r.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(){return window}function YF(n){sa().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof sa().WorkerGlobalScope<"u"&&typeof sa().importScripts=="function"}async function qF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $F(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function XF(){return WD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="firebaseLocalStorageDb",KF=1,om="firebaseLocalStorage",qD="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zm(n,e){return n.transaction([om],e?"readwrite":"readonly").objectStore(om)}function ZF(){const n=indexedDB.deleteDatabase(YD);return new sf(n).toPromise()}function h_(){const n=indexedDB.open(YD,KF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(om,{keyPath:qD})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(om)?e(i):(i.close(),await ZF(),e(await h_()))})})}async function ZM(n,e,t){const i=Zm(n,!0).put({[qD]:e,value:t});return new sf(i).toPromise()}async function QF(n,e){const t=Zm(n,!1).get(e),i=await new sf(t).toPromise();return i===void 0?null:i.value}function QM(n,e){const t=Zm(n,!0).delete(e);return new sf(t).toPromise()}const JF=800,eB=3;class $D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>eB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(XF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qF(),!this.activeServiceWorker)return;this.sender=new WF(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$F()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h_();return await ZM(e,sm,"1"),await QM(e,sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ZM(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>QF(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>QM(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Zm(r,!1).getAll();return new sf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$D.type="LOCAL";const tB=$D;new nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n,e){return e?Ya(e):(_t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nB(n){return BD(n.auth,new Jb(n),n.bypassAuthState)}function iB(n){const{auth:e,user:t}=n;return _t(t,e,"internal-error"),PF(t,new Jb(n),n.bypassAuthState)}async function rB(n){const{auth:e,user:t}=n;return _t(t,e,"internal-error"),OF(t,new Jb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nB;case"linkViaPopup":case"linkViaRedirect":return rB;case"reauthViaPopup":case"reauthViaRedirect":return iB;default:Sr(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=new nf(2e3,1e4);async function sB(n,e,t){if(xr(n.app))return Promise.reject(kr(n,"operation-not-supported-in-this-environment"));const i=fo(n);zU(n,e,Zb);const r=XD(i,t);return new $o(i,"signInViaPopup",e,r).executeNotNull()}class $o extends KD{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=Qb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aB.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="pendingRedirect",bp=new Map;class lB extends KD{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=bp.get(this.auth._key());if(!e){try{const i=await uB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}bp.set(this.auth._key(),e)}return this.bypassAuthState||bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uB(n,e){const t=fB(e),i=dB(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function cB(n,e){bp.set(n._key(),e)}function dB(n){return Ya(n._redirectPersistence)}function fB(n){return _p(oB,n.config.apiKey,n.name)}async function hB(n,e,t=!1){if(xr(n.app))return Promise.reject(Ka(n));const i=fo(n),r=XD(i,e),l=await new lB(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=10*60*1e3;class mB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ZD(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pB&&this.cachedEventUids.clear(),this.cachedEventUids.has(JM(e))}saveEventToCache(e){this.cachedEventUids.add(JM(e)),this.lastProcessedEventTime=Date.now()}}function JM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZD({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(n,e={}){return co(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_B=/^https?/;async function bB(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vB(n);for(const t of e)try{if(xB(t))return}catch{}Sr(n,"unauthorized-domain")}function xB(n){const e=c_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!_B.test(t))return!1;if(yB.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=new nf(3e4,6e4);function e1(){const n=sa().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EB(n){return new Promise((e,t)=>{var i,r,s;function l(){e1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e1(),t(kr(n,"network-request-failed"))},timeout:SB.get()})}if(!((r=(i=sa().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=sa().gapi)===null||s===void 0)&&s.load)l();else{const u=pF("iframefcb");return sa()[u]=()=>{gapi.load?l():t(kr(n,"network-request-failed"))},ND(`${hF()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw xp=null,e})}let xp=null;function wB(n){return xp=xp||EB(n),xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new nf(5e3,15e3),TB="__/auth/iframe",CB="emulator/auth/iframe",AB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DB(n){const e=n.config;_t(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Yb(e,CB):`https://${n.config.authDomain}/${TB}`,i={apiKey:e.apiKey,appName:n.name,v:tf},r=RB.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${ef(i).slice(1)}`}async function LB(n){const e=await wB(n),t=sa().gapi;return _t(t,n,"internal-error"),e.open({where:document.body,url:DB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AB,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const l=kr(n,"network-request-failed"),u=sa().setTimeout(()=>{s(l)},MB.get());function d(){sa().clearTimeout(u),r(i)}i.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PB=500,IB=600,NB="_blank",kB="http://localhost";class t1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UB(n,e,t,i=PB,r=IB){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const d=Object.assign(Object.assign({},OB),{width:i.toString(),height:r.toString(),top:s,left:l}),f=Ri().toLowerCase();t&&(u=AD(f)?NB:t),TD(f)&&(e=e||kB,d.scrollbars="yes");const p=Object.entries(d).reduce((g,[v,_])=>`${g}${v}=${_},`,"");if(rF(f)&&u!=="_self")return FB(e||"",u),new t1(null);const m=window.open(e||"",u,p);_t(m,n,"popup-blocked");try{m.focus()}catch{}return new t1(m)}function FB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB="__/auth/handler",zB="emulator/auth/handler",HB=encodeURIComponent("fac");async function n1(n,e,t,i,r,s){_t(n.config.authDomain,n,"auth-domain-config-required"),_t(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:tf,eventId:r};if(e instanceof Zb){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",xk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof af){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await n._getAppCheckToken(),f=d?`#${HB}=${encodeURIComponent(d)}`:"";return`${VB(n)}?${ef(u).slice(1)}${f}`}function VB({config:n}){return n.emulator?Yb(n,zB):`https://${n.authDomain}/${BB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class GB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jD,this._completeRedirectFn=hB,this._overrideRedirectResult=cB}async _openPopup(e,t,i,r){var s;ss((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await n1(e,t,i,c_(),r);return UB(e,l,Qb())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await n1(e,t,i,c_(),r);return YF(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(ss(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await LB(e),i=new mB(e);return t.register("authEvent",r=>(_t(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vy,{type:Vy},r=>{var s;const l=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Vy];l!==void 0&&t(!!l),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PD()||CD()||$b()}}const jB=GB;var i1="@firebase/auth",r1="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qB(n){as(new fa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;_t(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ID(n)},f=new cF(i,r,s,d);return bF(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),as(new fa("auth-internal",e=>{const t=fo(e.getProvider("auth").getImmediate());return(i=>new WB(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),aa(i1,r1,YB(n)),aa(i1,r1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=5*60,XB=oD("authIdTokenMaxAge")||$B;let a1=null;const KB=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>XB)return;const r=t==null?void 0:t.token;a1!==r&&(a1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ZB(n=mD()){const e=nc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_F(n,{popupRedirectResolver:jB,persistence:[tB,GF,jD]}),i=oD("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const l=KB(s.toString());FF(t,l,()=>l(t.currentUser)),UF(t,u=>l(u))}}const r=dk("auth");return r&&xF(t,`http://${r}`),t}function QB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dF({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=kr("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",QB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qB("Browser");const QD="@firebase/installations",ex="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=1e4,eL=`w:${ex}`,tL="FIS_v2",JB="https://firebaseinstallations.googleapis.com/v1",ez=60*60*1e3,tz="installations",nz="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fl=new bl(tz,nz,iz);function nL(n){return n instanceof ga&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL({projectId:n}){return`${JB}/projects/${n}/installations`}function rL(n){return{token:n.token,requestStatus:2,expiresIn:az(n.expiresIn),creationTime:Date.now()}}async function aL(n,e){const i=(await e.json()).error;return fl.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function sL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function rz(n,{refreshToken:e}){const t=sL(n);return t.append("Authorization",sz(e)),t}async function oL(n){const e=await n();return e.status>=500&&e.status<600?n():e}function az(n){return Number(n.replace("s","000"))}function sz(n){return`${tL} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=iL(n),r=sL(n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:t,authVersion:tL,appId:n.appId,sdkVersion:eL},u={method:"POST",headers:r,body:JSON.stringify(l)},d=await oL(()=>fetch(i,u));if(d.ok){const f=await d.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:rL(f.authToken)}}else throw await aL("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=/^[cdef][\w-]{21}$/,p_="";function cz(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=dz(n);return uz.test(t)?t:p_}catch{return p_}}function dz(n){return lz(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new Map;function cL(n,e){const t=Qm(n);dL(t,e),fz(t,e)}function dL(n,e){const t=uL.get(n);if(t)for(const i of t)i(e)}function fz(n,e){const t=hz();t&&t.postMessage({key:n,fid:e}),pz()}let Xo=null;function hz(){return!Xo&&"BroadcastChannel"in self&&(Xo=new BroadcastChannel("[Firebase] FID Change"),Xo.onmessage=n=>{dL(n.data.key,n.data.fid)}),Xo}function pz(){uL.size===0&&Xo&&(Xo.close(),Xo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="firebase-installations-database",gz=1,hl="firebase-installations-store";let Gy=null;function tx(){return Gy||(Gy=hD(mz,gz,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(hl)}}})),Gy}async function lm(n,e){const t=Qm(n),r=(await tx()).transaction(hl,"readwrite"),s=r.objectStore(hl),l=await s.get(t);return await s.put(e,t),await r.done,(!l||l.fid!==e.fid)&&cL(n,e.fid),e}async function fL(n){const e=Qm(n),i=(await tx()).transaction(hl,"readwrite");await i.objectStore(hl).delete(e),await i.done}async function Jm(n,e){const t=Qm(n),r=(await tx()).transaction(hl,"readwrite"),s=r.objectStore(hl),l=await s.get(t),u=e(l);return u===void 0?await s.delete(t):await s.put(u,t),await r.done,u&&(!l||l.fid!==u.fid)&&cL(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(n){let e;const t=await Jm(n.appConfig,i=>{const r=vz(i),s=yz(n,r);return e=s.registrationPromise,s.installationEntry});return t.fid===p_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function vz(n){const e=n||{fid:cz(),registrationStatus:0};return hL(e)}function yz(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(fl.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=_z(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bz(n)}:{installationEntry:e}}async function _z(n,e){try{const t=await oz(n,e);return lm(n.appConfig,t)}catch(t){throw nL(t)&&t.customData.serverCode===409?await fL(n.appConfig):await lm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function bz(n){let e=await s1(n.appConfig);for(;e.registrationStatus===1;)await lL(100),e=await s1(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await nx(n);return i||t}return e}function s1(n){return Jm(n,e=>{if(!e)throw fl.create("installation-not-found");return hL(e)})}function hL(n){return xz(n)?{fid:n.fid,registrationStatus:0}:n}function xz(n){return n.registrationStatus===1&&n.registrationTime+JD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz({appConfig:n,heartbeatServiceProvider:e},t){const i=Ez(n,t),r=rz(n,t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:eL,appId:n.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},d=await oL(()=>fetch(i,u));if(d.ok){const f=await d.json();return rL(f)}else throw await aL("Generate Auth Token",d)}function Ez(n,{fid:e}){return`${iL(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(n,e=!1){let t;const i=await Jm(n.appConfig,s=>{if(!pL(s))throw fl.create("not-registered");const l=s.authToken;if(!e&&Tz(l))return s;if(l.requestStatus===1)return t=wz(n,e),s;{if(!navigator.onLine)throw fl.create("app-offline");const u=Az(s);return t=Mz(n,u),u}});return t?await t:i.authToken}async function wz(n,e){let t=await o1(n.appConfig);for(;t.authToken.requestStatus===1;)await lL(100),t=await o1(n.appConfig);const i=t.authToken;return i.requestStatus===0?ix(n,e):i}function o1(n){return Jm(n,e=>{if(!pL(e))throw fl.create("not-registered");const t=e.authToken;return Rz(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Mz(n,e){try{const t=await Sz(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await lm(n.appConfig,i),t}catch(t){if(nL(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await fL(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await lm(n.appConfig,i)}throw t}}function pL(n){return n!==void 0&&n.registrationStatus===2}function Tz(n){return n.requestStatus===2&&!Cz(n)}function Cz(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+ez}function Az(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Rz(n){return n.requestStatus===1&&n.requestTime+JD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(n){const e=n,{installationEntry:t,registrationPromise:i}=await nx(e);return i?i.catch(console.error):ix(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(n,e=!1){const t=n;return await Oz(t),(await ix(t,e)).token}async function Oz(n){const{registrationPromise:e}=await nx(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(n){if(!n||!n.options)throw jy("App Configuration");if(!n.name)throw jy("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw jy(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function jy(n){return fl.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="installations",Iz="installations-internal",Nz=n=>{const e=n.getProvider("app").getImmediate(),t=Pz(e),i=nc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},kz=n=>{const e=n.getProvider("app").getImmediate(),t=nc(e,mL).getImmediate();return{getId:()=>Dz(t),getToken:r=>Lz(t,r)}};function Uz(){as(new fa(mL,Nz,"PUBLIC")),as(new fa(Iz,kz,"PRIVATE"))}Uz();aa(QD,ex);aa(QD,ex,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="analytics",Fz="firebase_id",Bz="origin",zz=60*1e3,Hz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Hb("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},tr=new bl("analytics","Analytics",Vz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(n){if(!n.startsWith(rx)){const e=tr.create("invalid-gtag-resource",{gtagURL:n});return Fi.warn(e.message),""}return n}function gL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function jz(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Wz(n,e){const t=jz("firebase-js-sdk-policy",{createScriptURL:Gz}),i=document.createElement("script"),r=`${rx}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function Yz(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function qz(n,e,t,i,r,s){const l=i[r];try{if(l)await e[l];else{const d=(await gL(t)).find(f=>f.measurementId===r);d&&await e[d.appId]}}catch(u){Fi.error(u)}n("config",r,s)}async function $z(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await gL(t);for(const d of l){const f=u.find(m=>m.measurementId===d),p=f&&e[f.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",i,r||{})}catch(s){Fi.error(s)}}function Xz(n,e,t,i){async function r(s,...l){try{if(s==="event"){const[u,d]=l;await $z(n,e,t,u,d)}else if(s==="config"){const[u,d]=l;await qz(n,e,t,i,u,d)}else if(s==="consent"){const[u,d]=l;n("consent",u,d)}else if(s==="get"){const[u,d,f]=l;n("get",u,d,f)}else if(s==="set"){const[u]=l;n("set",u)}else n(s,...l)}catch(u){Fi.error(u)}}return r}function Kz(n,e,t,i,r){let s=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=Xz(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}function Zz(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(rx)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=30,Jz=1e3;class e6{constructor(e={},t=Jz){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vL=new e6;function t6(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function n6(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:t6(i)},s=Hz.replace("{app-id}",t),l=await fetch(s,r);if(l.status!==200&&l.status!==304){let u="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw tr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function i6(n,e=vL,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw tr.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw tr.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new s6;return setTimeout(async()=>{u.abort()},zz),yL({appId:i,apiKey:r,measurementId:s},l,u,e)}async function yL(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=vL){var s;const{appId:l,measurementId:u}=n;try{await r6(i,e)}catch(d){if(u)return Fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:u};throw d}try{const d=await n6(n);return r.deleteThrottleMetadata(l),d}catch(d){const f=d;if(!a6(f)){if(r.deleteThrottleMetadata(l),u)return Fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw d}const p=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?OM(t,r.intervalMillis,Qz):OM(t,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return r.setThrottleMetadata(l,m),Fi.debug(`Calling attemptFetch again in ${p} millis`),yL(n,m,i,r)}}function r6(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function a6(n){if(!(n instanceof ga)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class s6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function o6(n,e,t,i,r){if(r&&r.global){n("event",t,i);return}else{const s=await e,l=Object.assign(Object.assign({},i),{send_to:s});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(){if(uD())try{await cD()}catch(n){return Fi.warn(tr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Fi.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function u6(n,e,t,i,r,s,l){var u;const d=i6(n);d.then(v=>{t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Fi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Fi.error(v)),e.push(d);const f=l6().then(v=>{if(v)return i.getId()}),[p,m]=await Promise.all([d,f]);Zz(s)||Wz(s,p.measurementId),r("js",new Date);const g=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return g[Bz]="firebase",g.update=!0,m!=null&&(g[Fz]=m),r("config",p.measurementId,g),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.app=e}_delete(){return delete Dd[this.app.options.appId],Promise.resolve()}}let Dd={},l1=[];const u1={};let Wy="dataLayer",d6="gtag",c1,_L,d1=!1;function f6(){const n=[];if(lD()&&n.push("This is a browser extension environment."),vk()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=tr.create("invalid-analytics-context",{errorInfo:e});Fi.warn(t.message)}}function h6(n,e,t){f6();const i=n.options.appId;if(!i)throw tr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw tr.create("no-api-key");if(Dd[i]!=null)throw tr.create("already-exists",{id:i});if(!d1){Yz(Wy);const{wrappedGtag:s,gtagCore:l}=Kz(Dd,l1,u1,Wy,d6);_L=s,c1=l,d1=!0}return Dd[i]=u6(n,l1,u1,e,c1,Wy,t),new c6(n)}function p6(n=mD()){n=Hr(n);const e=nc(n,um);return e.isInitialized()?e.getImmediate():m6(n)}function m6(n,e={}){const t=nc(n,um);if(t.isInitialized()){const r=t.getImmediate();if(Ud(e,t.getOptions()))return r;throw tr.create("already-initialized")}return t.initialize({options:e})}function g6(n,e,t,i){n=Hr(n),o6(_L,Dd[n.app.options.appId],e,t,i).catch(r=>Fi.error(r))}const f1="@firebase/analytics",h1="0.10.11";function v6(){as(new fa(um,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return h6(i,r,t)},"PUBLIC")),as(new fa("analytics-internal",n,"PRIVATE")),aa(f1,h1),aa(f1,h1,"esm2017");function n(e){try{const t=e.getProvider(um).getImmediate();return{logEvent:(i,r,s)=>g6(t,i,r,s)}}catch(t){throw tr.create("interop-component-reg-failed",{reason:t})}}}v6();const y6={apiKey:"AIzaSyBfWhaaQ6Q-FUqw8UVjV1cgrJ1LQ-A9uj0",authDomain:"travelxp-33cf0.firebaseapp.com",projectId:"travelxp-33cf0",storageBucket:"travelxp-33cf0.firebasestorage.app",messagingSenderId:"791961635416",appId:"1:791961635416:web:f7bd471744d93354fe582d",measurementId:"G-XZF7WJHXB0"},bL=pD(y6);p6(bL);const Ld=ZB(bL),eg=new Va;eg.addScope("https://www.googleapis.com/auth/userinfo.email");eg.addScope("https://www.googleapis.com/auth/userinfo.profile");eg.setCustomParameters({prompt:"select_account"});var xL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},p1=ne.createContext&&ne.createContext(xL),_6=["attr","size","title"];function b6(n,e){if(n==null)return{};var t=x6(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function x6(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function cm(){return cm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cm.apply(this,arguments)}function m1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(t),!0).forEach(function(i){S6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function S6(n,e,t){return e=E6(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function E6(n){var e=w6(n,"string");return typeof e=="symbol"?e:e+""}function w6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SL(n){return n&&n.map((e,t)=>ne.createElement(e.tag,dm({key:t},e.attr),SL(e.child)))}function Sn(n){return e=>ne.createElement(M6,cm({attr:dm({},n.attr)},e),SL(n.child))}function M6(n){var e=t=>{var{attr:i,size:r,title:s}=n,l=b6(n,_6),u=r||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),ne.createElement("svg",cm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:d,style:dm(dm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&ne.createElement("title",null,s),n.children)};return p1!==void 0?ne.createElement(p1.Consumer,null,t=>e(t)):e(xL)}function T6(n){return Sn({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const EL=({isOpen:n,onClose:e,onAuthSuccess:t})=>{const[i,r]=S.useState(!0),[s,l]=S.useState({email:"",password:"",name:""}),[u,d]=S.useState(""),f=async()=>{try{const g=await sB(Ld,eg);console.log("Google Sign In Success:",g.user),t==null||t(g.user),e()}catch(g){console.error("Authentication Error:",g),d(g.message)}},p=async g=>{g.preventDefault(),d("");try{let v;i?v=await kF(Ld,s.email,s.password):v=await NF(Ld,s.email,s.password),console.log("Email Auth Success:",v.user),t==null||t(v.user),e()}catch(v){d(v.message)}},m=g=>{l({...s,[g.target.name]:g.target.value})};return n?k.jsx("div",{className:"modal-overlay",children:k.jsxs("div",{className:"modal-content",children:[k.jsx("button",{className:"modal-close",onClick:e,children:""}),k.jsxs("div",{className:"modal-layout",children:[k.jsxs("div",{className:"modal-info",children:[k.jsx("div",{className:"modal-logo",children:k.jsx("img",{src:"/logo.svg",alt:"TravelXP.ai"})}),k.jsx("h2",{children:i?"Welcome Back!":"Join Us"}),k.jsx("p",{children:i?"Access your personalized travel plans":"Start creating amazing travel experiences"})]}),k.jsxs("div",{className:"modal-form",children:[k.jsxs("button",{onClick:f,className:"google-signin-btn",children:[k.jsx(T6,{}),k.jsx("span",{children:"Continue with Google"})]}),k.jsx("div",{className:"divider",children:k.jsx("span",{children:"or"})}),u&&k.jsx("div",{className:"auth-error",children:u}),k.jsxs("form",{onSubmit:p,children:[k.jsxs("div",{className:"form-fields",children:[!i&&k.jsx("div",{className:"form-group",children:k.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Name",value:s.name,onChange:m,required:!0})}),k.jsx("div",{className:"form-group",children:k.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Email",value:s.email,onChange:m,required:!0})}),k.jsx("div",{className:"form-group",children:k.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Password",value:s.password,onChange:m,required:!0})})]}),k.jsx("button",{type:"submit",className:"submit-btn",children:i?"Login":"Sign Up"})]}),k.jsxs("div",{className:"switch-mode",children:[i?"Don't have an account? ":"Already have an account? ",k.jsx("button",{onClick:()=>r(!i),children:i?"Sign Up":"Login"})]})]})]})]})}):null},wL=S.createContext(),C6=({children:n})=>{const[e,t]=S.useState(null),[i,r]=S.useState(!0);return S.useEffect(()=>BF(Ld,l=>{t(l),r(!1)}),[]),k.jsx(wL.Provider,{value:{user:e,loading:i},children:!i&&n})},A6=()=>S.useContext(wL);function R6(n){return Sn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function D6(n){return Sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function L6(n){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function O6(n){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(n)}function P6(n){return Sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(n)}function ML(n){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function I6(n){return Sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M352 288h-16v-88c0-4.42-3.58-8-8-8h-13.58c-4.74 0-9.37 1.4-13.31 4.03l-15.33 10.22a7.994 7.994 0 0 0-2.22 11.09l8.88 13.31a7.994 7.994 0 0 0 11.09 2.22l.47-.31V288h-16c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h64c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 192c-53.02 0-96-50.15-96-112 0-61.86 42.98-112 96-112s96 50.14 96 112c0 61.87-43 112-96 112zm272 32h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(n)}function N6(n){return Sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(n)}function k6(n){return Sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(n)}function U6(n){return Sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"},child:[]}]})(n)}function F6(n){return Sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(n)}function B6(n){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(n)}function z6(n){return Sn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function g1(n){return Sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const H6=()=>{const[n,e]=S.useState(!1),{user:t}=A6(),i=async()=>{try{await zF(Ld),console.log("User signed out successfully")}catch(r){console.error("Error signing out:",r)}};return k.jsxs("header",{className:"main-logo",children:[k.jsx(ul,{to:"/",children:k.jsx("img",{src:"/logo.svg",alt:"TravelXP.ai",style:{height:"40px"}})}),k.jsx("div",{className:"auth-buttons",children:t?k.jsxs("div",{className:"user-section",children:[k.jsx(z6,{className:"profile-icon"}),k.jsx("span",{className:"user-name",children:t.displayName||t.email}),k.jsx("button",{onClick:i,className:"logout-btn",children:"Logout"})]}):k.jsx("button",{onClick:()=>e(!0),className:"login-btn",children:"Login"})}),k.jsx(EL,{isOpen:n,onClose:()=>e(!1)})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ax="173",V6=0,v1=1,G6=2,TL=1,j6=2,za=3,ro=0,Bi=1,Ga=2,Qs=0,Cu=1,y1=2,_1=3,b1=4,W6=5,Wo=100,Y6=101,q6=102,$6=103,X6=104,K6=200,Z6=201,Q6=202,J6=203,m_=204,g_=205,e5=206,t5=207,n5=208,i5=209,r5=210,a5=211,s5=212,o5=213,l5=214,v_=0,y_=1,__=2,Iu=3,b_=4,x_=5,S_=6,E_=7,sx=0,u5=1,c5=2,Js=0,d5=1,f5=2,h5=3,p5=4,m5=5,g5=6,v5=7,CL=300,Nu=301,ku=302,w_=303,M_=304,tg=306,T_=1e3,Ko=1001,C_=1002,Ur=1003,y5=1004,Ch=1005,na=1006,Yy=1007,Zo=1008,os=1009,AL=1010,RL=1011,Hd=1012,ox=1013,pl=1014,qa=1015,of=1016,lx=1017,ux=1018,Uu=1020,DL=35902,LL=1021,OL=1022,Nr=1023,PL=1024,IL=1025,Au=1026,Fu=1027,NL=1028,cx=1029,kL=1030,dx=1031,fx=1033,Sp=33776,Ep=33777,wp=33778,Mp=33779,A_=35840,R_=35841,D_=35842,L_=35843,O_=36196,P_=37492,I_=37496,N_=37808,k_=37809,U_=37810,F_=37811,B_=37812,z_=37813,H_=37814,V_=37815,G_=37816,j_=37817,W_=37818,Y_=37819,q_=37820,$_=37821,Tp=36492,X_=36494,K_=36495,UL=36283,Z_=36284,Q_=36285,J_=36286,_5=3200,b5=3201,FL=0,x5=1,$s="",yr="srgb",Bu="srgb-linear",fm="linear",pn="srgb",eu=7680,x1=519,S5=512,E5=513,w5=514,BL=515,M5=516,T5=517,C5=518,A5=519,S1=35044,E1="300 es",$a=2e3,hm=2001;class rc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,l=r.length;s<l;s++)r[s].call(this,e);e.target=null}}}const _i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],qy=Math.PI/180,eb=180/Math.PI;function lf(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(_i[n&255]+_i[n>>8&255]+_i[n>>16&255]+_i[n>>24&255]+"-"+_i[e&255]+_i[e>>8&255]+"-"+_i[e>>16&15|64]+_i[e>>24&255]+"-"+_i[t&63|128]+_i[t>>8&255]+"-"+_i[t>>16&255]+_i[t>>24&255]+_i[i&255]+_i[i>>8&255]+_i[i>>16&255]+_i[i>>24&255]).toLowerCase()}function Vt(n,e,t){return Math.max(e,Math.min(t,n))}function R5(n,e){return(n%e+e)%e}function $y(n,e,t){return(1-t)*n+t*e}function od(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ii(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}class en{constructor(e=0,t=0){en.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Vt(this.x,e.x,t.x),this.y=Vt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Vt(this.x,e,t),this.y=Vt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Vt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Vt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,l=this.y-e.y;return this.x=s*i-l*r+e.x,this.y=s*r+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ct{constructor(e,t,i,r,s,l,u,d,f){Ct.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,l,u,d,f)}set(e,t,i,r,s,l,u,d,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=u,p[3]=t,p[4]=s,p[5]=d,p[6]=i,p[7]=l,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,l=i[0],u=i[3],d=i[6],f=i[1],p=i[4],m=i[7],g=i[2],v=i[5],_=i[8],w=r[0],x=r[3],b=r[6],M=r[1],C=r[4],T=r[7],O=r[2],L=r[5],D=r[8];return s[0]=l*w+u*M+d*O,s[3]=l*x+u*C+d*L,s[6]=l*b+u*T+d*D,s[1]=f*w+p*M+m*O,s[4]=f*x+p*C+m*L,s[7]=f*b+p*T+m*D,s[2]=g*w+v*M+_*O,s[5]=g*x+v*C+_*L,s[8]=g*b+v*T+_*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8];return t*l*p-t*u*f-i*s*p+i*u*d+r*s*f-r*l*d}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],m=p*l-u*f,g=u*d-p*s,v=f*s-l*d,_=t*m+i*g+r*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=m*w,e[1]=(r*f-p*i)*w,e[2]=(u*i-r*l)*w,e[3]=g*w,e[4]=(p*t-r*d)*w,e[5]=(r*s-u*t)*w,e[6]=v*w,e[7]=(i*d-f*t)*w,e[8]=(l*t-i*s)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,l,u){const d=Math.cos(s),f=Math.sin(s);return this.set(i*d,i*f,-i*(d*l+f*u)+l+e,-r*f,r*d,-r*(-f*l+d*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(Xy.makeScale(e,t)),this}rotate(e){return this.premultiply(Xy.makeRotation(-e)),this}translate(e,t){return this.premultiply(Xy.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Xy=new Ct;function zL(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function pm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function D5(){const n=pm("canvas");return n.style.display="block",n}const w1={};function yu(n){n in w1||(w1[n]=!0,console.warn(n))}function L5(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function O5(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function P5(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const M1=new Ct().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),T1=new Ct().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function I5(){const n={enabled:!0,workingColorSpace:Bu,spaces:{},convert:function(r,s,l){return this.enabled===!1||s===l||!s||!l||(this.spaces[s].transfer===pn&&(r.r=Za(r.r),r.g=Za(r.g),r.b=Za(r.b)),this.spaces[s].primaries!==this.spaces[l].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===pn&&(r.r=Ru(r.r),r.g=Ru(r.g),r.b=Ru(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===$s?fm:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,l){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Bu]:{primaries:e,whitePoint:i,transfer:fm,toXYZ:M1,fromXYZ:T1,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:yr},outputColorSpaceConfig:{drawingBufferColorSpace:yr}},[yr]:{primaries:e,whitePoint:i,transfer:pn,toXYZ:M1,fromXYZ:T1,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:yr}}}),n}const Zt=I5();function Za(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Ru(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let tu;class N5{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{tu===void 0&&(tu=pm("canvas")),tu.width=e.width,tu.height=e.height;const i=tu.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=tu}return t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=pm("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let l=0;l<s.length;l++)s[l]=Za(s[l]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Za(t[i]/255)*255):t[i]=Za(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let k5=0;class HL{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:k5++}),this.uuid=lf(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let l=0,u=r.length;l<u;l++)r[l].isDataTexture?s.push(Ky(r[l].image)):s.push(Ky(r[l]))}else s=Ky(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Ky(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?N5.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let U5=0;class zi extends rc{constructor(e=zi.DEFAULT_IMAGE,t=zi.DEFAULT_MAPPING,i=Ko,r=Ko,s=na,l=Zo,u=Nr,d=os,f=zi.DEFAULT_ANISOTROPY,p=$s){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:U5++}),this.uuid=lf(),this.name="",this.source=new HL(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=l,this.anisotropy=f,this.format=u,this.internalFormat=null,this.type=d,this.offset=new en(0,0),this.repeat=new en(1,1),this.center=new en(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==CL)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case T_:e.x=e.x-Math.floor(e.x);break;case Ko:e.x=e.x<0?0:1;break;case C_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case T_:e.y=e.y-Math.floor(e.y);break;case Ko:e.y=e.y<0?0:1;break;case C_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}zi.DEFAULT_IMAGE=null;zi.DEFAULT_MAPPING=CL;zi.DEFAULT_ANISOTROPY=1;class mn{constructor(e=0,t=0,i=0,r=1){mn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,l=e.elements;return this.x=l[0]*t+l[4]*i+l[8]*r+l[12]*s,this.y=l[1]*t+l[5]*i+l[9]*r+l[13]*s,this.z=l[2]*t+l[6]*i+l[10]*r+l[14]*s,this.w=l[3]*t+l[7]*i+l[11]*r+l[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const d=e.elements,f=d[0],p=d[4],m=d[8],g=d[1],v=d[5],_=d[9],w=d[2],x=d[6],b=d[10];if(Math.abs(p-g)<.01&&Math.abs(m-w)<.01&&Math.abs(_-x)<.01){if(Math.abs(p+g)<.1&&Math.abs(m+w)<.1&&Math.abs(_+x)<.1&&Math.abs(f+v+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(f+1)/2,T=(v+1)/2,O=(b+1)/2,L=(p+g)/4,D=(m+w)/4,I=(_+x)/4;return C>T&&C>O?C<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(C),r=L/i,s=D/i):T>O?T<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(T),i=L/r,s=I/r):O<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(O),i=D/s,r=I/s),this.set(i,r,s,t),this}let M=Math.sqrt((x-_)*(x-_)+(m-w)*(m-w)+(g-p)*(g-p));return Math.abs(M)<.001&&(M=1),this.x=(x-_)/M,this.y=(m-w)/M,this.z=(g-p)/M,this.w=Math.acos((f+v+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Vt(this.x,e.x,t.x),this.y=Vt(this.y,e.y,t.y),this.z=Vt(this.z,e.z,t.z),this.w=Vt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Vt(this.x,e,t),this.y=Vt(this.y,e,t),this.z=Vt(this.z,e,t),this.w=Vt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Vt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class F5 extends rc{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new mn(0,0,e,t),this.scissorTest=!1,this.viewport=new mn(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:na,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new zi(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const l=i.count;for(let u=0;u<l;u++)this.textures[u]=s.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new HL(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ml extends F5{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class VL extends zi{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ur,this.minFilter=Ur,this.wrapR=Ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class B5 extends zi{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ur,this.minFilter=Ur,this.wrapR=Ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class uf{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,l,u){let d=i[r+0],f=i[r+1],p=i[r+2],m=i[r+3];const g=s[l+0],v=s[l+1],_=s[l+2],w=s[l+3];if(u===0){e[t+0]=d,e[t+1]=f,e[t+2]=p,e[t+3]=m;return}if(u===1){e[t+0]=g,e[t+1]=v,e[t+2]=_,e[t+3]=w;return}if(m!==w||d!==g||f!==v||p!==_){let x=1-u;const b=d*g+f*v+p*_+m*w,M=b>=0?1:-1,C=1-b*b;if(C>Number.EPSILON){const O=Math.sqrt(C),L=Math.atan2(O,b*M);x=Math.sin(x*L)/O,u=Math.sin(u*L)/O}const T=u*M;if(d=d*x+g*T,f=f*x+v*T,p=p*x+_*T,m=m*x+w*T,x===1-u){const O=1/Math.sqrt(d*d+f*f+p*p+m*m);d*=O,f*=O,p*=O,m*=O}}e[t]=d,e[t+1]=f,e[t+2]=p,e[t+3]=m}static multiplyQuaternionsFlat(e,t,i,r,s,l){const u=i[r],d=i[r+1],f=i[r+2],p=i[r+3],m=s[l],g=s[l+1],v=s[l+2],_=s[l+3];return e[t]=u*_+p*m+d*v-f*g,e[t+1]=d*_+p*g+f*m-u*v,e[t+2]=f*_+p*v+u*g-d*m,e[t+3]=p*_-u*m-d*g-f*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,l=e._order,u=Math.cos,d=Math.sin,f=u(i/2),p=u(r/2),m=u(s/2),g=d(i/2),v=d(r/2),_=d(s/2);switch(l){case"XYZ":this._x=g*p*m+f*v*_,this._y=f*v*m-g*p*_,this._z=f*p*_+g*v*m,this._w=f*p*m-g*v*_;break;case"YXZ":this._x=g*p*m+f*v*_,this._y=f*v*m-g*p*_,this._z=f*p*_-g*v*m,this._w=f*p*m+g*v*_;break;case"ZXY":this._x=g*p*m-f*v*_,this._y=f*v*m+g*p*_,this._z=f*p*_+g*v*m,this._w=f*p*m-g*v*_;break;case"ZYX":this._x=g*p*m-f*v*_,this._y=f*v*m+g*p*_,this._z=f*p*_-g*v*m,this._w=f*p*m+g*v*_;break;case"YZX":this._x=g*p*m+f*v*_,this._y=f*v*m+g*p*_,this._z=f*p*_-g*v*m,this._w=f*p*m-g*v*_;break;case"XZY":this._x=g*p*m-f*v*_,this._y=f*v*m-g*p*_,this._z=f*p*_+g*v*m,this._w=f*p*m+g*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],l=t[1],u=t[5],d=t[9],f=t[2],p=t[6],m=t[10],g=i+u+m;if(g>0){const v=.5/Math.sqrt(g+1);this._w=.25/v,this._x=(p-d)*v,this._y=(s-f)*v,this._z=(l-r)*v}else if(i>u&&i>m){const v=2*Math.sqrt(1+i-u-m);this._w=(p-d)/v,this._x=.25*v,this._y=(r+l)/v,this._z=(s+f)/v}else if(u>m){const v=2*Math.sqrt(1+u-i-m);this._w=(s-f)/v,this._x=(r+l)/v,this._y=.25*v,this._z=(d+p)/v}else{const v=2*Math.sqrt(1+m-i-u);this._w=(l-r)/v,this._x=(s+f)/v,this._y=(d+p)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,l=e._w,u=t._x,d=t._y,f=t._z,p=t._w;return this._x=i*p+l*u+r*f-s*d,this._y=r*p+l*d+s*u-i*f,this._z=s*p+l*f+i*d-r*u,this._w=l*p-i*u-r*d-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,l=this._w;let u=l*e._w+i*e._x+r*e._y+s*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=l,this._x=i,this._y=r,this._z=s,this;const d=1-u*u;if(d<=Number.EPSILON){const v=1-t;return this._w=v*l+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*s+t*this._z,this.normalize(),this}const f=Math.sqrt(d),p=Math.atan2(f,u),m=Math.sin((1-t)*p)/f,g=Math.sin(t*p)/f;return this._w=l*m+this._w*g,this._x=i*m+this._x*g,this._y=r*m+this._y*g,this._z=s*m+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ve{constructor(e=0,t=0,i=0){ve.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(C1.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(C1.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,l=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*l,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*l,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*l,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,l=e.y,u=e.z,d=e.w,f=2*(l*r-u*i),p=2*(u*t-s*r),m=2*(s*i-l*t);return this.x=t+d*f+l*m-u*p,this.y=i+d*p+u*f-s*m,this.z=r+d*m+s*p-l*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Vt(this.x,e.x,t.x),this.y=Vt(this.y,e.y,t.y),this.z=Vt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Vt(this.x,e,t),this.y=Vt(this.y,e,t),this.z=Vt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Vt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,l=t.x,u=t.y,d=t.z;return this.x=r*d-s*u,this.y=s*l-i*d,this.z=i*u-r*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Zy.copy(this).projectOnVector(e),this.sub(Zy)}reflect(e){return this.sub(Zy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Vt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Zy=new ve,C1=new uf;class cf{constructor(e=new ve(1/0,1/0,1/0),t=new ve(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Dr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Dr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Dr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=s.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,Dr):Dr.fromBufferAttribute(s,l),Dr.applyMatrix4(e.matrixWorld),this.expandByPoint(Dr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ah.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Ah.copy(i.boundingBox)),Ah.applyMatrix4(e.matrixWorld),this.union(Ah)}const r=e.children;for(let s=0,l=r.length;s<l;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Dr),Dr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ld),Rh.subVectors(this.max,ld),nu.subVectors(e.a,ld),iu.subVectors(e.b,ld),ru.subVectors(e.c,ld),Is.subVectors(iu,nu),Ns.subVectors(ru,iu),Io.subVectors(nu,ru);let t=[0,-Is.z,Is.y,0,-Ns.z,Ns.y,0,-Io.z,Io.y,Is.z,0,-Is.x,Ns.z,0,-Ns.x,Io.z,0,-Io.x,-Is.y,Is.x,0,-Ns.y,Ns.x,0,-Io.y,Io.x,0];return!Qy(t,nu,iu,ru,Rh)||(t=[1,0,0,0,1,0,0,0,1],!Qy(t,nu,iu,ru,Rh))?!1:(Dh.crossVectors(Is,Ns),t=[Dh.x,Dh.y,Dh.z],Qy(t,nu,iu,ru,Rh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Dr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Dr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Na[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Na[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Na[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Na[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Na[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Na[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Na[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Na[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Na),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Na=[new ve,new ve,new ve,new ve,new ve,new ve,new ve,new ve],Dr=new ve,Ah=new cf,nu=new ve,iu=new ve,ru=new ve,Is=new ve,Ns=new ve,Io=new ve,ld=new ve,Rh=new ve,Dh=new ve,No=new ve;function Qy(n,e,t,i,r){for(let s=0,l=n.length-3;s<=l;s+=3){No.fromArray(n,s);const u=r.x*Math.abs(No.x)+r.y*Math.abs(No.y)+r.z*Math.abs(No.z),d=e.dot(No),f=t.dot(No),p=i.dot(No);if(Math.max(-Math.max(d,f,p),Math.min(d,f,p))>u)return!1}return!0}const z5=new cf,ud=new ve,Jy=new ve;class hx{constructor(e=new ve,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):z5.setFromPoints(e).getCenter(i);let r=0;for(let s=0,l=e.length;s<l;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ud.subVectors(e,this.center);const t=ud.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(ud,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Jy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ud.copy(e.center).add(Jy)),this.expandByPoint(ud.copy(e.center).sub(Jy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ka=new ve,e0=new ve,Lh=new ve,ks=new ve,t0=new ve,Oh=new ve,n0=new ve;class H5{constructor(e=new ve,t=new ve(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ka)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ka.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ka.copy(this.origin).addScaledVector(this.direction,t),ka.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){e0.copy(e).add(t).multiplyScalar(.5),Lh.copy(t).sub(e).normalize(),ks.copy(this.origin).sub(e0);const s=e.distanceTo(t)*.5,l=-this.direction.dot(Lh),u=ks.dot(this.direction),d=-ks.dot(Lh),f=ks.lengthSq(),p=Math.abs(1-l*l);let m,g,v,_;if(p>0)if(m=l*d-u,g=l*u-d,_=s*p,m>=0)if(g>=-_)if(g<=_){const w=1/p;m*=w,g*=w,v=m*(m+l*g+2*u)+g*(l*m+g+2*d)+f}else g=s,m=Math.max(0,-(l*g+u)),v=-m*m+g*(g+2*d)+f;else g=-s,m=Math.max(0,-(l*g+u)),v=-m*m+g*(g+2*d)+f;else g<=-_?(m=Math.max(0,-(-l*s+u)),g=m>0?-s:Math.min(Math.max(-s,-d),s),v=-m*m+g*(g+2*d)+f):g<=_?(m=0,g=Math.min(Math.max(-s,-d),s),v=g*(g+2*d)+f):(m=Math.max(0,-(l*s+u)),g=m>0?s:Math.min(Math.max(-s,-d),s),v=-m*m+g*(g+2*d)+f);else g=l>0?-s:s,m=Math.max(0,-(l*g+u)),v=-m*m+g*(g+2*d)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,m),r&&r.copy(e0).addScaledVector(Lh,g),v}intersectSphere(e,t){ka.subVectors(e.center,this.origin);const i=ka.dot(this.direction),r=ka.dot(ka)-i*i,s=e.radius*e.radius;if(r>s)return null;const l=Math.sqrt(s-r),u=i-l,d=i+l;return d<0?null:u<0?this.at(d,t):this.at(u,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,l,u,d;const f=1/this.direction.x,p=1/this.direction.y,m=1/this.direction.z,g=this.origin;return f>=0?(i=(e.min.x-g.x)*f,r=(e.max.x-g.x)*f):(i=(e.max.x-g.x)*f,r=(e.min.x-g.x)*f),p>=0?(s=(e.min.y-g.y)*p,l=(e.max.y-g.y)*p):(s=(e.max.y-g.y)*p,l=(e.min.y-g.y)*p),i>l||s>r||((s>i||isNaN(i))&&(i=s),(l<r||isNaN(r))&&(r=l),m>=0?(u=(e.min.z-g.z)*m,d=(e.max.z-g.z)*m):(u=(e.max.z-g.z)*m,d=(e.min.z-g.z)*m),i>d||u>r)||((u>i||i!==i)&&(i=u),(d<r||r!==r)&&(r=d),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ka)!==null}intersectTriangle(e,t,i,r,s){t0.subVectors(t,e),Oh.subVectors(i,e),n0.crossVectors(t0,Oh);let l=this.direction.dot(n0),u;if(l>0){if(r)return null;u=1}else if(l<0)u=-1,l=-l;else return null;ks.subVectors(this.origin,e);const d=u*this.direction.dot(Oh.crossVectors(ks,Oh));if(d<0)return null;const f=u*this.direction.dot(t0.cross(ks));if(f<0||d+f>l)return null;const p=-u*ks.dot(n0);return p<0?null:this.at(p/l,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class An{constructor(e,t,i,r,s,l,u,d,f,p,m,g,v,_,w,x){An.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,l,u,d,f,p,m,g,v,_,w,x)}set(e,t,i,r,s,l,u,d,f,p,m,g,v,_,w,x){const b=this.elements;return b[0]=e,b[4]=t,b[8]=i,b[12]=r,b[1]=s,b[5]=l,b[9]=u,b[13]=d,b[2]=f,b[6]=p,b[10]=m,b[14]=g,b[3]=v,b[7]=_,b[11]=w,b[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new An().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/au.setFromMatrixColumn(e,0).length(),s=1/au.setFromMatrixColumn(e,1).length(),l=1/au.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*l,t[9]=i[9]*l,t[10]=i[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,l=Math.cos(i),u=Math.sin(i),d=Math.cos(r),f=Math.sin(r),p=Math.cos(s),m=Math.sin(s);if(e.order==="XYZ"){const g=l*p,v=l*m,_=u*p,w=u*m;t[0]=d*p,t[4]=-d*m,t[8]=f,t[1]=v+_*f,t[5]=g-w*f,t[9]=-u*d,t[2]=w-g*f,t[6]=_+v*f,t[10]=l*d}else if(e.order==="YXZ"){const g=d*p,v=d*m,_=f*p,w=f*m;t[0]=g+w*u,t[4]=_*u-v,t[8]=l*f,t[1]=l*m,t[5]=l*p,t[9]=-u,t[2]=v*u-_,t[6]=w+g*u,t[10]=l*d}else if(e.order==="ZXY"){const g=d*p,v=d*m,_=f*p,w=f*m;t[0]=g-w*u,t[4]=-l*m,t[8]=_+v*u,t[1]=v+_*u,t[5]=l*p,t[9]=w-g*u,t[2]=-l*f,t[6]=u,t[10]=l*d}else if(e.order==="ZYX"){const g=l*p,v=l*m,_=u*p,w=u*m;t[0]=d*p,t[4]=_*f-v,t[8]=g*f+w,t[1]=d*m,t[5]=w*f+g,t[9]=v*f-_,t[2]=-f,t[6]=u*d,t[10]=l*d}else if(e.order==="YZX"){const g=l*d,v=l*f,_=u*d,w=u*f;t[0]=d*p,t[4]=w-g*m,t[8]=_*m+v,t[1]=m,t[5]=l*p,t[9]=-u*p,t[2]=-f*p,t[6]=v*m+_,t[10]=g-w*m}else if(e.order==="XZY"){const g=l*d,v=l*f,_=u*d,w=u*f;t[0]=d*p,t[4]=-m,t[8]=f*p,t[1]=g*m+w,t[5]=l*p,t[9]=v*m-_,t[2]=_*m-v,t[6]=u*p,t[10]=w*m+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(V5,e,G5)}lookAt(e,t,i){const r=this.elements;return Xi.subVectors(e,t),Xi.lengthSq()===0&&(Xi.z=1),Xi.normalize(),Us.crossVectors(i,Xi),Us.lengthSq()===0&&(Math.abs(i.z)===1?Xi.x+=1e-4:Xi.z+=1e-4,Xi.normalize(),Us.crossVectors(i,Xi)),Us.normalize(),Ph.crossVectors(Xi,Us),r[0]=Us.x,r[4]=Ph.x,r[8]=Xi.x,r[1]=Us.y,r[5]=Ph.y,r[9]=Xi.y,r[2]=Us.z,r[6]=Ph.z,r[10]=Xi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,l=i[0],u=i[4],d=i[8],f=i[12],p=i[1],m=i[5],g=i[9],v=i[13],_=i[2],w=i[6],x=i[10],b=i[14],M=i[3],C=i[7],T=i[11],O=i[15],L=r[0],D=r[4],I=r[8],A=r[12],R=r[1],N=r[5],X=r[9],$=r[13],Z=r[2],K=r[6],H=r[10],Y=r[14],G=r[3],te=r[7],F=r[11],ee=r[15];return s[0]=l*L+u*R+d*Z+f*G,s[4]=l*D+u*N+d*K+f*te,s[8]=l*I+u*X+d*H+f*F,s[12]=l*A+u*$+d*Y+f*ee,s[1]=p*L+m*R+g*Z+v*G,s[5]=p*D+m*N+g*K+v*te,s[9]=p*I+m*X+g*H+v*F,s[13]=p*A+m*$+g*Y+v*ee,s[2]=_*L+w*R+x*Z+b*G,s[6]=_*D+w*N+x*K+b*te,s[10]=_*I+w*X+x*H+b*F,s[14]=_*A+w*$+x*Y+b*ee,s[3]=M*L+C*R+T*Z+O*G,s[7]=M*D+C*N+T*K+O*te,s[11]=M*I+C*X+T*H+O*F,s[15]=M*A+C*$+T*Y+O*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],l=e[1],u=e[5],d=e[9],f=e[13],p=e[2],m=e[6],g=e[10],v=e[14],_=e[3],w=e[7],x=e[11],b=e[15];return _*(+s*d*m-r*f*m-s*u*g+i*f*g+r*u*v-i*d*v)+w*(+t*d*v-t*f*g+s*l*g-r*l*v+r*f*p-s*d*p)+x*(+t*f*m-t*u*v-s*l*m+i*l*v+s*u*p-i*f*p)+b*(-r*u*p-t*d*m+t*u*g+r*l*m-i*l*g+i*d*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],m=e[9],g=e[10],v=e[11],_=e[12],w=e[13],x=e[14],b=e[15],M=m*x*f-w*g*f+w*d*v-u*x*v-m*d*b+u*g*b,C=_*g*f-p*x*f-_*d*v+l*x*v+p*d*b-l*g*b,T=p*w*f-_*m*f+_*u*v-l*w*v-p*u*b+l*m*b,O=_*m*d-p*w*d-_*u*g+l*w*g+p*u*x-l*m*x,L=t*M+i*C+r*T+s*O;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/L;return e[0]=M*D,e[1]=(w*g*s-m*x*s-w*r*v+i*x*v+m*r*b-i*g*b)*D,e[2]=(u*x*s-w*d*s+w*r*f-i*x*f-u*r*b+i*d*b)*D,e[3]=(m*d*s-u*g*s-m*r*f+i*g*f+u*r*v-i*d*v)*D,e[4]=C*D,e[5]=(p*x*s-_*g*s+_*r*v-t*x*v-p*r*b+t*g*b)*D,e[6]=(_*d*s-l*x*s-_*r*f+t*x*f+l*r*b-t*d*b)*D,e[7]=(l*g*s-p*d*s+p*r*f-t*g*f-l*r*v+t*d*v)*D,e[8]=T*D,e[9]=(_*m*s-p*w*s-_*i*v+t*w*v+p*i*b-t*m*b)*D,e[10]=(l*w*s-_*u*s+_*i*f-t*w*f-l*i*b+t*u*b)*D,e[11]=(p*u*s-l*m*s-p*i*f+t*m*f+l*i*v-t*u*v)*D,e[12]=O*D,e[13]=(p*w*r-_*m*r+_*i*g-t*w*g-p*i*x+t*m*x)*D,e[14]=(_*u*r-l*w*r-_*i*d+t*w*d+l*i*x-t*u*x)*D,e[15]=(l*m*r-p*u*r+p*i*d-t*m*d-l*i*g+t*u*g)*D,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,l=e.x,u=e.y,d=e.z,f=s*l,p=s*u;return this.set(f*l+i,f*u-r*d,f*d+r*u,0,f*u+r*d,p*u+i,p*d-r*l,0,f*d-r*u,p*d+r*l,s*d*d+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,l){return this.set(1,i,s,0,e,1,l,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,l=t._y,u=t._z,d=t._w,f=s+s,p=l+l,m=u+u,g=s*f,v=s*p,_=s*m,w=l*p,x=l*m,b=u*m,M=d*f,C=d*p,T=d*m,O=i.x,L=i.y,D=i.z;return r[0]=(1-(w+b))*O,r[1]=(v+T)*O,r[2]=(_-C)*O,r[3]=0,r[4]=(v-T)*L,r[5]=(1-(g+b))*L,r[6]=(x+M)*L,r[7]=0,r[8]=(_+C)*D,r[9]=(x-M)*D,r[10]=(1-(g+w))*D,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=au.set(r[0],r[1],r[2]).length();const l=au.set(r[4],r[5],r[6]).length(),u=au.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Lr.copy(this);const f=1/s,p=1/l,m=1/u;return Lr.elements[0]*=f,Lr.elements[1]*=f,Lr.elements[2]*=f,Lr.elements[4]*=p,Lr.elements[5]*=p,Lr.elements[6]*=p,Lr.elements[8]*=m,Lr.elements[9]*=m,Lr.elements[10]*=m,t.setFromRotationMatrix(Lr),i.x=s,i.y=l,i.z=u,this}makePerspective(e,t,i,r,s,l,u=$a){const d=this.elements,f=2*s/(t-e),p=2*s/(i-r),m=(t+e)/(t-e),g=(i+r)/(i-r);let v,_;if(u===$a)v=-(l+s)/(l-s),_=-2*l*s/(l-s);else if(u===hm)v=-l/(l-s),_=-l*s/(l-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return d[0]=f,d[4]=0,d[8]=m,d[12]=0,d[1]=0,d[5]=p,d[9]=g,d[13]=0,d[2]=0,d[6]=0,d[10]=v,d[14]=_,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,t,i,r,s,l,u=$a){const d=this.elements,f=1/(t-e),p=1/(i-r),m=1/(l-s),g=(t+e)*f,v=(i+r)*p;let _,w;if(u===$a)_=(l+s)*m,w=-2*m;else if(u===hm)_=s*m,w=-1*m;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return d[0]=2*f,d[4]=0,d[8]=0,d[12]=-g,d[1]=0,d[5]=2*p,d[9]=0,d[13]=-v,d[2]=0,d[6]=0,d[10]=w,d[14]=-_,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const au=new ve,Lr=new An,V5=new ve(0,0,0),G5=new ve(1,1,1),Us=new ve,Ph=new ve,Xi=new ve,A1=new An,R1=new uf;class ha{constructor(e=0,t=0,i=0,r=ha.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],l=r[4],u=r[8],d=r[1],f=r[5],p=r[9],m=r[2],g=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(Vt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,v),this._z=Math.atan2(-l,s)):(this._x=Math.atan2(g,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Vt(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,v),this._z=Math.atan2(d,f)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(Vt(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-m,v),this._z=Math.atan2(-l,f)):(this._y=0,this._z=Math.atan2(d,s));break;case"ZYX":this._y=Math.asin(-Vt(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(g,v),this._z=Math.atan2(d,s)):(this._x=0,this._z=Math.atan2(-l,f));break;case"YZX":this._z=Math.asin(Vt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(u,v));break;case"XZY":this._z=Math.asin(-Vt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(g,f),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-p,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return A1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(A1,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return R1.setFromEuler(this),this.setFromQuaternion(R1,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ha.DEFAULT_ORDER="XYZ";class GL{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let j5=0;const D1=new ve,su=new uf,Ua=new An,Ih=new ve,cd=new ve,W5=new ve,Y5=new uf,L1=new ve(1,0,0),O1=new ve(0,1,0),P1=new ve(0,0,1),I1={type:"added"},q5={type:"removed"},ou={type:"childadded",child:null},i0={type:"childremoved",child:null};class Hi extends rc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:j5++}),this.uuid=lf(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Hi.DEFAULT_UP.clone();const e=new ve,t=new ha,i=new uf,r=new ve(1,1,1);function s(){i.setFromEuler(t,!1)}function l(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new An},normalMatrix:{value:new Ct}}),this.matrix=new An,this.matrixWorld=new An,this.matrixAutoUpdate=Hi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Hi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new GL,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return su.setFromAxisAngle(e,t),this.quaternion.multiply(su),this}rotateOnWorldAxis(e,t){return su.setFromAxisAngle(e,t),this.quaternion.premultiply(su),this}rotateX(e){return this.rotateOnAxis(L1,e)}rotateY(e){return this.rotateOnAxis(O1,e)}rotateZ(e){return this.rotateOnAxis(P1,e)}translateOnAxis(e,t){return D1.copy(e).applyQuaternion(this.quaternion),this.position.add(D1.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(L1,e)}translateY(e){return this.translateOnAxis(O1,e)}translateZ(e){return this.translateOnAxis(P1,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ua.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Ih.copy(e):Ih.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),cd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ua.lookAt(cd,Ih,this.up):Ua.lookAt(Ih,cd,this.up),this.quaternion.setFromRotationMatrix(Ua),r&&(Ua.extractRotation(r.matrixWorld),su.setFromRotationMatrix(Ua),this.quaternion.premultiply(su.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(I1),ou.child=e,this.dispatchEvent(ou),ou.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(q5),i0.child=e,this.dispatchEvent(i0),i0.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ua.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ua.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ua),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(I1),ou.child=e,this.dispatchEvent(ou),ou.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const l=this.children[i].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,l=r.length;s<l;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cd,e,W5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cd,Y5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,l=r.length;s<l;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(u=>({boxInitialized:u.boxInitialized,boxMin:u.box.min.toArray(),boxMax:u.box.max.toArray(),sphereInitialized:u.sphereInitialized,sphereRadius:u.sphere.radius,sphereCenter:u.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(u,d){return u[d.uuid]===void 0&&(u[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const d=u.shapes;if(Array.isArray(d))for(let f=0,p=d.length;f<p;f++){const m=d[f];s(e.shapes,m)}else s(e.shapes,d)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let d=0,f=this.material.length;d<f;d++)u.push(s(e.materials,this.material[d]));r.material=u}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const d=this.animations[u];r.animations.push(s(e.animations,d))}}if(t){const u=l(e.geometries),d=l(e.materials),f=l(e.textures),p=l(e.images),m=l(e.shapes),g=l(e.skeletons),v=l(e.animations),_=l(e.nodes);u.length>0&&(i.geometries=u),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),m.length>0&&(i.shapes=m),g.length>0&&(i.skeletons=g),v.length>0&&(i.animations=v),_.length>0&&(i.nodes=_)}return i.object=r,i;function l(u){const d=[];for(const f in u){const p=u[f];delete p.metadata,d.push(p)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Hi.DEFAULT_UP=new ve(0,1,0);Hi.DEFAULT_MATRIX_AUTO_UPDATE=!0;Hi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Or=new ve,Fa=new ve,r0=new ve,Ba=new ve,lu=new ve,uu=new ve,N1=new ve,a0=new ve,s0=new ve,o0=new ve,l0=new mn,u0=new mn,c0=new mn;class Ir{constructor(e=new ve,t=new ve,i=new ve){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Or.subVectors(e,t),r.cross(Or);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Or.subVectors(r,t),Fa.subVectors(i,t),r0.subVectors(e,t);const l=Or.dot(Or),u=Or.dot(Fa),d=Or.dot(r0),f=Fa.dot(Fa),p=Fa.dot(r0),m=l*f-u*u;if(m===0)return s.set(0,0,0),null;const g=1/m,v=(f*d-u*p)*g,_=(l*p-u*d)*g;return s.set(1-v-_,_,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ba)===null?!1:Ba.x>=0&&Ba.y>=0&&Ba.x+Ba.y<=1}static getInterpolation(e,t,i,r,s,l,u,d){return this.getBarycoord(e,t,i,r,Ba)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(s,Ba.x),d.addScaledVector(l,Ba.y),d.addScaledVector(u,Ba.z),d)}static getInterpolatedAttribute(e,t,i,r,s,l){return l0.setScalar(0),u0.setScalar(0),c0.setScalar(0),l0.fromBufferAttribute(e,t),u0.fromBufferAttribute(e,i),c0.fromBufferAttribute(e,r),l.setScalar(0),l.addScaledVector(l0,s.x),l.addScaledVector(u0,s.y),l.addScaledVector(c0,s.z),l}static isFrontFacing(e,t,i,r){return Or.subVectors(i,t),Fa.subVectors(e,t),Or.cross(Fa).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Or.subVectors(this.c,this.b),Fa.subVectors(this.a,this.b),Or.cross(Fa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ir.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ir.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Ir.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Ir.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ir.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let l,u;lu.subVectors(r,i),uu.subVectors(s,i),a0.subVectors(e,i);const d=lu.dot(a0),f=uu.dot(a0);if(d<=0&&f<=0)return t.copy(i);s0.subVectors(e,r);const p=lu.dot(s0),m=uu.dot(s0);if(p>=0&&m<=p)return t.copy(r);const g=d*m-p*f;if(g<=0&&d>=0&&p<=0)return l=d/(d-p),t.copy(i).addScaledVector(lu,l);o0.subVectors(e,s);const v=lu.dot(o0),_=uu.dot(o0);if(_>=0&&v<=_)return t.copy(s);const w=v*f-d*_;if(w<=0&&f>=0&&_<=0)return u=f/(f-_),t.copy(i).addScaledVector(uu,u);const x=p*_-v*m;if(x<=0&&m-p>=0&&v-_>=0)return N1.subVectors(s,r),u=(m-p)/(m-p+(v-_)),t.copy(r).addScaledVector(N1,u);const b=1/(x+w+g);return l=w*b,u=g*b,t.copy(i).addScaledVector(lu,l).addScaledVector(uu,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const jL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fs={h:0,s:0,l:0},Nh={h:0,s:0,l:0};function d0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Qt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=yr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Zt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Zt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Zt.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Zt.workingColorSpace){if(e=R5(e,1),t=Vt(t,0,1),i=Vt(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,l=2*i-s;this.r=d0(l,s,e+1/3),this.g=d0(l,s,e),this.b=d0(l,s,e-1/3)}return Zt.toWorkingColorSpace(this,r),this}setStyle(e,t=yr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const l=r[1],u=r[2];switch(l){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],l=s.length;if(l===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=yr){const i=jL[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Za(e.r),this.g=Za(e.g),this.b=Za(e.b),this}copyLinearToSRGB(e){return this.r=Ru(e.r),this.g=Ru(e.g),this.b=Ru(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=yr){return Zt.fromWorkingColorSpace(bi.copy(this),e),Math.round(Vt(bi.r*255,0,255))*65536+Math.round(Vt(bi.g*255,0,255))*256+Math.round(Vt(bi.b*255,0,255))}getHexString(e=yr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Zt.workingColorSpace){Zt.fromWorkingColorSpace(bi.copy(this),t);const i=bi.r,r=bi.g,s=bi.b,l=Math.max(i,r,s),u=Math.min(i,r,s);let d,f;const p=(u+l)/2;if(u===l)d=0,f=0;else{const m=l-u;switch(f=p<=.5?m/(l+u):m/(2-l-u),l){case i:d=(r-s)/m+(r<s?6:0);break;case r:d=(s-i)/m+2;break;case s:d=(i-r)/m+4;break}d/=6}return e.h=d,e.s=f,e.l=p,e}getRGB(e,t=Zt.workingColorSpace){return Zt.fromWorkingColorSpace(bi.copy(this),t),e.r=bi.r,e.g=bi.g,e.b=bi.b,e}getStyle(e=yr){Zt.fromWorkingColorSpace(bi.copy(this),e);const t=bi.r,i=bi.g,r=bi.b;return e!==yr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Fs),this.setHSL(Fs.h+e,Fs.s+t,Fs.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Fs),e.getHSL(Nh);const i=$y(Fs.h,Nh.h,t),r=$y(Fs.s,Nh.s,t),s=$y(Fs.l,Nh.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const bi=new Qt;Qt.NAMES=jL;let $5=0;class df extends rc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:$5++}),this.uuid=lf(),this.name="",this.type="Material",this.blending=Cu,this.side=ro,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=m_,this.blendDst=g_,this.blendEquation=Wo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Qt(0,0,0),this.blendAlpha=0,this.depthFunc=Iu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=x1,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=eu,this.stencilZFail=eu,this.stencilZPass=eu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Cu&&(i.blending=this.blending),this.side!==ro&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==m_&&(i.blendSrc=this.blendSrc),this.blendDst!==g_&&(i.blendDst=this.blendDst),this.blendEquation!==Wo&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Iu&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==x1&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==eu&&(i.stencilFail=this.stencilFail),this.stencilZFail!==eu&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==eu&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const l=[];for(const u in s){const d=s[u];delete d.metadata,l.push(d)}return l}if(t){const s=r(e.textures),l=r(e.images);s.length>0&&(i.textures=s),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class WL extends df{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ha,this.combine=sx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Hn=new ve,kh=new en;let X5=0;class oa{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:X5++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=S1,this.updateRanges=[],this.gpuType=qa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)kh.fromBufferAttribute(this,t),kh.applyMatrix3(e),this.setXY(t,kh.x,kh.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Hn.fromBufferAttribute(this,t),Hn.applyMatrix3(e),this.setXYZ(t,Hn.x,Hn.y,Hn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Hn.fromBufferAttribute(this,t),Hn.applyMatrix4(e),this.setXYZ(t,Hn.x,Hn.y,Hn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Hn.fromBufferAttribute(this,t),Hn.applyNormalMatrix(e),this.setXYZ(t,Hn.x,Hn.y,Hn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Hn.fromBufferAttribute(this,t),Hn.transformDirection(e),this.setXYZ(t,Hn.x,Hn.y,Hn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=od(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Ii(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=od(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=od(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=od(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=od(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array),s=Ii(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==S1&&(e.usage=this.usage),e}}class YL extends oa{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class qL extends oa{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class la extends oa{constructor(e,t,i){super(new Float32Array(e),t,i)}}let K5=0;const pr=new An,f0=new Hi,cu=new ve,Ki=new cf,dd=new cf,ii=new ve;class ho extends rc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:K5++}),this.uuid=lf(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zL(e)?qL:YL)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Ct().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return pr.makeRotationFromQuaternion(e),this.applyMatrix4(pr),this}rotateX(e){return pr.makeRotationX(e),this.applyMatrix4(pr),this}rotateY(e){return pr.makeRotationY(e),this.applyMatrix4(pr),this}rotateZ(e){return pr.makeRotationZ(e),this.applyMatrix4(pr),this}translate(e,t,i){return pr.makeTranslation(e,t,i),this.applyMatrix4(pr),this}scale(e,t,i){return pr.makeScale(e,t,i),this.applyMatrix4(pr),this}lookAt(e){return f0.lookAt(e),f0.updateMatrix(),this.applyMatrix4(f0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cu).negate(),this.translate(cu.x,cu.y,cu.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const l=e[r];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new la(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new cf);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ve(-1/0,-1/0,-1/0),new ve(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Ki.setFromBufferAttribute(s),this.morphTargetsRelative?(ii.addVectors(this.boundingBox.min,Ki.min),this.boundingBox.expandByPoint(ii),ii.addVectors(this.boundingBox.max,Ki.max),this.boundingBox.expandByPoint(ii)):(this.boundingBox.expandByPoint(Ki.min),this.boundingBox.expandByPoint(Ki.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new hx);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ve,1/0);return}if(e){const i=this.boundingSphere.center;if(Ki.setFromBufferAttribute(e),t)for(let s=0,l=t.length;s<l;s++){const u=t[s];dd.setFromBufferAttribute(u),this.morphTargetsRelative?(ii.addVectors(Ki.min,dd.min),Ki.expandByPoint(ii),ii.addVectors(Ki.max,dd.max),Ki.expandByPoint(ii)):(Ki.expandByPoint(dd.min),Ki.expandByPoint(dd.max))}Ki.getCenter(i);let r=0;for(let s=0,l=e.count;s<l;s++)ii.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(ii));if(t)for(let s=0,l=t.length;s<l;s++){const u=t[s],d=this.morphTargetsRelative;for(let f=0,p=u.count;f<p;f++)ii.fromBufferAttribute(u,f),d&&(cu.fromBufferAttribute(e,f),ii.add(cu)),r=Math.max(r,i.distanceToSquared(ii))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new oa(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),u=[],d=[];for(let I=0;I<i.count;I++)u[I]=new ve,d[I]=new ve;const f=new ve,p=new ve,m=new ve,g=new en,v=new en,_=new en,w=new ve,x=new ve;function b(I,A,R){f.fromBufferAttribute(i,I),p.fromBufferAttribute(i,A),m.fromBufferAttribute(i,R),g.fromBufferAttribute(s,I),v.fromBufferAttribute(s,A),_.fromBufferAttribute(s,R),p.sub(f),m.sub(f),v.sub(g),_.sub(g);const N=1/(v.x*_.y-_.x*v.y);isFinite(N)&&(w.copy(p).multiplyScalar(_.y).addScaledVector(m,-v.y).multiplyScalar(N),x.copy(m).multiplyScalar(v.x).addScaledVector(p,-_.x).multiplyScalar(N),u[I].add(w),u[A].add(w),u[R].add(w),d[I].add(x),d[A].add(x),d[R].add(x))}let M=this.groups;M.length===0&&(M=[{start:0,count:e.count}]);for(let I=0,A=M.length;I<A;++I){const R=M[I],N=R.start,X=R.count;for(let $=N,Z=N+X;$<Z;$+=3)b(e.getX($+0),e.getX($+1),e.getX($+2))}const C=new ve,T=new ve,O=new ve,L=new ve;function D(I){O.fromBufferAttribute(r,I),L.copy(O);const A=u[I];C.copy(A),C.sub(O.multiplyScalar(O.dot(A))).normalize(),T.crossVectors(L,A);const N=T.dot(d[I])<0?-1:1;l.setXYZW(I,C.x,C.y,C.z,N)}for(let I=0,A=M.length;I<A;++I){const R=M[I],N=R.start,X=R.count;for(let $=N,Z=N+X;$<Z;$+=3)D(e.getX($+0)),D(e.getX($+1)),D(e.getX($+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new oa(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let g=0,v=i.count;g<v;g++)i.setXYZ(g,0,0,0);const r=new ve,s=new ve,l=new ve,u=new ve,d=new ve,f=new ve,p=new ve,m=new ve;if(e)for(let g=0,v=e.count;g<v;g+=3){const _=e.getX(g+0),w=e.getX(g+1),x=e.getX(g+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,w),l.fromBufferAttribute(t,x),p.subVectors(l,s),m.subVectors(r,s),p.cross(m),u.fromBufferAttribute(i,_),d.fromBufferAttribute(i,w),f.fromBufferAttribute(i,x),u.add(p),d.add(p),f.add(p),i.setXYZ(_,u.x,u.y,u.z),i.setXYZ(w,d.x,d.y,d.z),i.setXYZ(x,f.x,f.y,f.z)}else for(let g=0,v=t.count;g<v;g+=3)r.fromBufferAttribute(t,g+0),s.fromBufferAttribute(t,g+1),l.fromBufferAttribute(t,g+2),p.subVectors(l,s),m.subVectors(r,s),p.cross(m),i.setXYZ(g+0,p.x,p.y,p.z),i.setXYZ(g+1,p.x,p.y,p.z),i.setXYZ(g+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ii.fromBufferAttribute(e,t),ii.normalize(),e.setXYZ(t,ii.x,ii.y,ii.z)}toNonIndexed(){function e(u,d){const f=u.array,p=u.itemSize,m=u.normalized,g=new f.constructor(d.length*p);let v=0,_=0;for(let w=0,x=d.length;w<x;w++){u.isInterleavedBufferAttribute?v=d[w]*u.data.stride+u.offset:v=d[w]*p;for(let b=0;b<p;b++)g[_++]=f[v++]}return new oa(g,p,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ho,i=this.index.array,r=this.attributes;for(const u in r){const d=r[u],f=e(d,i);t.setAttribute(u,f)}const s=this.morphAttributes;for(const u in s){const d=[],f=s[u];for(let p=0,m=f.length;p<m;p++){const g=f[p],v=e(g,i);d.push(v)}t.morphAttributes[u]=d}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,d=l.length;u<d;u++){const f=l[u];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const f in d)d[f]!==void 0&&(e[f]=d[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const d in i){const f=i[d];e.data.attributes[d]=f.toJSON(e.data)}const r={};let s=!1;for(const d in this.morphAttributes){const f=this.morphAttributes[d],p=[];for(let m=0,g=f.length;m<g;m++){const v=f[m];p.push(v.toJSON(e.data))}p.length>0&&(r[d]=p,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(t))}const s=e.morphAttributes;for(const f in s){const p=[],m=s[f];for(let g=0,v=m.length;g<v;g++)p.push(m[g].clone(t));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let f=0,p=l.length;f<p;f++){const m=l[f];this.addGroup(m.start,m.count,m.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const k1=new An,ko=new H5,Uh=new hx,U1=new ve,Fh=new ve,Bh=new ve,zh=new ve,h0=new ve,Hh=new ve,F1=new ve,Vh=new ve;class ia extends Hi{constructor(e=new ho,t=new WL){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=r.length;s<l;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,l=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const u=this.morphTargetInfluences;if(s&&u){Hh.set(0,0,0);for(let d=0,f=s.length;d<f;d++){const p=u[d],m=s[d];p!==0&&(h0.fromBufferAttribute(m,e),l?Hh.addScaledVector(h0,p):Hh.addScaledVector(h0.sub(t),p))}t.add(Hh)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Uh.copy(i.boundingSphere),Uh.applyMatrix4(s),ko.copy(e.ray).recast(e.near),!(Uh.containsPoint(ko.origin)===!1&&(ko.intersectSphere(Uh,U1)===null||ko.origin.distanceToSquared(U1)>(e.far-e.near)**2))&&(k1.copy(s).invert(),ko.copy(e.ray).applyMatrix4(k1),!(i.boundingBox!==null&&ko.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,ko)))}_computeIntersections(e,t,i){let r;const s=this.geometry,l=this.material,u=s.index,d=s.attributes.position,f=s.attributes.uv,p=s.attributes.uv1,m=s.attributes.normal,g=s.groups,v=s.drawRange;if(u!==null)if(Array.isArray(l))for(let _=0,w=g.length;_<w;_++){const x=g[_],b=l[x.materialIndex],M=Math.max(x.start,v.start),C=Math.min(u.count,Math.min(x.start+x.count,v.start+v.count));for(let T=M,O=C;T<O;T+=3){const L=u.getX(T),D=u.getX(T+1),I=u.getX(T+2);r=Gh(this,b,e,i,f,p,m,L,D,I),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),w=Math.min(u.count,v.start+v.count);for(let x=_,b=w;x<b;x+=3){const M=u.getX(x),C=u.getX(x+1),T=u.getX(x+2);r=Gh(this,l,e,i,f,p,m,M,C,T),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}else if(d!==void 0)if(Array.isArray(l))for(let _=0,w=g.length;_<w;_++){const x=g[_],b=l[x.materialIndex],M=Math.max(x.start,v.start),C=Math.min(d.count,Math.min(x.start+x.count,v.start+v.count));for(let T=M,O=C;T<O;T+=3){const L=T,D=T+1,I=T+2;r=Gh(this,b,e,i,f,p,m,L,D,I),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),w=Math.min(d.count,v.start+v.count);for(let x=_,b=w;x<b;x+=3){const M=x,C=x+1,T=x+2;r=Gh(this,l,e,i,f,p,m,M,C,T),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}}}function Z5(n,e,t,i,r,s,l,u){let d;if(e.side===Bi?d=i.intersectTriangle(l,s,r,!0,u):d=i.intersectTriangle(r,s,l,e.side===ro,u),d===null)return null;Vh.copy(u),Vh.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Vh);return f<t.near||f>t.far?null:{distance:f,point:Vh.clone(),object:n}}function Gh(n,e,t,i,r,s,l,u,d,f){n.getVertexPosition(u,Fh),n.getVertexPosition(d,Bh),n.getVertexPosition(f,zh);const p=Z5(n,e,t,i,Fh,Bh,zh,F1);if(p){const m=new ve;Ir.getBarycoord(F1,Fh,Bh,zh,m),r&&(p.uv=Ir.getInterpolatedAttribute(r,u,d,f,m,new en)),s&&(p.uv1=Ir.getInterpolatedAttribute(s,u,d,f,m,new en)),l&&(p.normal=Ir.getInterpolatedAttribute(l,u,d,f,m,new ve),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const g={a:u,b:d,c:f,normal:new ve,materialIndex:0};Ir.getNormal(Fh,Bh,zh,g.normal),p.face=g,p.barycoord=m}return p}class ff extends ho{constructor(e=1,t=1,i=1,r=1,s=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:l};const u=this;r=Math.floor(r),s=Math.floor(s),l=Math.floor(l);const d=[],f=[],p=[],m=[];let g=0,v=0;_("z","y","x",-1,-1,i,t,e,l,s,0),_("z","y","x",1,-1,i,t,-e,l,s,1),_("x","z","y",1,1,e,i,t,r,l,2),_("x","z","y",1,-1,e,i,-t,r,l,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(d),this.setAttribute("position",new la(f,3)),this.setAttribute("normal",new la(p,3)),this.setAttribute("uv",new la(m,2));function _(w,x,b,M,C,T,O,L,D,I,A){const R=T/D,N=O/I,X=T/2,$=O/2,Z=L/2,K=D+1,H=I+1;let Y=0,G=0;const te=new ve;for(let F=0;F<H;F++){const ee=F*N-$;for(let J=0;J<K;J++){const ie=J*R-X;te[w]=ie*M,te[x]=ee*C,te[b]=Z,f.push(te.x,te.y,te.z),te[w]=0,te[x]=0,te[b]=L>0?1:-1,p.push(te.x,te.y,te.z),m.push(J/D),m.push(1-F/I),Y+=1}}for(let F=0;F<I;F++)for(let ee=0;ee<D;ee++){const J=g+ee+K*F,ie=g+ee+K*(F+1),V=g+(ee+1)+K*(F+1),W=g+(ee+1)+K*F;d.push(J,ie,W),d.push(ie,V,W),G+=6}u.addGroup(v,G,A),v+=G,g+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ff(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function zu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Mi(n){const e={};for(let t=0;t<n.length;t++){const i=zu(n[t]);for(const r in i)e[r]=i[r]}return e}function Q5(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function $L(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Zt.workingColorSpace}const J5={clone:zu,merge:Mi};var eH=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tH=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ao extends df{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=eH,this.fragmentShader=tH,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zu(e.uniforms),this.uniformsGroups=Q5(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;l&&l.isTexture?t.uniforms[r]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[r]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[r]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[r]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[r]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[r]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[r]={type:"m4",value:l.toArray()}:t.uniforms[r]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class XL extends Hi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new An,this.projectionMatrix=new An,this.projectionMatrixInverse=new An,this.coordinateSystem=$a}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Bs=new ve,B1=new en,z1=new en;class Ji extends XL{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=eb*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(qy*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return eb*2*Math.atan(Math.tan(qy*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Bs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Bs.x,Bs.y).multiplyScalar(-e/Bs.z),Bs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Bs.x,Bs.y).multiplyScalar(-e/Bs.z)}getViewSize(e,t){return this.getViewBounds(e,B1,z1),t.subVectors(z1,B1)}setViewOffset(e,t,i,r,s,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(qy*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,f=l.fullHeight;s+=l.offsetX*r/d,t-=l.offsetY*i/f,r*=l.width/d,i*=l.height/f}const u=this.filmOffset;u!==0&&(s+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const du=-90,fu=1;class nH extends Hi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Ji(du,fu,e,t);r.layers=this.layers,this.add(r);const s=new Ji(du,fu,e,t);s.layers=this.layers,this.add(s);const l=new Ji(du,fu,e,t);l.layers=this.layers,this.add(l);const u=new Ji(du,fu,e,t);u.layers=this.layers,this.add(u);const d=new Ji(du,fu,e,t);d.layers=this.layers,this.add(d);const f=new Ji(du,fu,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,l,u,d]=t;for(const f of t)this.remove(f);if(e===$a)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===hm)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,l,u,d,f,p]=this.children,m=e.getRenderTarget(),g=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,l),e.setRenderTarget(i,2,r),e.render(t,u),e.setRenderTarget(i,3,r),e.render(t,d),e.setRenderTarget(i,4,r),e.render(t,f),i.texture.generateMipmaps=w,e.setRenderTarget(i,5,r),e.render(t,p),e.setRenderTarget(m,g,v),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class KL extends zi{constructor(e,t,i,r,s,l,u,d,f,p){e=e!==void 0?e:[],t=t!==void 0?t:Nu,super(e,t,i,r,s,l,u,d,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class iH extends ml{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new KL(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:na}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ff(5,5,5),s=new ao({name:"CubemapFromEquirect",uniforms:zu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Bi,blending:Qs});s.uniforms.tEquirect.value=t;const l=new ia(r,s),u=t.minFilter;return t.minFilter===Zo&&(t.minFilter=na),new nH(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,i,r);e.setRenderTarget(s)}}class jh extends Hi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const rH={type:"move"};class p0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new jh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new jh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ve,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ve),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new jh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ve,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ve),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,l=null;const u=this._targetRay,d=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){l=!0;for(const w of e.hand.values()){const x=t.getJointPose(w,i),b=this._getHandJoint(f,w);x!==null&&(b.matrix.fromArray(x.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=x.radius),b.visible=x!==null}const p=f.joints["index-finger-tip"],m=f.joints["thumb-tip"],g=p.position.distanceTo(m.position),v=.02,_=.005;f.inputState.pinching&&g>v+_?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&g<=v-_&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(d.matrix.fromArray(s.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,s.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(s.linearVelocity)):d.hasLinearVelocity=!1,s.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(s.angularVelocity)):d.hasAngularVelocity=!1));u!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(rH)))}return u!==null&&(u.visible=r!==null),d!==null&&(d.visible=s!==null),f!==null&&(f.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new jh;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class aH extends Hi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ha,this.environmentIntensity=1,this.environmentRotation=new ha,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const m0=new ve,sH=new ve,oH=new Ct;class Vo{constructor(e=new ve(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=m0.subVectors(i,t).cross(sH.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(m0),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||oH.getNormalMatrix(e),r=this.coplanarPoint(m0).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Uo=new hx,Wh=new ve;class px{constructor(e=new Vo,t=new Vo,i=new Vo,r=new Vo,s=new Vo,l=new Vo){this.planes=[e,t,i,r,s,l]}set(e,t,i,r,s,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(r),u[4].copy(s),u[5].copy(l),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=$a){const i=this.planes,r=e.elements,s=r[0],l=r[1],u=r[2],d=r[3],f=r[4],p=r[5],m=r[6],g=r[7],v=r[8],_=r[9],w=r[10],x=r[11],b=r[12],M=r[13],C=r[14],T=r[15];if(i[0].setComponents(d-s,g-f,x-v,T-b).normalize(),i[1].setComponents(d+s,g+f,x+v,T+b).normalize(),i[2].setComponents(d+l,g+p,x+_,T+M).normalize(),i[3].setComponents(d-l,g-p,x-_,T-M).normalize(),i[4].setComponents(d-u,g-m,x-w,T-C).normalize(),t===$a)i[5].setComponents(d+u,g+m,x+w,T+C).normalize();else if(t===hm)i[5].setComponents(u,m,w,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Uo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Uo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Uo)}intersectsSprite(e){return Uo.center.set(0,0,0),Uo.radius=.7071067811865476,Uo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Uo)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Wh.x=r.normal.x>0?e.max.x:e.min.x,Wh.y=r.normal.y>0?e.max.y:e.min.y,Wh.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Wh)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class ZL extends zi{constructor(e,t,i,r,s,l,u,d,f,p=Au){if(p!==Au&&p!==Fu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&p===Au&&(i=pl),i===void 0&&p===Fu&&(i=Uu),super(null,r,s,l,u,d,p,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=u!==void 0?u:Ur,this.minFilter=d!==void 0?d:Ur,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class ng extends ho{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,l=t/2,u=Math.floor(i),d=Math.floor(r),f=u+1,p=d+1,m=e/u,g=t/d,v=[],_=[],w=[],x=[];for(let b=0;b<p;b++){const M=b*g-l;for(let C=0;C<f;C++){const T=C*m-s;_.push(T,-M,0),w.push(0,0,1),x.push(C/u),x.push(1-b/d)}}for(let b=0;b<d;b++)for(let M=0;M<u;M++){const C=M+f*b,T=M+f*(b+1),O=M+1+f*(b+1),L=M+1+f*b;v.push(C,T,L),v.push(T,O,L)}this.setIndex(v),this.setAttribute("position",new la(_,3)),this.setAttribute("normal",new la(w,3)),this.setAttribute("uv",new la(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ng(e.width,e.height,e.widthSegments,e.heightSegments)}}class mx extends ho{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const d=Math.min(l+u,Math.PI);let f=0;const p=[],m=new ve,g=new ve,v=[],_=[],w=[],x=[];for(let b=0;b<=i;b++){const M=[],C=b/i;let T=0;b===0&&l===0?T=.5/t:b===i&&d===Math.PI&&(T=-.5/t);for(let O=0;O<=t;O++){const L=O/t;m.x=-e*Math.cos(r+L*s)*Math.sin(l+C*u),m.y=e*Math.cos(l+C*u),m.z=e*Math.sin(r+L*s)*Math.sin(l+C*u),_.push(m.x,m.y,m.z),g.copy(m).normalize(),w.push(g.x,g.y,g.z),x.push(L+T,1-C),M.push(f++)}p.push(M)}for(let b=0;b<i;b++)for(let M=0;M<t;M++){const C=p[b][M+1],T=p[b][M],O=p[b+1][M],L=p[b+1][M+1];(b!==0||l>0)&&v.push(C,T,L),(b!==i-1||d<Math.PI)&&v.push(T,O,L)}this.setIndex(v),this.setAttribute("position",new la(_,3)),this.setAttribute("normal",new la(w,3)),this.setAttribute("uv",new la(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class lH extends df{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Qt(16777215),this.specular=new Qt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=FL,this.normalScale=new en(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ha,this.combine=sx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uH extends df{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class cH extends df{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class QL extends Hi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Qt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}const g0=new An,H1=new ve,V1=new ve;class dH{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new en(512,512),this.map=null,this.mapPass=null,this.matrix=new An,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new px,this._frameExtents=new en(1,1),this._viewportCount=1,this._viewports=[new mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;H1.setFromMatrixPosition(e.matrixWorld),t.position.copy(H1),V1.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(V1),t.updateMatrixWorld(),g0.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(g0),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(g0)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const G1=new An,fd=new ve,v0=new ve;class fH extends dH{constructor(){super(new Ji(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new en(4,2),this._viewportCount=6,this._viewports=[new mn(2,1,1,1),new mn(0,1,1,1),new mn(3,1,1,1),new mn(1,1,1,1),new mn(3,0,1,1),new mn(1,0,1,1)],this._cubeDirections=[new ve(1,0,0),new ve(-1,0,0),new ve(0,0,1),new ve(0,0,-1),new ve(0,1,0),new ve(0,-1,0)],this._cubeUps=[new ve(0,1,0),new ve(0,1,0),new ve(0,1,0),new ve(0,1,0),new ve(0,0,1),new ve(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),fd.setFromMatrixPosition(e.matrixWorld),i.position.copy(fd),v0.copy(i.position),v0.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(v0),i.updateMatrixWorld(),r.makeTranslation(-fd.x,-fd.y,-fd.z),G1.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G1)}}class hH extends QL{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new fH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class pH extends XL{constructor(e=-1,t=1,i=1,r=-1,s=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,l=i+e,u=r+t,d=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,l=s+f*this.view.width,u-=p*this.view.offsetY,d=u-p*this.view.height}this.projectionMatrix.makeOrthographic(s,l,u,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class mH extends QL{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class gH extends Ji{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}function j1(n,e,t,i){const r=vH(i);switch(t){case LL:return n*e;case PL:return n*e;case IL:return n*e*2;case NL:return n*e/r.components*r.byteLength;case cx:return n*e/r.components*r.byteLength;case kL:return n*e*2/r.components*r.byteLength;case dx:return n*e*2/r.components*r.byteLength;case OL:return n*e*3/r.components*r.byteLength;case Nr:return n*e*4/r.components*r.byteLength;case fx:return n*e*4/r.components*r.byteLength;case Sp:case Ep:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case wp:case Mp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case R_:case L_:return Math.max(n,16)*Math.max(e,8)/4;case A_:case D_:return Math.max(n,8)*Math.max(e,8)/2;case O_:case P_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case I_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case N_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case k_:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case U_:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case F_:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case B_:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case z_:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case H_:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case V_:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case G_:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case j_:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case W_:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Y_:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case q_:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case $_:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Tp:case X_:case K_:return Math.ceil(n/4)*Math.ceil(e/4)*16;case UL:case Z_:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Q_:case J_:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function vH(n){switch(n){case os:case AL:return{byteLength:1,components:1};case Hd:case RL:case of:return{byteLength:2,components:1};case lx:case ux:return{byteLength:2,components:4};case pl:case ox:case qa:return{byteLength:4,components:1};case DL:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ax}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ax);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function JL(){let n=null,e=!1,t=null,i=null;function r(s,l){t(s,l),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function yH(n){const e=new WeakMap;function t(u,d){const f=u.array,p=u.usage,m=f.byteLength,g=n.createBuffer();n.bindBuffer(d,g),n.bufferData(d,f,p),u.onUploadCallback();let v;if(f instanceof Float32Array)v=n.FLOAT;else if(f instanceof Uint16Array)u.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=n.SHORT;else if(f instanceof Uint32Array)v=n.UNSIGNED_INT;else if(f instanceof Int32Array)v=n.INT;else if(f instanceof Int8Array)v=n.BYTE;else if(f instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:g,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version,size:m}}function i(u,d,f){const p=d.array,m=d.updateRanges;if(n.bindBuffer(f,u),m.length===0)n.bufferSubData(f,0,p);else{m.sort((v,_)=>v.start-_.start);let g=0;for(let v=1;v<m.length;v++){const _=m[g],w=m[v];w.start<=_.start+_.count+1?_.count=Math.max(_.count,w.start+w.count-_.start):(++g,m[g]=w)}m.length=g+1;for(let v=0,_=m.length;v<_;v++){const w=m[v];n.bufferSubData(f,w.start*p.BYTES_PER_ELEMENT,p,w.start,w.count)}d.clearUpdateRanges()}d.onUploadCallback()}function r(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=e.get(u);d&&(n.deleteBuffer(d.buffer),e.delete(u))}function l(u,d){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const p=e.get(u);(!p||p.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const f=e.get(u);if(f===void 0)e.set(u,t(u,d));else if(f.version<u.version){if(f.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,u,d),f.version=u.version}}return{get:r,remove:s,update:l}}var _H=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,bH=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xH=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,SH=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,EH=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,wH=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,MH=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,TH=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,CH=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,AH=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,RH=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,DH=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,LH=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,OH=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,PH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,IH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,NH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,kH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,UH=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,FH=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,BH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,zH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,HH=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,VH=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,GH=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,jH=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,WH=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,YH=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,qH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,$H=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,XH="gl_FragColor = linearToOutputTexel( gl_FragColor );",KH=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ZH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,QH=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,JH=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,e4=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,t4=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,n4=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,i4=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,r4=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,a4=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,s4=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,o4=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,l4=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,u4=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,c4=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,d4=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,f4=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,h4=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,p4=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,m4=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,g4=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,v4=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,y4=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_4=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,b4=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,x4=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,S4=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,E4=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,w4=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,M4=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,T4=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,C4=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,A4=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,R4=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,D4=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,L4=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,O4=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,P4=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,I4=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,N4=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,k4=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,U4=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,F4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,B4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,z4=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,H4=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,V4=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,G4=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,j4=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,W4=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Y4=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,q4=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,$4=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,X4=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,K4=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Z4=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Q4=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,J4=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,e8=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,t8=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,n8=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,i8=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,r8=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,a8=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,s8=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,o8=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,l8=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,u8=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,c8=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,d8=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,f8=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,h8=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,p8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,m8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,g8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,v8=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const y8=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_8=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,b8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,x8=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,S8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,E8=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,w8=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,M8=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,T8=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,C8=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,A8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,R8=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,D8=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,L8=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,O8=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,P8=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I8=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,N8=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,U8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F8=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,B8=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,z8=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,H8=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V8=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,G8=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,j8=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,W8=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Y8=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,q8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$8=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,X8=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,K8=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Z8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Rt={alphahash_fragment:_H,alphahash_pars_fragment:bH,alphamap_fragment:xH,alphamap_pars_fragment:SH,alphatest_fragment:EH,alphatest_pars_fragment:wH,aomap_fragment:MH,aomap_pars_fragment:TH,batching_pars_vertex:CH,batching_vertex:AH,begin_vertex:RH,beginnormal_vertex:DH,bsdfs:LH,iridescence_fragment:OH,bumpmap_pars_fragment:PH,clipping_planes_fragment:IH,clipping_planes_pars_fragment:NH,clipping_planes_pars_vertex:kH,clipping_planes_vertex:UH,color_fragment:FH,color_pars_fragment:BH,color_pars_vertex:zH,color_vertex:HH,common:VH,cube_uv_reflection_fragment:GH,defaultnormal_vertex:jH,displacementmap_pars_vertex:WH,displacementmap_vertex:YH,emissivemap_fragment:qH,emissivemap_pars_fragment:$H,colorspace_fragment:XH,colorspace_pars_fragment:KH,envmap_fragment:ZH,envmap_common_pars_fragment:QH,envmap_pars_fragment:JH,envmap_pars_vertex:e4,envmap_physical_pars_fragment:d4,envmap_vertex:t4,fog_vertex:n4,fog_pars_vertex:i4,fog_fragment:r4,fog_pars_fragment:a4,gradientmap_pars_fragment:s4,lightmap_pars_fragment:o4,lights_lambert_fragment:l4,lights_lambert_pars_fragment:u4,lights_pars_begin:c4,lights_toon_fragment:f4,lights_toon_pars_fragment:h4,lights_phong_fragment:p4,lights_phong_pars_fragment:m4,lights_physical_fragment:g4,lights_physical_pars_fragment:v4,lights_fragment_begin:y4,lights_fragment_maps:_4,lights_fragment_end:b4,logdepthbuf_fragment:x4,logdepthbuf_pars_fragment:S4,logdepthbuf_pars_vertex:E4,logdepthbuf_vertex:w4,map_fragment:M4,map_pars_fragment:T4,map_particle_fragment:C4,map_particle_pars_fragment:A4,metalnessmap_fragment:R4,metalnessmap_pars_fragment:D4,morphinstance_vertex:L4,morphcolor_vertex:O4,morphnormal_vertex:P4,morphtarget_pars_vertex:I4,morphtarget_vertex:N4,normal_fragment_begin:k4,normal_fragment_maps:U4,normal_pars_fragment:F4,normal_pars_vertex:B4,normal_vertex:z4,normalmap_pars_fragment:H4,clearcoat_normal_fragment_begin:V4,clearcoat_normal_fragment_maps:G4,clearcoat_pars_fragment:j4,iridescence_pars_fragment:W4,opaque_fragment:Y4,packing:q4,premultiplied_alpha_fragment:$4,project_vertex:X4,dithering_fragment:K4,dithering_pars_fragment:Z4,roughnessmap_fragment:Q4,roughnessmap_pars_fragment:J4,shadowmap_pars_fragment:e8,shadowmap_pars_vertex:t8,shadowmap_vertex:n8,shadowmask_pars_fragment:i8,skinbase_vertex:r8,skinning_pars_vertex:a8,skinning_vertex:s8,skinnormal_vertex:o8,specularmap_fragment:l8,specularmap_pars_fragment:u8,tonemapping_fragment:c8,tonemapping_pars_fragment:d8,transmission_fragment:f8,transmission_pars_fragment:h8,uv_pars_fragment:p8,uv_pars_vertex:m8,uv_vertex:g8,worldpos_vertex:v8,background_vert:y8,background_frag:_8,backgroundCube_vert:b8,backgroundCube_frag:x8,cube_vert:S8,cube_frag:E8,depth_vert:w8,depth_frag:M8,distanceRGBA_vert:T8,distanceRGBA_frag:C8,equirect_vert:A8,equirect_frag:R8,linedashed_vert:D8,linedashed_frag:L8,meshbasic_vert:O8,meshbasic_frag:P8,meshlambert_vert:I8,meshlambert_frag:N8,meshmatcap_vert:k8,meshmatcap_frag:U8,meshnormal_vert:F8,meshnormal_frag:B8,meshphong_vert:z8,meshphong_frag:H8,meshphysical_vert:V8,meshphysical_frag:G8,meshtoon_vert:j8,meshtoon_frag:W8,points_vert:Y8,points_frag:q8,shadow_vert:$8,shadow_frag:X8,sprite_vert:K8,sprite_frag:Z8},ze={common:{diffuse:{value:new Qt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ct}},envmap:{envMap:{value:null},envMapRotation:{value:new Ct},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ct}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ct}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ct},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ct},normalScale:{value:new en(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ct},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ct}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ct}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ct}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0},uvTransform:{value:new Ct}},sprite:{diffuse:{value:new Qt(16777215)},opacity:{value:1},center:{value:new en(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}}},$r={basic:{uniforms:Mi([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.fog]),vertexShader:Rt.meshbasic_vert,fragmentShader:Rt.meshbasic_frag},lambert:{uniforms:Mi([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,ze.lights,{emissive:{value:new Qt(0)}}]),vertexShader:Rt.meshlambert_vert,fragmentShader:Rt.meshlambert_frag},phong:{uniforms:Mi([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,ze.lights,{emissive:{value:new Qt(0)},specular:{value:new Qt(1118481)},shininess:{value:30}}]),vertexShader:Rt.meshphong_vert,fragmentShader:Rt.meshphong_frag},standard:{uniforms:Mi([ze.common,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.roughnessmap,ze.metalnessmap,ze.fog,ze.lights,{emissive:{value:new Qt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag},toon:{uniforms:Mi([ze.common,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.gradientmap,ze.fog,ze.lights,{emissive:{value:new Qt(0)}}]),vertexShader:Rt.meshtoon_vert,fragmentShader:Rt.meshtoon_frag},matcap:{uniforms:Mi([ze.common,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,{matcap:{value:null}}]),vertexShader:Rt.meshmatcap_vert,fragmentShader:Rt.meshmatcap_frag},points:{uniforms:Mi([ze.points,ze.fog]),vertexShader:Rt.points_vert,fragmentShader:Rt.points_frag},dashed:{uniforms:Mi([ze.common,ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rt.linedashed_vert,fragmentShader:Rt.linedashed_frag},depth:{uniforms:Mi([ze.common,ze.displacementmap]),vertexShader:Rt.depth_vert,fragmentShader:Rt.depth_frag},normal:{uniforms:Mi([ze.common,ze.bumpmap,ze.normalmap,ze.displacementmap,{opacity:{value:1}}]),vertexShader:Rt.meshnormal_vert,fragmentShader:Rt.meshnormal_frag},sprite:{uniforms:Mi([ze.sprite,ze.fog]),vertexShader:Rt.sprite_vert,fragmentShader:Rt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ct},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Rt.background_vert,fragmentShader:Rt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ct}},vertexShader:Rt.backgroundCube_vert,fragmentShader:Rt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Rt.cube_vert,fragmentShader:Rt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rt.equirect_vert,fragmentShader:Rt.equirect_frag},distanceRGBA:{uniforms:Mi([ze.common,ze.displacementmap,{referencePosition:{value:new ve},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rt.distanceRGBA_vert,fragmentShader:Rt.distanceRGBA_frag},shadow:{uniforms:Mi([ze.lights,ze.fog,{color:{value:new Qt(0)},opacity:{value:1}}]),vertexShader:Rt.shadow_vert,fragmentShader:Rt.shadow_frag}};$r.physical={uniforms:Mi([$r.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ct},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ct},clearcoatNormalScale:{value:new en(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ct},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ct},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ct},sheen:{value:0},sheenColor:{value:new Qt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ct},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ct},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ct},transmissionSamplerSize:{value:new en},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ct},attenuationDistance:{value:0},attenuationColor:{value:new Qt(0)},specularColor:{value:new Qt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ct},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ct},anisotropyVector:{value:new en},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ct}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag};const Yh={r:0,b:0,g:0},Fo=new ha,Q8=new An;function J8(n,e,t,i,r,s,l){const u=new Qt(0);let d=s===!0?0:1,f,p,m=null,g=0,v=null;function _(C){let T=C.isScene===!0?C.background:null;return T&&T.isTexture&&(T=(C.backgroundBlurriness>0?t:e).get(T)),T}function w(C){let T=!1;const O=_(C);O===null?b(u,d):O&&O.isColor&&(b(O,1),T=!0);const L=n.xr.getEnvironmentBlendMode();L==="additive"?i.buffers.color.setClear(0,0,0,1,l):L==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||T)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function x(C,T){const O=_(T);O&&(O.isCubeTexture||O.mapping===tg)?(p===void 0&&(p=new ia(new ff(1,1,1),new ao({name:"BackgroundCubeMaterial",uniforms:zu($r.backgroundCube.uniforms),vertexShader:$r.backgroundCube.vertexShader,fragmentShader:$r.backgroundCube.fragmentShader,side:Bi,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(L,D,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),Fo.copy(T.backgroundRotation),Fo.x*=-1,Fo.y*=-1,Fo.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Fo.y*=-1,Fo.z*=-1),p.material.uniforms.envMap.value=O,p.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=T.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(Q8.makeRotationFromEuler(Fo)),p.material.toneMapped=Zt.getTransfer(O.colorSpace)!==pn,(m!==O||g!==O.version||v!==n.toneMapping)&&(p.material.needsUpdate=!0,m=O,g=O.version,v=n.toneMapping),p.layers.enableAll(),C.unshift(p,p.geometry,p.material,0,0,null)):O&&O.isTexture&&(f===void 0&&(f=new ia(new ng(2,2),new ao({name:"BackgroundMaterial",uniforms:zu($r.background.uniforms),vertexShader:$r.background.vertexShader,fragmentShader:$r.background.fragmentShader,side:ro,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=O,f.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,f.material.toneMapped=Zt.getTransfer(O.colorSpace)!==pn,O.matrixAutoUpdate===!0&&O.updateMatrix(),f.material.uniforms.uvTransform.value.copy(O.matrix),(m!==O||g!==O.version||v!==n.toneMapping)&&(f.material.needsUpdate=!0,m=O,g=O.version,v=n.toneMapping),f.layers.enableAll(),C.unshift(f,f.geometry,f.material,0,0,null))}function b(C,T){C.getRGB(Yh,$L(n)),i.buffers.color.setClear(Yh.r,Yh.g,Yh.b,T,l)}function M(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return u},setClearColor:function(C,T=1){u.set(C),d=T,b(u,d)},getClearAlpha:function(){return d},setClearAlpha:function(C){d=C,b(u,d)},render:w,addToRenderList:x,dispose:M}}function eV(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=g(null);let s=r,l=!1;function u(R,N,X,$,Z){let K=!1;const H=m($,X,N);s!==H&&(s=H,f(s.object)),K=v(R,$,X,Z),K&&_(R,$,X,Z),Z!==null&&e.update(Z,n.ELEMENT_ARRAY_BUFFER),(K||l)&&(l=!1,T(R,N,X,$),Z!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(Z).buffer))}function d(){return n.createVertexArray()}function f(R){return n.bindVertexArray(R)}function p(R){return n.deleteVertexArray(R)}function m(R,N,X){const $=X.wireframe===!0;let Z=i[R.id];Z===void 0&&(Z={},i[R.id]=Z);let K=Z[N.id];K===void 0&&(K={},Z[N.id]=K);let H=K[$];return H===void 0&&(H=g(d()),K[$]=H),H}function g(R){const N=[],X=[],$=[];for(let Z=0;Z<t;Z++)N[Z]=0,X[Z]=0,$[Z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:X,attributeDivisors:$,object:R,attributes:{},index:null}}function v(R,N,X,$){const Z=s.attributes,K=N.attributes;let H=0;const Y=X.getAttributes();for(const G in Y)if(Y[G].location>=0){const F=Z[G];let ee=K[G];if(ee===void 0&&(G==="instanceMatrix"&&R.instanceMatrix&&(ee=R.instanceMatrix),G==="instanceColor"&&R.instanceColor&&(ee=R.instanceColor)),F===void 0||F.attribute!==ee||ee&&F.data!==ee.data)return!0;H++}return s.attributesNum!==H||s.index!==$}function _(R,N,X,$){const Z={},K=N.attributes;let H=0;const Y=X.getAttributes();for(const G in Y)if(Y[G].location>=0){let F=K[G];F===void 0&&(G==="instanceMatrix"&&R.instanceMatrix&&(F=R.instanceMatrix),G==="instanceColor"&&R.instanceColor&&(F=R.instanceColor));const ee={};ee.attribute=F,F&&F.data&&(ee.data=F.data),Z[G]=ee,H++}s.attributes=Z,s.attributesNum=H,s.index=$}function w(){const R=s.newAttributes;for(let N=0,X=R.length;N<X;N++)R[N]=0}function x(R){b(R,0)}function b(R,N){const X=s.newAttributes,$=s.enabledAttributes,Z=s.attributeDivisors;X[R]=1,$[R]===0&&(n.enableVertexAttribArray(R),$[R]=1),Z[R]!==N&&(n.vertexAttribDivisor(R,N),Z[R]=N)}function M(){const R=s.newAttributes,N=s.enabledAttributes;for(let X=0,$=N.length;X<$;X++)N[X]!==R[X]&&(n.disableVertexAttribArray(X),N[X]=0)}function C(R,N,X,$,Z,K,H){H===!0?n.vertexAttribIPointer(R,N,X,Z,K):n.vertexAttribPointer(R,N,X,$,Z,K)}function T(R,N,X,$){w();const Z=$.attributes,K=X.getAttributes(),H=N.defaultAttributeValues;for(const Y in K){const G=K[Y];if(G.location>=0){let te=Z[Y];if(te===void 0&&(Y==="instanceMatrix"&&R.instanceMatrix&&(te=R.instanceMatrix),Y==="instanceColor"&&R.instanceColor&&(te=R.instanceColor)),te!==void 0){const F=te.normalized,ee=te.itemSize,J=e.get(te);if(J===void 0)continue;const ie=J.buffer,V=J.type,W=J.bytesPerElement,ue=V===n.INT||V===n.UNSIGNED_INT||te.gpuType===ox;if(te.isInterleavedBufferAttribute){const le=te.data,he=le.stride,Ae=te.offset;if(le.isInstancedInterleavedBuffer){for(let ge=0;ge<G.locationSize;ge++)b(G.location+ge,le.meshPerAttribute);R.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let ge=0;ge<G.locationSize;ge++)x(G.location+ge);n.bindBuffer(n.ARRAY_BUFFER,ie);for(let ge=0;ge<G.locationSize;ge++)C(G.location+ge,ee/G.locationSize,V,F,he*W,(Ae+ee/G.locationSize*ge)*W,ue)}else{if(te.isInstancedBufferAttribute){for(let le=0;le<G.locationSize;le++)b(G.location+le,te.meshPerAttribute);R.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let le=0;le<G.locationSize;le++)x(G.location+le);n.bindBuffer(n.ARRAY_BUFFER,ie);for(let le=0;le<G.locationSize;le++)C(G.location+le,ee/G.locationSize,V,F,ee*W,ee/G.locationSize*le*W,ue)}}else if(H!==void 0){const F=H[Y];if(F!==void 0)switch(F.length){case 2:n.vertexAttrib2fv(G.location,F);break;case 3:n.vertexAttrib3fv(G.location,F);break;case 4:n.vertexAttrib4fv(G.location,F);break;default:n.vertexAttrib1fv(G.location,F)}}}}M()}function O(){I();for(const R in i){const N=i[R];for(const X in N){const $=N[X];for(const Z in $)p($[Z].object),delete $[Z];delete N[X]}delete i[R]}}function L(R){if(i[R.id]===void 0)return;const N=i[R.id];for(const X in N){const $=N[X];for(const Z in $)p($[Z].object),delete $[Z];delete N[X]}delete i[R.id]}function D(R){for(const N in i){const X=i[N];if(X[R.id]===void 0)continue;const $=X[R.id];for(const Z in $)p($[Z].object),delete $[Z];delete X[R.id]}}function I(){A(),l=!0,s!==r&&(s=r,f(s.object))}function A(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:u,reset:I,resetDefaultState:A,dispose:O,releaseStatesOfGeometry:L,releaseStatesOfProgram:D,initAttributes:w,enableAttribute:x,disableUnusedAttributes:M}}function tV(n,e,t){let i;function r(f){i=f}function s(f,p){n.drawArrays(i,f,p),t.update(p,i,1)}function l(f,p,m){m!==0&&(n.drawArraysInstanced(i,f,p,m),t.update(p,i,m))}function u(f,p,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,p,0,m);let v=0;for(let _=0;_<m;_++)v+=p[_];t.update(v,i,1)}function d(f,p,m,g){if(m===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<f.length;_++)l(f[_],p[_],g[_]);else{v.multiDrawArraysInstancedWEBGL(i,f,0,p,0,g,0,m);let _=0;for(let w=0;w<m;w++)_+=p[w]*g[w];t.update(_,i,1)}}this.setMode=r,this.render=s,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function nV(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function l(D){return!(D!==Nr&&i.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(D){const I=D===of&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(D!==os&&i.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&D!==qa&&!I)}function d(D){if(D==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const p=d(f);p!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const m=t.logarithmicDepthBuffer===!0,g=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=n.getParameter(n.MAX_TEXTURE_SIZE),x=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),M=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),C=n.getParameter(n.MAX_VARYING_VECTORS),T=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=_>0,L=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:d,textureFormatReadable:l,textureTypeReadable:u,precision:f,logarithmicDepthBuffer:m,reverseDepthBuffer:g,maxTextures:v,maxVertexTextures:_,maxTextureSize:w,maxCubemapSize:x,maxAttributes:b,maxVertexUniforms:M,maxVaryings:C,maxFragmentUniforms:T,vertexTextures:O,maxSamples:L}}function iV(n){const e=this;let t=null,i=0,r=!1,s=!1;const l=new Vo,u=new Ct,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(m,g){const v=m.length!==0||g||i!==0||r;return r=g,i=m.length,v},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(m,g){t=p(m,g,0)},this.setState=function(m,g,v){const _=m.clippingPlanes,w=m.clipIntersection,x=m.clipShadows,b=n.get(m);if(!r||_===null||_.length===0||s&&!x)s?p(null):f();else{const M=s?0:i,C=M*4;let T=b.clippingState||null;d.value=T,T=p(_,g,C,v);for(let O=0;O!==C;++O)T[O]=t[O];b.clippingState=T,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=M}};function f(){d.value!==t&&(d.value=t,d.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(m,g,v,_){const w=m!==null?m.length:0;let x=null;if(w!==0){if(x=d.value,_!==!0||x===null){const b=v+w*4,M=g.matrixWorldInverse;u.getNormalMatrix(M),(x===null||x.length<b)&&(x=new Float32Array(b));for(let C=0,T=v;C!==w;++C,T+=4)l.copy(m[C]).applyMatrix4(M,u),l.normal.toArray(x,T),x[T+3]=l.constant}d.value=x,d.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,x}}function rV(n){let e=new WeakMap;function t(l,u){return u===w_?l.mapping=Nu:u===M_&&(l.mapping=ku),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===w_||u===M_)if(e.has(l)){const d=e.get(l).texture;return t(d,l.mapping)}else{const d=l.image;if(d&&d.height>0){const f=new iH(d.height);return f.fromEquirectangularTexture(n,l),e.set(l,f),l.addEventListener("dispose",r),t(f.texture,l.mapping)}else return null}}return l}function r(l){const u=l.target;u.removeEventListener("dispose",r);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const bu=4,W1=[.125,.215,.35,.446,.526,.582],Yo=20,y0=new pH,Y1=new Qt;let _0=null,b0=0,x0=0,S0=!1;const Go=(1+Math.sqrt(5))/2,hu=1/Go,q1=[new ve(-Go,hu,0),new ve(Go,hu,0),new ve(-hu,0,Go),new ve(hu,0,Go),new ve(0,Go,-hu),new ve(0,Go,hu),new ve(-1,1,-1),new ve(1,1,-1),new ve(-1,1,1),new ve(1,1,1)];class $1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){_0=this._renderer.getRenderTarget(),b0=this._renderer.getActiveCubeFace(),x0=this._renderer.getActiveMipmapLevel(),S0=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Z1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=K1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_0,b0,x0),this._renderer.xr.enabled=S0,e.scissorTest=!1,qh(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Nu||e.mapping===ku?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_0=this._renderer.getRenderTarget(),b0=this._renderer.getActiveCubeFace(),x0=this._renderer.getActiveMipmapLevel(),S0=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:na,minFilter:na,generateMipmaps:!1,type:of,format:Nr,colorSpace:Bu,depthBuffer:!1},r=X1(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=X1(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=aV(s)),this._blurMaterial=sV(s,e,t)}return r}_compileMaterial(e){const t=new ia(this._lodPlanes[0],e);this._renderer.compile(t,y0)}_sceneToCubeUV(e,t,i,r){const u=new Ji(90,1,t,i),d=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],p=this._renderer,m=p.autoClear,g=p.toneMapping;p.getClearColor(Y1),p.toneMapping=Js,p.autoClear=!1;const v=new WL({name:"PMREM.Background",side:Bi,depthWrite:!1,depthTest:!1}),_=new ia(new ff,v);let w=!1;const x=e.background;x?x.isColor&&(v.color.copy(x),e.background=null,w=!0):(v.color.copy(Y1),w=!0);for(let b=0;b<6;b++){const M=b%3;M===0?(u.up.set(0,d[b],0),u.lookAt(f[b],0,0)):M===1?(u.up.set(0,0,d[b]),u.lookAt(0,f[b],0)):(u.up.set(0,d[b],0),u.lookAt(0,0,f[b]));const C=this._cubeSize;qh(r,M*C,b>2?C:0,C,C),p.setRenderTarget(r),w&&p.render(_,u),p.render(e,u)}_.geometry.dispose(),_.material.dispose(),p.toneMapping=g,p.autoClear=m,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Nu||e.mapping===ku;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Z1()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=K1());const s=r?this._cubemapMaterial:this._equirectMaterial,l=new ia(this._lodPlanes[0],s),u=s.uniforms;u.envMap.value=e;const d=this._cubeSize;qh(t,0,0,3*d,2*d),i.setRenderTarget(t),i.render(l,y0)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const l=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),u=q1[(r-s-1)%q1.length];this._blur(e,s-1,s,l,u)}t.autoClear=i}_blur(e,t,i,r,s){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,i,r,"latitudinal",s),this._halfBlur(l,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,l,u){const d=this._renderer,f=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,m=new ia(this._lodPlanes[r],f),g=f.uniforms,v=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Yo-1),w=s/_,x=isFinite(s)?1+Math.floor(p*w):Yo;x>Yo&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Yo}`);const b=[];let M=0;for(let D=0;D<Yo;++D){const I=D/w,A=Math.exp(-I*I/2);b.push(A),D===0?M+=A:D<x&&(M+=2*A)}for(let D=0;D<b.length;D++)b[D]=b[D]/M;g.envMap.value=e.texture,g.samples.value=x,g.weights.value=b,g.latitudinal.value=l==="latitudinal",u&&(g.poleAxis.value=u);const{_lodMax:C}=this;g.dTheta.value=_,g.mipInt.value=C-i;const T=this._sizeLods[r],O=3*T*(r>C-bu?r-C+bu:0),L=4*(this._cubeSize-T);qh(t,O,L,3*T,2*T),d.setRenderTarget(t),d.render(m,y0)}}function aV(n){const e=[],t=[],i=[];let r=n;const s=n-bu+1+W1.length;for(let l=0;l<s;l++){const u=Math.pow(2,r);t.push(u);let d=1/u;l>n-bu?d=W1[l-n+bu-1]:l===0&&(d=0),i.push(d);const f=1/(u-2),p=-f,m=1+f,g=[p,p,m,p,m,m,p,p,m,m,p,m],v=6,_=6,w=3,x=2,b=1,M=new Float32Array(w*_*v),C=new Float32Array(x*_*v),T=new Float32Array(b*_*v);for(let L=0;L<v;L++){const D=L%3*2/3-1,I=L>2?0:-1,A=[D,I,0,D+2/3,I,0,D+2/3,I+1,0,D,I,0,D+2/3,I+1,0,D,I+1,0];M.set(A,w*_*L),C.set(g,x*_*L);const R=[L,L,L,L,L,L];T.set(R,b*_*L)}const O=new ho;O.setAttribute("position",new oa(M,w)),O.setAttribute("uv",new oa(C,x)),O.setAttribute("faceIndex",new oa(T,b)),e.push(O),r>bu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function X1(n,e,t){const i=new ml(n,e,t);return i.texture.mapping=tg,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function qh(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function sV(n,e,t){const i=new Float32Array(Yo),r=new ve(0,1,0);return new ao({name:"SphericalGaussianBlur",defines:{n:Yo,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:gx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function K1(){return new ao({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:gx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function Z1(){return new ao({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:gx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function gx(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function oV(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const d=u.mapping,f=d===w_||d===M_,p=d===Nu||d===ku;if(f||p){let m=e.get(u);const g=m!==void 0?m.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==g)return t===null&&(t=new $1(n)),m=f?t.fromEquirectangular(u,m):t.fromCubemap(u,m),m.texture.pmremVersion=u.pmremVersion,e.set(u,m),m.texture;if(m!==void 0)return m.texture;{const v=u.image;return f&&v&&v.height>0||p&&v&&r(v)?(t===null&&(t=new $1(n)),m=f?t.fromEquirectangular(u):t.fromCubemap(u),m.texture.pmremVersion=u.pmremVersion,e.set(u,m),u.addEventListener("dispose",s),m.texture):null}}}return u}function r(u){let d=0;const f=6;for(let p=0;p<f;p++)u[p]!==void 0&&d++;return d===f}function s(u){const d=u.target;d.removeEventListener("dispose",s);const f=e.get(d);f!==void 0&&(e.delete(d),f.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:l}}function lV(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&yu("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function uV(n,e,t,i){const r={},s=new WeakMap;function l(m){const g=m.target;g.index!==null&&e.remove(g.index);for(const _ in g.attributes)e.remove(g.attributes[_]);g.removeEventListener("dispose",l),delete r[g.id];const v=s.get(g);v&&(e.remove(v),s.delete(g)),i.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,t.memory.geometries--}function u(m,g){return r[g.id]===!0||(g.addEventListener("dispose",l),r[g.id]=!0,t.memory.geometries++),g}function d(m){const g=m.attributes;for(const v in g)e.update(g[v],n.ARRAY_BUFFER)}function f(m){const g=[],v=m.index,_=m.attributes.position;let w=0;if(v!==null){const M=v.array;w=v.version;for(let C=0,T=M.length;C<T;C+=3){const O=M[C+0],L=M[C+1],D=M[C+2];g.push(O,L,L,D,D,O)}}else if(_!==void 0){const M=_.array;w=_.version;for(let C=0,T=M.length/3-1;C<T;C+=3){const O=C+0,L=C+1,D=C+2;g.push(O,L,L,D,D,O)}}else return;const x=new(zL(g)?qL:YL)(g,1);x.version=w;const b=s.get(m);b&&e.remove(b),s.set(m,x)}function p(m){const g=s.get(m);if(g){const v=m.index;v!==null&&g.version<v.version&&f(m)}else f(m);return s.get(m)}return{get:u,update:d,getWireframeAttribute:p}}function cV(n,e,t){let i;function r(g){i=g}let s,l;function u(g){s=g.type,l=g.bytesPerElement}function d(g,v){n.drawElements(i,v,s,g*l),t.update(v,i,1)}function f(g,v,_){_!==0&&(n.drawElementsInstanced(i,v,s,g*l,_),t.update(v,i,_))}function p(g,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,g,0,_);let x=0;for(let b=0;b<_;b++)x+=v[b];t.update(x,i,1)}function m(g,v,_,w){if(_===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let b=0;b<g.length;b++)f(g[b]/l,v[b],w[b]);else{x.multiDrawElementsInstancedWEBGL(i,v,0,s,g,0,w,0,_);let b=0;for(let M=0;M<_;M++)b+=v[M]*w[M];t.update(b,i,1)}}this.setMode=r,this.setIndex=u,this.render=d,this.renderInstances=f,this.renderMultiDraw=p,this.renderMultiDrawInstances=m}function dV(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,l,u){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=u*(s/3);break;case n.LINES:t.lines+=u*(s/2);break;case n.LINE_STRIP:t.lines+=u*(s-1);break;case n.LINE_LOOP:t.lines+=u*s;break;case n.POINTS:t.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function fV(n,e,t){const i=new WeakMap,r=new mn;function s(l,u,d){const f=l.morphTargetInfluences,p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=p!==void 0?p.length:0;let g=i.get(u);if(g===void 0||g.count!==m){let R=function(){I.dispose(),i.delete(u),u.removeEventListener("dispose",R)};var v=R;g!==void 0&&g.texture.dispose();const _=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,x=u.morphAttributes.color!==void 0,b=u.morphAttributes.position||[],M=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let T=0;_===!0&&(T=1),w===!0&&(T=2),x===!0&&(T=3);let O=u.attributes.position.count*T,L=1;O>e.maxTextureSize&&(L=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const D=new Float32Array(O*L*4*m),I=new VL(D,O,L,m);I.type=qa,I.needsUpdate=!0;const A=T*4;for(let N=0;N<m;N++){const X=b[N],$=M[N],Z=C[N],K=O*L*4*N;for(let H=0;H<X.count;H++){const Y=H*A;_===!0&&(r.fromBufferAttribute(X,H),D[K+Y+0]=r.x,D[K+Y+1]=r.y,D[K+Y+2]=r.z,D[K+Y+3]=0),w===!0&&(r.fromBufferAttribute($,H),D[K+Y+4]=r.x,D[K+Y+5]=r.y,D[K+Y+6]=r.z,D[K+Y+7]=0),x===!0&&(r.fromBufferAttribute(Z,H),D[K+Y+8]=r.x,D[K+Y+9]=r.y,D[K+Y+10]=r.z,D[K+Y+11]=Z.itemSize===4?r.w:1)}}g={count:m,texture:I,size:new en(O,L)},i.set(u,g),u.addEventListener("dispose",R)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)d.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let _=0;for(let x=0;x<f.length;x++)_+=f[x];const w=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",f)}d.getUniforms().setValue(n,"morphTargetsTexture",g.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",g.size)}return{update:s}}function hV(n,e,t,i){let r=new WeakMap;function s(d){const f=i.render.frame,p=d.geometry,m=e.get(d,p);if(r.get(m)!==f&&(e.update(m),r.set(m,f)),d.isInstancedMesh&&(d.hasEventListener("dispose",u)===!1&&d.addEventListener("dispose",u),r.get(d)!==f&&(t.update(d.instanceMatrix,n.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,n.ARRAY_BUFFER),r.set(d,f))),d.isSkinnedMesh){const g=d.skeleton;r.get(g)!==f&&(g.update(),r.set(g,f))}return m}function l(){r=new WeakMap}function u(d){const f=d.target;f.removeEventListener("dispose",u),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:l}}const e2=new zi,Q1=new ZL(1,1),t2=new VL,n2=new B5,i2=new KL,J1=[],eT=[],tT=new Float32Array(16),nT=new Float32Array(9),iT=new Float32Array(4);function ac(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=J1[r];if(s===void 0&&(s=new Float32Array(r),J1[r]=s),e!==0){i.toArray(s,0);for(let l=1,u=0;l!==e;++l)u+=t,n[l].toArray(s,u)}return s}function Kn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Zn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function ig(n,e){let t=eT[e];t===void 0&&(t=new Int32Array(e),eT[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function pV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function mV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Kn(t,e))return;n.uniform2fv(this.addr,e),Zn(t,e)}}function gV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Kn(t,e))return;n.uniform3fv(this.addr,e),Zn(t,e)}}function vV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Kn(t,e))return;n.uniform4fv(this.addr,e),Zn(t,e)}}function yV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Kn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Zn(t,e)}else{if(Kn(t,i))return;iT.set(i),n.uniformMatrix2fv(this.addr,!1,iT),Zn(t,i)}}function _V(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Kn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Zn(t,e)}else{if(Kn(t,i))return;nT.set(i),n.uniformMatrix3fv(this.addr,!1,nT),Zn(t,i)}}function bV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Kn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Zn(t,e)}else{if(Kn(t,i))return;tT.set(i),n.uniformMatrix4fv(this.addr,!1,tT),Zn(t,i)}}function xV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function SV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Kn(t,e))return;n.uniform2iv(this.addr,e),Zn(t,e)}}function EV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Kn(t,e))return;n.uniform3iv(this.addr,e),Zn(t,e)}}function wV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Kn(t,e))return;n.uniform4iv(this.addr,e),Zn(t,e)}}function MV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function TV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Kn(t,e))return;n.uniform2uiv(this.addr,e),Zn(t,e)}}function CV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Kn(t,e))return;n.uniform3uiv(this.addr,e),Zn(t,e)}}function AV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Kn(t,e))return;n.uniform4uiv(this.addr,e),Zn(t,e)}}function RV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(Q1.compareFunction=BL,s=Q1):s=e2,t.setTexture2D(e||s,r)}function DV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||n2,r)}function LV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||i2,r)}function OV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||t2,r)}function PV(n){switch(n){case 5126:return pV;case 35664:return mV;case 35665:return gV;case 35666:return vV;case 35674:return yV;case 35675:return _V;case 35676:return bV;case 5124:case 35670:return xV;case 35667:case 35671:return SV;case 35668:case 35672:return EV;case 35669:case 35673:return wV;case 5125:return MV;case 36294:return TV;case 36295:return CV;case 36296:return AV;case 35678:case 36198:case 36298:case 36306:case 35682:return RV;case 35679:case 36299:case 36307:return DV;case 35680:case 36300:case 36308:case 36293:return LV;case 36289:case 36303:case 36311:case 36292:return OV}}function IV(n,e){n.uniform1fv(this.addr,e)}function NV(n,e){const t=ac(e,this.size,2);n.uniform2fv(this.addr,t)}function kV(n,e){const t=ac(e,this.size,3);n.uniform3fv(this.addr,t)}function UV(n,e){const t=ac(e,this.size,4);n.uniform4fv(this.addr,t)}function FV(n,e){const t=ac(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function BV(n,e){const t=ac(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function zV(n,e){const t=ac(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function HV(n,e){n.uniform1iv(this.addr,e)}function VV(n,e){n.uniform2iv(this.addr,e)}function GV(n,e){n.uniform3iv(this.addr,e)}function jV(n,e){n.uniform4iv(this.addr,e)}function WV(n,e){n.uniform1uiv(this.addr,e)}function YV(n,e){n.uniform2uiv(this.addr,e)}function qV(n,e){n.uniform3uiv(this.addr,e)}function $V(n,e){n.uniform4uiv(this.addr,e)}function XV(n,e,t){const i=this.cache,r=e.length,s=ig(t,r);Kn(i,s)||(n.uniform1iv(this.addr,s),Zn(i,s));for(let l=0;l!==r;++l)t.setTexture2D(e[l]||e2,s[l])}function KV(n,e,t){const i=this.cache,r=e.length,s=ig(t,r);Kn(i,s)||(n.uniform1iv(this.addr,s),Zn(i,s));for(let l=0;l!==r;++l)t.setTexture3D(e[l]||n2,s[l])}function ZV(n,e,t){const i=this.cache,r=e.length,s=ig(t,r);Kn(i,s)||(n.uniform1iv(this.addr,s),Zn(i,s));for(let l=0;l!==r;++l)t.setTextureCube(e[l]||i2,s[l])}function QV(n,e,t){const i=this.cache,r=e.length,s=ig(t,r);Kn(i,s)||(n.uniform1iv(this.addr,s),Zn(i,s));for(let l=0;l!==r;++l)t.setTexture2DArray(e[l]||t2,s[l])}function JV(n){switch(n){case 5126:return IV;case 35664:return NV;case 35665:return kV;case 35666:return UV;case 35674:return FV;case 35675:return BV;case 35676:return zV;case 5124:case 35670:return HV;case 35667:case 35671:return VV;case 35668:case 35672:return GV;case 35669:case 35673:return jV;case 5125:return WV;case 36294:return YV;case 36295:return qV;case 36296:return $V;case 35678:case 36198:case 36298:case 36306:case 35682:return XV;case 35679:case 36299:case 36307:return KV;case 35680:case 36300:case 36308:case 36293:return ZV;case 36289:case 36303:case 36311:case 36292:return QV}}class e9{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=PV(t.type)}}class t9{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=JV(t.type)}}class n9{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,l=r.length;s!==l;++s){const u=r[s];u.setValue(e,t[u.id],i)}}}const E0=/(\w+)(\])?(\[|\.)?/g;function rT(n,e){n.seq.push(e),n.map[e.id]=e}function i9(n,e,t){const i=n.name,r=i.length;for(E0.lastIndex=0;;){const s=E0.exec(i),l=E0.lastIndex;let u=s[1];const d=s[2]==="]",f=s[3];if(d&&(u=u|0),f===void 0||f==="["&&l+2===r){rT(t,f===void 0?new e9(u,n,e):new t9(u,n,e));break}else{let m=t.map[u];m===void 0&&(m=new n9(u),rT(t,m)),t=m}}}class Cp{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),l=e.getUniformLocation(t,s.name);i9(s,l,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,l=t.length;s!==l;++s){const u=t[s],d=i[u.id];d.needsUpdate!==!1&&u.setValue(e,d.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const l=e[r];l.id in t&&i.push(l)}return i}}function aT(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const r9=37297;let a9=0;function s9(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let l=r;l<s;l++){const u=l+1;i.push(`${u===e?">":" "} ${u}: ${t[l]}`)}return i.join(`
`)}const sT=new Ct;function o9(n){Zt._getMatrix(sT,Zt.workingColorSpace,n);const e=`mat3( ${sT.elements.map(t=>t.toFixed(4))} )`;switch(Zt.getTransfer(n)){case fm:return[e,"LinearTransferOETF"];case pn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function oT(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const l=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+s9(n.getShaderSource(e),l)}else return r}function l9(n,e){const t=o9(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function u9(n,e){let t;switch(e){case d5:t="Linear";break;case f5:t="Reinhard";break;case h5:t="Cineon";break;case p5:t="ACESFilmic";break;case g5:t="AgX";break;case v5:t="Neutral";break;case m5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const $h=new ve;function c9(){Zt.getLuminanceCoefficients($h);const n=$h.x.toFixed(4),e=$h.y.toFixed(4),t=$h.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function d9(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Md).join(`
`)}function f9(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function h9(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),l=s.name;let u=1;s.type===n.FLOAT_MAT2&&(u=2),s.type===n.FLOAT_MAT3&&(u=3),s.type===n.FLOAT_MAT4&&(u=4),t[l]={type:s.type,location:n.getAttribLocation(e,l),locationSize:u}}return t}function Md(n){return n!==""}function lT(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function uT(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const p9=/^[ \t]*#include +<([\w\d./]+)>/gm;function tb(n){return n.replace(p9,g9)}const m9=new Map;function g9(n,e){let t=Rt[e];if(t===void 0){const i=m9.get(e);if(i!==void 0)t=Rt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return tb(t)}const v9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cT(n){return n.replace(v9,y9)}function y9(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function dT(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function _9(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===TL?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===j6?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===za&&(e="SHADOWMAP_TYPE_VSM"),e}function b9(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Nu:case ku:e="ENVMAP_TYPE_CUBE";break;case tg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function x9(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ku:e="ENVMAP_MODE_REFRACTION";break}return e}function S9(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case sx:e="ENVMAP_BLENDING_MULTIPLY";break;case u5:e="ENVMAP_BLENDING_MIX";break;case c5:e="ENVMAP_BLENDING_ADD";break}return e}function E9(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function w9(n,e,t,i){const r=n.getContext(),s=t.defines;let l=t.vertexShader,u=t.fragmentShader;const d=_9(t),f=b9(t),p=x9(t),m=S9(t),g=E9(t),v=d9(t),_=f9(s),w=r.createProgram();let x,b,M=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Md).join(`
`),x.length>0&&(x+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Md).join(`
`),b.length>0&&(b+=`
`)):(x=[dT(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Md).join(`
`),b=[dT(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Js?"#define TONE_MAPPING":"",t.toneMapping!==Js?Rt.tonemapping_pars_fragment:"",t.toneMapping!==Js?u9("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Rt.colorspace_pars_fragment,l9("linearToOutputTexel",t.outputColorSpace),c9(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Md).join(`
`)),l=tb(l),l=lT(l,t),l=uT(l,t),u=tb(u),u=lT(u,t),u=uT(u,t),l=cT(l),u=cT(u),t.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,x=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,b=["#define varying in",t.glslVersion===E1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===E1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const C=M+x+l,T=M+b+u,O=aT(r,r.VERTEX_SHADER,C),L=aT(r,r.FRAGMENT_SHADER,T);r.attachShader(w,O),r.attachShader(w,L),t.index0AttributeName!==void 0?r.bindAttribLocation(w,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function D(N){if(n.debug.checkShaderErrors){const X=r.getProgramInfoLog(w).trim(),$=r.getShaderInfoLog(O).trim(),Z=r.getShaderInfoLog(L).trim();let K=!0,H=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(K=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,w,O,L);else{const Y=oT(r,O,"vertex"),G=oT(r,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+X+`
`+Y+`
`+G)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):($===""||Z==="")&&(H=!1);H&&(N.diagnostics={runnable:K,programLog:X,vertexShader:{log:$,prefix:x},fragmentShader:{log:Z,prefix:b}})}r.deleteShader(O),r.deleteShader(L),I=new Cp(r,w),A=h9(r,w)}let I;this.getUniforms=function(){return I===void 0&&D(this),I};let A;this.getAttributes=function(){return A===void 0&&D(this),A};let R=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=r.getProgramParameter(w,r9)),R},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=a9++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=O,this.fragmentShader=L,this}let M9=0;class T9{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(r)===!1&&(l.add(r),r.usedTimes++),l.has(s)===!1&&(l.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new C9(e),t.set(e,i)),i}}class C9{constructor(e){this.id=M9++,this.code=e,this.usedTimes=0}}function A9(n,e,t,i,r,s,l){const u=new GL,d=new T9,f=new Set,p=[],m=r.logarithmicDepthBuffer,g=r.vertexTextures;let v=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(A){return f.add(A),A===0?"uv":`uv${A}`}function x(A,R,N,X,$){const Z=X.fog,K=$.geometry,H=A.isMeshStandardMaterial?X.environment:null,Y=(A.isMeshStandardMaterial?t:e).get(A.envMap||H),G=Y&&Y.mapping===tg?Y.image.height:null,te=_[A.type];A.precision!==null&&(v=r.getMaxPrecision(A.precision),v!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",v,"instead."));const F=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,ee=F!==void 0?F.length:0;let J=0;K.morphAttributes.position!==void 0&&(J=1),K.morphAttributes.normal!==void 0&&(J=2),K.morphAttributes.color!==void 0&&(J=3);let ie,V,W,ue;if(te){const bt=$r[te];ie=bt.vertexShader,V=bt.fragmentShader}else ie=A.vertexShader,V=A.fragmentShader,d.update(A),W=d.getVertexShaderID(A),ue=d.getFragmentShaderID(A);const le=n.getRenderTarget(),he=n.state.buffers.depth.getReversed(),Ae=$.isInstancedMesh===!0,ge=$.isBatchedMesh===!0,Ne=!!A.map,nt=!!A.matcap,$e=!!Y,Q=!!A.aoMap,Je=!!A.lightMap,mt=!!A.bumpMap,pt=!!A.normalMap,Ze=!!A.displacementMap,Lt=!!A.emissiveMap,Qe=!!A.metalnessMap,j=!!A.roughnessMap,U=A.anisotropy>0,fe=A.clearcoat>0,we=A.dispersion>0,Re=A.iridescence>0,xe=A.sheen>0,Ye=A.transmission>0,ke=U&&!!A.anisotropyMap,He=fe&&!!A.clearcoatMap,wt=fe&&!!A.clearcoatNormalMap,Oe=fe&&!!A.clearcoatRoughnessMap,qe=Re&&!!A.iridescenceMap,et=Re&&!!A.iridescenceThicknessMap,Xe=xe&&!!A.sheenColorMap,Ve=xe&&!!A.sheenRoughnessMap,ft=!!A.specularMap,it=!!A.specularColorMap,jt=!!A.specularIntensityMap,re=Ye&&!!A.transmissionMap,Ue=Ye&&!!A.thicknessMap,be=!!A.gradientMap,Te=!!A.alphaMap,Ie=A.alphaTest>0,Fe=!!A.alphaHash,Le=!!A.extensions;let st=Js;A.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(st=n.toneMapping);const yt={shaderID:te,shaderType:A.type,shaderName:A.name,vertexShader:ie,fragmentShader:V,defines:A.defines,customVertexShaderID:W,customFragmentShaderID:ue,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:v,batching:ge,batchingColor:ge&&$._colorsTexture!==null,instancing:Ae,instancingColor:Ae&&$.instanceColor!==null,instancingMorph:Ae&&$.morphTexture!==null,supportsVertexTextures:g,outputColorSpace:le===null?n.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:Bu,alphaToCoverage:!!A.alphaToCoverage,map:Ne,matcap:nt,envMap:$e,envMapMode:$e&&Y.mapping,envMapCubeUVHeight:G,aoMap:Q,lightMap:Je,bumpMap:mt,normalMap:pt,displacementMap:g&&Ze,emissiveMap:Lt,normalMapObjectSpace:pt&&A.normalMapType===x5,normalMapTangentSpace:pt&&A.normalMapType===FL,metalnessMap:Qe,roughnessMap:j,anisotropy:U,anisotropyMap:ke,clearcoat:fe,clearcoatMap:He,clearcoatNormalMap:wt,clearcoatRoughnessMap:Oe,dispersion:we,iridescence:Re,iridescenceMap:qe,iridescenceThicknessMap:et,sheen:xe,sheenColorMap:Xe,sheenRoughnessMap:Ve,specularMap:ft,specularColorMap:it,specularIntensityMap:jt,transmission:Ye,transmissionMap:re,thicknessMap:Ue,gradientMap:be,opaque:A.transparent===!1&&A.blending===Cu&&A.alphaToCoverage===!1,alphaMap:Te,alphaTest:Ie,alphaHash:Fe,combine:A.combine,mapUv:Ne&&w(A.map.channel),aoMapUv:Q&&w(A.aoMap.channel),lightMapUv:Je&&w(A.lightMap.channel),bumpMapUv:mt&&w(A.bumpMap.channel),normalMapUv:pt&&w(A.normalMap.channel),displacementMapUv:Ze&&w(A.displacementMap.channel),emissiveMapUv:Lt&&w(A.emissiveMap.channel),metalnessMapUv:Qe&&w(A.metalnessMap.channel),roughnessMapUv:j&&w(A.roughnessMap.channel),anisotropyMapUv:ke&&w(A.anisotropyMap.channel),clearcoatMapUv:He&&w(A.clearcoatMap.channel),clearcoatNormalMapUv:wt&&w(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Oe&&w(A.clearcoatRoughnessMap.channel),iridescenceMapUv:qe&&w(A.iridescenceMap.channel),iridescenceThicknessMapUv:et&&w(A.iridescenceThicknessMap.channel),sheenColorMapUv:Xe&&w(A.sheenColorMap.channel),sheenRoughnessMapUv:Ve&&w(A.sheenRoughnessMap.channel),specularMapUv:ft&&w(A.specularMap.channel),specularColorMapUv:it&&w(A.specularColorMap.channel),specularIntensityMapUv:jt&&w(A.specularIntensityMap.channel),transmissionMapUv:re&&w(A.transmissionMap.channel),thicknessMapUv:Ue&&w(A.thicknessMap.channel),alphaMapUv:Te&&w(A.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(pt||U),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,pointsUvs:$.isPoints===!0&&!!K.attributes.uv&&(Ne||Te),fog:!!Z,useFog:A.fog===!0,fogExp2:!!Z&&Z.isFogExp2,flatShading:A.flatShading===!0,sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:m,reverseDepthBuffer:he,skinning:$.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:J,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:A.dithering,shadowMapEnabled:n.shadowMap.enabled&&N.length>0,shadowMapType:n.shadowMap.type,toneMapping:st,decodeVideoTexture:Ne&&A.map.isVideoTexture===!0&&Zt.getTransfer(A.map.colorSpace)===pn,decodeVideoTextureEmissive:Lt&&A.emissiveMap.isVideoTexture===!0&&Zt.getTransfer(A.emissiveMap.colorSpace)===pn,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===Ga,flipSided:A.side===Bi,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionClipCullDistance:Le&&A.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Le&&A.extensions.multiDraw===!0||ge)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:A.customProgramCacheKey()};return yt.vertexUv1s=f.has(1),yt.vertexUv2s=f.has(2),yt.vertexUv3s=f.has(3),f.clear(),yt}function b(A){const R=[];if(A.shaderID?R.push(A.shaderID):(R.push(A.customVertexShaderID),R.push(A.customFragmentShaderID)),A.defines!==void 0)for(const N in A.defines)R.push(N),R.push(A.defines[N]);return A.isRawShaderMaterial===!1&&(M(R,A),C(R,A),R.push(n.outputColorSpace)),R.push(A.customProgramCacheKey),R.join()}function M(A,R){A.push(R.precision),A.push(R.outputColorSpace),A.push(R.envMapMode),A.push(R.envMapCubeUVHeight),A.push(R.mapUv),A.push(R.alphaMapUv),A.push(R.lightMapUv),A.push(R.aoMapUv),A.push(R.bumpMapUv),A.push(R.normalMapUv),A.push(R.displacementMapUv),A.push(R.emissiveMapUv),A.push(R.metalnessMapUv),A.push(R.roughnessMapUv),A.push(R.anisotropyMapUv),A.push(R.clearcoatMapUv),A.push(R.clearcoatNormalMapUv),A.push(R.clearcoatRoughnessMapUv),A.push(R.iridescenceMapUv),A.push(R.iridescenceThicknessMapUv),A.push(R.sheenColorMapUv),A.push(R.sheenRoughnessMapUv),A.push(R.specularMapUv),A.push(R.specularColorMapUv),A.push(R.specularIntensityMapUv),A.push(R.transmissionMapUv),A.push(R.thicknessMapUv),A.push(R.combine),A.push(R.fogExp2),A.push(R.sizeAttenuation),A.push(R.morphTargetsCount),A.push(R.morphAttributeCount),A.push(R.numDirLights),A.push(R.numPointLights),A.push(R.numSpotLights),A.push(R.numSpotLightMaps),A.push(R.numHemiLights),A.push(R.numRectAreaLights),A.push(R.numDirLightShadows),A.push(R.numPointLightShadows),A.push(R.numSpotLightShadows),A.push(R.numSpotLightShadowsWithMaps),A.push(R.numLightProbes),A.push(R.shadowMapType),A.push(R.toneMapping),A.push(R.numClippingPlanes),A.push(R.numClipIntersection),A.push(R.depthPacking)}function C(A,R){u.disableAll(),R.supportsVertexTextures&&u.enable(0),R.instancing&&u.enable(1),R.instancingColor&&u.enable(2),R.instancingMorph&&u.enable(3),R.matcap&&u.enable(4),R.envMap&&u.enable(5),R.normalMapObjectSpace&&u.enable(6),R.normalMapTangentSpace&&u.enable(7),R.clearcoat&&u.enable(8),R.iridescence&&u.enable(9),R.alphaTest&&u.enable(10),R.vertexColors&&u.enable(11),R.vertexAlphas&&u.enable(12),R.vertexUv1s&&u.enable(13),R.vertexUv2s&&u.enable(14),R.vertexUv3s&&u.enable(15),R.vertexTangents&&u.enable(16),R.anisotropy&&u.enable(17),R.alphaHash&&u.enable(18),R.batching&&u.enable(19),R.dispersion&&u.enable(20),R.batchingColor&&u.enable(21),A.push(u.mask),u.disableAll(),R.fog&&u.enable(0),R.useFog&&u.enable(1),R.flatShading&&u.enable(2),R.logarithmicDepthBuffer&&u.enable(3),R.reverseDepthBuffer&&u.enable(4),R.skinning&&u.enable(5),R.morphTargets&&u.enable(6),R.morphNormals&&u.enable(7),R.morphColors&&u.enable(8),R.premultipliedAlpha&&u.enable(9),R.shadowMapEnabled&&u.enable(10),R.doubleSided&&u.enable(11),R.flipSided&&u.enable(12),R.useDepthPacking&&u.enable(13),R.dithering&&u.enable(14),R.transmission&&u.enable(15),R.sheen&&u.enable(16),R.opaque&&u.enable(17),R.pointsUvs&&u.enable(18),R.decodeVideoTexture&&u.enable(19),R.decodeVideoTextureEmissive&&u.enable(20),R.alphaToCoverage&&u.enable(21),A.push(u.mask)}function T(A){const R=_[A.type];let N;if(R){const X=$r[R];N=J5.clone(X.uniforms)}else N=A.uniforms;return N}function O(A,R){let N;for(let X=0,$=p.length;X<$;X++){const Z=p[X];if(Z.cacheKey===R){N=Z,++N.usedTimes;break}}return N===void 0&&(N=new w9(n,R,A,s),p.push(N)),N}function L(A){if(--A.usedTimes===0){const R=p.indexOf(A);p[R]=p[p.length-1],p.pop(),A.destroy()}}function D(A){d.remove(A)}function I(){d.dispose()}return{getParameters:x,getProgramCacheKey:b,getUniforms:T,acquireProgram:O,releaseProgram:L,releaseShaderCache:D,programs:p,dispose:I}}function R9(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let u=n.get(l);return u===void 0&&(u={},n.set(l,u)),u}function i(l){n.delete(l)}function r(l,u,d){n.get(l)[u]=d}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function D9(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function fT(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function hT(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function l(m,g,v,_,w,x){let b=n[e];return b===void 0?(b={id:m.id,object:m,geometry:g,material:v,groupOrder:_,renderOrder:m.renderOrder,z:w,group:x},n[e]=b):(b.id=m.id,b.object=m,b.geometry=g,b.material=v,b.groupOrder=_,b.renderOrder=m.renderOrder,b.z=w,b.group=x),e++,b}function u(m,g,v,_,w,x){const b=l(m,g,v,_,w,x);v.transmission>0?i.push(b):v.transparent===!0?r.push(b):t.push(b)}function d(m,g,v,_,w,x){const b=l(m,g,v,_,w,x);v.transmission>0?i.unshift(b):v.transparent===!0?r.unshift(b):t.unshift(b)}function f(m,g){t.length>1&&t.sort(m||D9),i.length>1&&i.sort(g||fT),r.length>1&&r.sort(g||fT)}function p(){for(let m=e,g=n.length;m<g;m++){const v=n[m];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:u,unshift:d,finish:p,sort:f}}function L9(){let n=new WeakMap;function e(i,r){const s=n.get(i);let l;return s===void 0?(l=new hT,n.set(i,[l])):r>=s.length?(l=new hT,s.push(l)):l=s[r],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function O9(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ve,color:new Qt};break;case"SpotLight":t={position:new ve,direction:new ve,color:new Qt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ve,color:new Qt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ve,skyColor:new Qt,groundColor:new Qt};break;case"RectAreaLight":t={color:new Qt,position:new ve,halfWidth:new ve,halfHeight:new ve};break}return n[e.id]=t,t}}}function P9(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new en};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new en};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new en,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let I9=0;function N9(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function k9(n){const e=new O9,t=P9(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new ve);const r=new ve,s=new An,l=new An;function u(f){let p=0,m=0,g=0;for(let A=0;A<9;A++)i.probe[A].set(0,0,0);let v=0,_=0,w=0,x=0,b=0,M=0,C=0,T=0,O=0,L=0,D=0;f.sort(N9);for(let A=0,R=f.length;A<R;A++){const N=f[A],X=N.color,$=N.intensity,Z=N.distance,K=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)p+=X.r*$,m+=X.g*$,g+=X.b*$;else if(N.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(N.sh.coefficients[H],$);D++}else if(N.isDirectionalLight){const H=e.get(N);if(H.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){const Y=N.shadow,G=t.get(N);G.shadowIntensity=Y.intensity,G.shadowBias=Y.bias,G.shadowNormalBias=Y.normalBias,G.shadowRadius=Y.radius,G.shadowMapSize=Y.mapSize,i.directionalShadow[v]=G,i.directionalShadowMap[v]=K,i.directionalShadowMatrix[v]=N.shadow.matrix,M++}i.directional[v]=H,v++}else if(N.isSpotLight){const H=e.get(N);H.position.setFromMatrixPosition(N.matrixWorld),H.color.copy(X).multiplyScalar($),H.distance=Z,H.coneCos=Math.cos(N.angle),H.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),H.decay=N.decay,i.spot[w]=H;const Y=N.shadow;if(N.map&&(i.spotLightMap[O]=N.map,O++,Y.updateMatrices(N),N.castShadow&&L++),i.spotLightMatrix[w]=Y.matrix,N.castShadow){const G=t.get(N);G.shadowIntensity=Y.intensity,G.shadowBias=Y.bias,G.shadowNormalBias=Y.normalBias,G.shadowRadius=Y.radius,G.shadowMapSize=Y.mapSize,i.spotShadow[w]=G,i.spotShadowMap[w]=K,T++}w++}else if(N.isRectAreaLight){const H=e.get(N);H.color.copy(X).multiplyScalar($),H.halfWidth.set(N.width*.5,0,0),H.halfHeight.set(0,N.height*.5,0),i.rectArea[x]=H,x++}else if(N.isPointLight){const H=e.get(N);if(H.color.copy(N.color).multiplyScalar(N.intensity),H.distance=N.distance,H.decay=N.decay,N.castShadow){const Y=N.shadow,G=t.get(N);G.shadowIntensity=Y.intensity,G.shadowBias=Y.bias,G.shadowNormalBias=Y.normalBias,G.shadowRadius=Y.radius,G.shadowMapSize=Y.mapSize,G.shadowCameraNear=Y.camera.near,G.shadowCameraFar=Y.camera.far,i.pointShadow[_]=G,i.pointShadowMap[_]=K,i.pointShadowMatrix[_]=N.shadow.matrix,C++}i.point[_]=H,_++}else if(N.isHemisphereLight){const H=e.get(N);H.skyColor.copy(N.color).multiplyScalar($),H.groundColor.copy(N.groundColor).multiplyScalar($),i.hemi[b]=H,b++}}x>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ze.LTC_FLOAT_1,i.rectAreaLTC2=ze.LTC_FLOAT_2):(i.rectAreaLTC1=ze.LTC_HALF_1,i.rectAreaLTC2=ze.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const I=i.hash;(I.directionalLength!==v||I.pointLength!==_||I.spotLength!==w||I.rectAreaLength!==x||I.hemiLength!==b||I.numDirectionalShadows!==M||I.numPointShadows!==C||I.numSpotShadows!==T||I.numSpotMaps!==O||I.numLightProbes!==D)&&(i.directional.length=v,i.spot.length=w,i.rectArea.length=x,i.point.length=_,i.hemi.length=b,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=T+O-L,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=L,i.numLightProbes=D,I.directionalLength=v,I.pointLength=_,I.spotLength=w,I.rectAreaLength=x,I.hemiLength=b,I.numDirectionalShadows=M,I.numPointShadows=C,I.numSpotShadows=T,I.numSpotMaps=O,I.numLightProbes=D,i.version=I9++)}function d(f,p){let m=0,g=0,v=0,_=0,w=0;const x=p.matrixWorldInverse;for(let b=0,M=f.length;b<M;b++){const C=f[b];if(C.isDirectionalLight){const T=i.directional[m];T.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(x),m++}else if(C.isSpotLight){const T=i.spot[v];T.position.setFromMatrixPosition(C.matrixWorld),T.position.applyMatrix4(x),T.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(x),v++}else if(C.isRectAreaLight){const T=i.rectArea[_];T.position.setFromMatrixPosition(C.matrixWorld),T.position.applyMatrix4(x),l.identity(),s.copy(C.matrixWorld),s.premultiply(x),l.extractRotation(s),T.halfWidth.set(C.width*.5,0,0),T.halfHeight.set(0,C.height*.5,0),T.halfWidth.applyMatrix4(l),T.halfHeight.applyMatrix4(l),_++}else if(C.isPointLight){const T=i.point[g];T.position.setFromMatrixPosition(C.matrixWorld),T.position.applyMatrix4(x),g++}else if(C.isHemisphereLight){const T=i.hemi[w];T.direction.setFromMatrixPosition(C.matrixWorld),T.direction.transformDirection(x),w++}}}return{setup:u,setupView:d,state:i}}function pT(n){const e=new k9(n),t=[],i=[];function r(p){f.camera=p,t.length=0,i.length=0}function s(p){t.push(p)}function l(p){i.push(p)}function u(){e.setup(t)}function d(p){e.setupView(t,p)}const f={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:u,setupLightsView:d,pushLight:s,pushShadow:l}}function U9(n){let e=new WeakMap;function t(r,s=0){const l=e.get(r);let u;return l===void 0?(u=new pT(n),e.set(r,[u])):s>=l.length?(u=new pT(n),l.push(u)):u=l[s],u}function i(){e=new WeakMap}return{get:t,dispose:i}}const F9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,B9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function z9(n,e,t){let i=new px;const r=new en,s=new en,l=new mn,u=new uH({depthPacking:b5}),d=new cH,f={},p=t.maxTextureSize,m={[ro]:Bi,[Bi]:ro,[Ga]:Ga},g=new ao({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new en},radius:{value:4}},vertexShader:F9,fragmentShader:B9}),v=g.clone();v.defines.HORIZONTAL_PASS=1;const _=new ho;_.setAttribute("position",new oa(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new ia(_,g),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=TL;let b=this.type;this.render=function(L,D,I){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||L.length===0)return;const A=n.getRenderTarget(),R=n.getActiveCubeFace(),N=n.getActiveMipmapLevel(),X=n.state;X.setBlending(Qs),X.buffers.color.setClear(1,1,1,1),X.buffers.depth.setTest(!0),X.setScissorTest(!1);const $=b!==za&&this.type===za,Z=b===za&&this.type!==za;for(let K=0,H=L.length;K<H;K++){const Y=L[K],G=Y.shadow;if(G===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;r.copy(G.mapSize);const te=G.getFrameExtents();if(r.multiply(te),s.copy(G.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(s.x=Math.floor(p/te.x),r.x=s.x*te.x,G.mapSize.x=s.x),r.y>p&&(s.y=Math.floor(p/te.y),r.y=s.y*te.y,G.mapSize.y=s.y)),G.map===null||$===!0||Z===!0){const ee=this.type!==za?{minFilter:Ur,magFilter:Ur}:{};G.map!==null&&G.map.dispose(),G.map=new ml(r.x,r.y,ee),G.map.texture.name=Y.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const F=G.getViewportCount();for(let ee=0;ee<F;ee++){const J=G.getViewport(ee);l.set(s.x*J.x,s.y*J.y,s.x*J.z,s.y*J.w),X.viewport(l),G.updateMatrices(Y,ee),i=G.getFrustum(),T(D,I,G.camera,Y,this.type)}G.isPointLightShadow!==!0&&this.type===za&&M(G,I),G.needsUpdate=!1}b=this.type,x.needsUpdate=!1,n.setRenderTarget(A,R,N)};function M(L,D){const I=e.update(w);g.defines.VSM_SAMPLES!==L.blurSamples&&(g.defines.VSM_SAMPLES=L.blurSamples,v.defines.VSM_SAMPLES=L.blurSamples,g.needsUpdate=!0,v.needsUpdate=!0),L.mapPass===null&&(L.mapPass=new ml(r.x,r.y)),g.uniforms.shadow_pass.value=L.map.texture,g.uniforms.resolution.value=L.mapSize,g.uniforms.radius.value=L.radius,n.setRenderTarget(L.mapPass),n.clear(),n.renderBufferDirect(D,null,I,g,w,null),v.uniforms.shadow_pass.value=L.mapPass.texture,v.uniforms.resolution.value=L.mapSize,v.uniforms.radius.value=L.radius,n.setRenderTarget(L.map),n.clear(),n.renderBufferDirect(D,null,I,v,w,null)}function C(L,D,I,A){let R=null;const N=I.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(N!==void 0)R=N;else if(R=I.isPointLight===!0?d:u,n.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0){const X=R.uuid,$=D.uuid;let Z=f[X];Z===void 0&&(Z={},f[X]=Z);let K=Z[$];K===void 0&&(K=R.clone(),Z[$]=K,D.addEventListener("dispose",O)),R=K}if(R.visible=D.visible,R.wireframe=D.wireframe,A===za?R.side=D.shadowSide!==null?D.shadowSide:D.side:R.side=D.shadowSide!==null?D.shadowSide:m[D.side],R.alphaMap=D.alphaMap,R.alphaTest=D.alphaTest,R.map=D.map,R.clipShadows=D.clipShadows,R.clippingPlanes=D.clippingPlanes,R.clipIntersection=D.clipIntersection,R.displacementMap=D.displacementMap,R.displacementScale=D.displacementScale,R.displacementBias=D.displacementBias,R.wireframeLinewidth=D.wireframeLinewidth,R.linewidth=D.linewidth,I.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const X=n.properties.get(R);X.light=I}return R}function T(L,D,I,A,R){if(L.visible===!1)return;if(L.layers.test(D.layers)&&(L.isMesh||L.isLine||L.isPoints)&&(L.castShadow||L.receiveShadow&&R===za)&&(!L.frustumCulled||i.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,L.matrixWorld);const $=e.update(L),Z=L.material;if(Array.isArray(Z)){const K=$.groups;for(let H=0,Y=K.length;H<Y;H++){const G=K[H],te=Z[G.materialIndex];if(te&&te.visible){const F=C(L,te,A,R);L.onBeforeShadow(n,L,D,I,$,F,G),n.renderBufferDirect(I,null,$,F,L,G),L.onAfterShadow(n,L,D,I,$,F,G)}}}else if(Z.visible){const K=C(L,Z,A,R);L.onBeforeShadow(n,L,D,I,$,K,null),n.renderBufferDirect(I,null,$,K,L,null),L.onAfterShadow(n,L,D,I,$,K,null)}}const X=L.children;for(let $=0,Z=X.length;$<Z;$++)T(X[$],D,I,A,R)}function O(L){L.target.removeEventListener("dispose",O);for(const I in f){const A=f[I],R=L.target.uuid;R in A&&(A[R].dispose(),delete A[R])}}}const H9={[v_]:y_,[__]:S_,[b_]:E_,[Iu]:x_,[y_]:v_,[S_]:__,[E_]:b_,[x_]:Iu};function V9(n,e){function t(){let re=!1;const Ue=new mn;let be=null;const Te=new mn(0,0,0,0);return{setMask:function(Ie){be!==Ie&&!re&&(n.colorMask(Ie,Ie,Ie,Ie),be=Ie)},setLocked:function(Ie){re=Ie},setClear:function(Ie,Fe,Le,st,yt){yt===!0&&(Ie*=st,Fe*=st,Le*=st),Ue.set(Ie,Fe,Le,st),Te.equals(Ue)===!1&&(n.clearColor(Ie,Fe,Le,st),Te.copy(Ue))},reset:function(){re=!1,be=null,Te.set(-1,0,0,0)}}}function i(){let re=!1,Ue=!1,be=null,Te=null,Ie=null;return{setReversed:function(Fe){if(Ue!==Fe){const Le=e.get("EXT_clip_control");Ue?Le.clipControlEXT(Le.LOWER_LEFT_EXT,Le.ZERO_TO_ONE_EXT):Le.clipControlEXT(Le.LOWER_LEFT_EXT,Le.NEGATIVE_ONE_TO_ONE_EXT);const st=Ie;Ie=null,this.setClear(st)}Ue=Fe},getReversed:function(){return Ue},setTest:function(Fe){Fe?le(n.DEPTH_TEST):he(n.DEPTH_TEST)},setMask:function(Fe){be!==Fe&&!re&&(n.depthMask(Fe),be=Fe)},setFunc:function(Fe){if(Ue&&(Fe=H9[Fe]),Te!==Fe){switch(Fe){case v_:n.depthFunc(n.NEVER);break;case y_:n.depthFunc(n.ALWAYS);break;case __:n.depthFunc(n.LESS);break;case Iu:n.depthFunc(n.LEQUAL);break;case b_:n.depthFunc(n.EQUAL);break;case x_:n.depthFunc(n.GEQUAL);break;case S_:n.depthFunc(n.GREATER);break;case E_:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Te=Fe}},setLocked:function(Fe){re=Fe},setClear:function(Fe){Ie!==Fe&&(Ue&&(Fe=1-Fe),n.clearDepth(Fe),Ie=Fe)},reset:function(){re=!1,be=null,Te=null,Ie=null,Ue=!1}}}function r(){let re=!1,Ue=null,be=null,Te=null,Ie=null,Fe=null,Le=null,st=null,yt=null;return{setTest:function(bt){re||(bt?le(n.STENCIL_TEST):he(n.STENCIL_TEST))},setMask:function(bt){Ue!==bt&&!re&&(n.stencilMask(bt),Ue=bt)},setFunc:function(bt,ln,nn){(be!==bt||Te!==ln||Ie!==nn)&&(n.stencilFunc(bt,ln,nn),be=bt,Te=ln,Ie=nn)},setOp:function(bt,ln,nn){(Fe!==bt||Le!==ln||st!==nn)&&(n.stencilOp(bt,ln,nn),Fe=bt,Le=ln,st=nn)},setLocked:function(bt){re=bt},setClear:function(bt){yt!==bt&&(n.clearStencil(bt),yt=bt)},reset:function(){re=!1,Ue=null,be=null,Te=null,Ie=null,Fe=null,Le=null,st=null,yt=null}}}const s=new t,l=new i,u=new r,d=new WeakMap,f=new WeakMap;let p={},m={},g=new WeakMap,v=[],_=null,w=!1,x=null,b=null,M=null,C=null,T=null,O=null,L=null,D=new Qt(0,0,0),I=0,A=!1,R=null,N=null,X=null,$=null,Z=null;const K=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,Y=0;const G=n.getParameter(n.VERSION);G.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(G)[1]),H=Y>=1):G.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),H=Y>=2);let te=null,F={};const ee=n.getParameter(n.SCISSOR_BOX),J=n.getParameter(n.VIEWPORT),ie=new mn().fromArray(ee),V=new mn().fromArray(J);function W(re,Ue,be,Te){const Ie=new Uint8Array(4),Fe=n.createTexture();n.bindTexture(re,Fe),n.texParameteri(re,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(re,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Le=0;Le<be;Le++)re===n.TEXTURE_3D||re===n.TEXTURE_2D_ARRAY?n.texImage3D(Ue,0,n.RGBA,1,1,Te,0,n.RGBA,n.UNSIGNED_BYTE,Ie):n.texImage2D(Ue+Le,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ie);return Fe}const ue={};ue[n.TEXTURE_2D]=W(n.TEXTURE_2D,n.TEXTURE_2D,1),ue[n.TEXTURE_CUBE_MAP]=W(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ue[n.TEXTURE_2D_ARRAY]=W(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ue[n.TEXTURE_3D]=W(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),le(n.DEPTH_TEST),l.setFunc(Iu),mt(!1),pt(v1),le(n.CULL_FACE),Q(Qs);function le(re){p[re]!==!0&&(n.enable(re),p[re]=!0)}function he(re){p[re]!==!1&&(n.disable(re),p[re]=!1)}function Ae(re,Ue){return m[re]!==Ue?(n.bindFramebuffer(re,Ue),m[re]=Ue,re===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Ue),re===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Ue),!0):!1}function ge(re,Ue){let be=v,Te=!1;if(re){be=g.get(Ue),be===void 0&&(be=[],g.set(Ue,be));const Ie=re.textures;if(be.length!==Ie.length||be[0]!==n.COLOR_ATTACHMENT0){for(let Fe=0,Le=Ie.length;Fe<Le;Fe++)be[Fe]=n.COLOR_ATTACHMENT0+Fe;be.length=Ie.length,Te=!0}}else be[0]!==n.BACK&&(be[0]=n.BACK,Te=!0);Te&&n.drawBuffers(be)}function Ne(re){return _!==re?(n.useProgram(re),_=re,!0):!1}const nt={[Wo]:n.FUNC_ADD,[Y6]:n.FUNC_SUBTRACT,[q6]:n.FUNC_REVERSE_SUBTRACT};nt[$6]=n.MIN,nt[X6]=n.MAX;const $e={[K6]:n.ZERO,[Z6]:n.ONE,[Q6]:n.SRC_COLOR,[m_]:n.SRC_ALPHA,[r5]:n.SRC_ALPHA_SATURATE,[n5]:n.DST_COLOR,[e5]:n.DST_ALPHA,[J6]:n.ONE_MINUS_SRC_COLOR,[g_]:n.ONE_MINUS_SRC_ALPHA,[i5]:n.ONE_MINUS_DST_COLOR,[t5]:n.ONE_MINUS_DST_ALPHA,[a5]:n.CONSTANT_COLOR,[s5]:n.ONE_MINUS_CONSTANT_COLOR,[o5]:n.CONSTANT_ALPHA,[l5]:n.ONE_MINUS_CONSTANT_ALPHA};function Q(re,Ue,be,Te,Ie,Fe,Le,st,yt,bt){if(re===Qs){w===!0&&(he(n.BLEND),w=!1);return}if(w===!1&&(le(n.BLEND),w=!0),re!==W6){if(re!==x||bt!==A){if((b!==Wo||T!==Wo)&&(n.blendEquation(n.FUNC_ADD),b=Wo,T=Wo),bt)switch(re){case Cu:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case y1:n.blendFunc(n.ONE,n.ONE);break;case _1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case b1:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case Cu:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case y1:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case _1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case b1:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}M=null,C=null,O=null,L=null,D.set(0,0,0),I=0,x=re,A=bt}return}Ie=Ie||Ue,Fe=Fe||be,Le=Le||Te,(Ue!==b||Ie!==T)&&(n.blendEquationSeparate(nt[Ue],nt[Ie]),b=Ue,T=Ie),(be!==M||Te!==C||Fe!==O||Le!==L)&&(n.blendFuncSeparate($e[be],$e[Te],$e[Fe],$e[Le]),M=be,C=Te,O=Fe,L=Le),(st.equals(D)===!1||yt!==I)&&(n.blendColor(st.r,st.g,st.b,yt),D.copy(st),I=yt),x=re,A=!1}function Je(re,Ue){re.side===Ga?he(n.CULL_FACE):le(n.CULL_FACE);let be=re.side===Bi;Ue&&(be=!be),mt(be),re.blending===Cu&&re.transparent===!1?Q(Qs):Q(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.blendColor,re.blendAlpha,re.premultipliedAlpha),l.setFunc(re.depthFunc),l.setTest(re.depthTest),l.setMask(re.depthWrite),s.setMask(re.colorWrite);const Te=re.stencilWrite;u.setTest(Te),Te&&(u.setMask(re.stencilWriteMask),u.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),u.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),Lt(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?le(n.SAMPLE_ALPHA_TO_COVERAGE):he(n.SAMPLE_ALPHA_TO_COVERAGE)}function mt(re){R!==re&&(re?n.frontFace(n.CW):n.frontFace(n.CCW),R=re)}function pt(re){re!==V6?(le(n.CULL_FACE),re!==N&&(re===v1?n.cullFace(n.BACK):re===G6?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):he(n.CULL_FACE),N=re}function Ze(re){re!==X&&(H&&n.lineWidth(re),X=re)}function Lt(re,Ue,be){re?(le(n.POLYGON_OFFSET_FILL),($!==Ue||Z!==be)&&(n.polygonOffset(Ue,be),$=Ue,Z=be)):he(n.POLYGON_OFFSET_FILL)}function Qe(re){re?le(n.SCISSOR_TEST):he(n.SCISSOR_TEST)}function j(re){re===void 0&&(re=n.TEXTURE0+K-1),te!==re&&(n.activeTexture(re),te=re)}function U(re,Ue,be){be===void 0&&(te===null?be=n.TEXTURE0+K-1:be=te);let Te=F[be];Te===void 0&&(Te={type:void 0,texture:void 0},F[be]=Te),(Te.type!==re||Te.texture!==Ue)&&(te!==be&&(n.activeTexture(be),te=be),n.bindTexture(re,Ue||ue[re]),Te.type=re,Te.texture=Ue)}function fe(){const re=F[te];re!==void 0&&re.type!==void 0&&(n.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function we(){try{n.compressedTexImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Re(){try{n.compressedTexImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function xe(){try{n.texSubImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ye(){try{n.texSubImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ke(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function He(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function wt(){try{n.texStorage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Oe(){try{n.texStorage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function qe(){try{n.texImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function et(){try{n.texImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Xe(re){ie.equals(re)===!1&&(n.scissor(re.x,re.y,re.z,re.w),ie.copy(re))}function Ve(re){V.equals(re)===!1&&(n.viewport(re.x,re.y,re.z,re.w),V.copy(re))}function ft(re,Ue){let be=f.get(Ue);be===void 0&&(be=new WeakMap,f.set(Ue,be));let Te=be.get(re);Te===void 0&&(Te=n.getUniformBlockIndex(Ue,re.name),be.set(re,Te))}function it(re,Ue){const Te=f.get(Ue).get(re);d.get(Ue)!==Te&&(n.uniformBlockBinding(Ue,Te,re.__bindingPointIndex),d.set(Ue,Te))}function jt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},te=null,F={},m={},g=new WeakMap,v=[],_=null,w=!1,x=null,b=null,M=null,C=null,T=null,O=null,L=null,D=new Qt(0,0,0),I=0,A=!1,R=null,N=null,X=null,$=null,Z=null,ie.set(0,0,n.canvas.width,n.canvas.height),V.set(0,0,n.canvas.width,n.canvas.height),s.reset(),l.reset(),u.reset()}return{buffers:{color:s,depth:l,stencil:u},enable:le,disable:he,bindFramebuffer:Ae,drawBuffers:ge,useProgram:Ne,setBlending:Q,setMaterial:Je,setFlipSided:mt,setCullFace:pt,setLineWidth:Ze,setPolygonOffset:Lt,setScissorTest:Qe,activeTexture:j,bindTexture:U,unbindTexture:fe,compressedTexImage2D:we,compressedTexImage3D:Re,texImage2D:qe,texImage3D:et,updateUBOMapping:ft,uniformBlockBinding:it,texStorage2D:wt,texStorage3D:Oe,texSubImage2D:xe,texSubImage3D:Ye,compressedTexSubImage2D:ke,compressedTexSubImage3D:He,scissor:Xe,viewport:Ve,reset:jt}}function G9(n,e,t,i,r,s,l){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new en,p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(j,U){return v?new OffscreenCanvas(j,U):pm("canvas")}function w(j,U,fe){let we=1;const Re=Qe(j);if((Re.width>fe||Re.height>fe)&&(we=fe/Math.max(Re.width,Re.height)),we<1)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap||typeof VideoFrame<"u"&&j instanceof VideoFrame){const xe=Math.floor(we*Re.width),Ye=Math.floor(we*Re.height);m===void 0&&(m=_(xe,Ye));const ke=U?_(xe,Ye):m;return ke.width=xe,ke.height=Ye,ke.getContext("2d").drawImage(j,0,0,xe,Ye),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Re.width+"x"+Re.height+") to ("+xe+"x"+Ye+")."),ke}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Re.width+"x"+Re.height+")."),j;return j}function x(j){return j.generateMipmaps}function b(j){n.generateMipmap(j)}function M(j){return j.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:j.isWebGL3DRenderTarget?n.TEXTURE_3D:j.isWebGLArrayRenderTarget||j.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C(j,U,fe,we,Re=!1){if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let xe=U;if(U===n.RED&&(fe===n.FLOAT&&(xe=n.R32F),fe===n.HALF_FLOAT&&(xe=n.R16F),fe===n.UNSIGNED_BYTE&&(xe=n.R8)),U===n.RED_INTEGER&&(fe===n.UNSIGNED_BYTE&&(xe=n.R8UI),fe===n.UNSIGNED_SHORT&&(xe=n.R16UI),fe===n.UNSIGNED_INT&&(xe=n.R32UI),fe===n.BYTE&&(xe=n.R8I),fe===n.SHORT&&(xe=n.R16I),fe===n.INT&&(xe=n.R32I)),U===n.RG&&(fe===n.FLOAT&&(xe=n.RG32F),fe===n.HALF_FLOAT&&(xe=n.RG16F),fe===n.UNSIGNED_BYTE&&(xe=n.RG8)),U===n.RG_INTEGER&&(fe===n.UNSIGNED_BYTE&&(xe=n.RG8UI),fe===n.UNSIGNED_SHORT&&(xe=n.RG16UI),fe===n.UNSIGNED_INT&&(xe=n.RG32UI),fe===n.BYTE&&(xe=n.RG8I),fe===n.SHORT&&(xe=n.RG16I),fe===n.INT&&(xe=n.RG32I)),U===n.RGB_INTEGER&&(fe===n.UNSIGNED_BYTE&&(xe=n.RGB8UI),fe===n.UNSIGNED_SHORT&&(xe=n.RGB16UI),fe===n.UNSIGNED_INT&&(xe=n.RGB32UI),fe===n.BYTE&&(xe=n.RGB8I),fe===n.SHORT&&(xe=n.RGB16I),fe===n.INT&&(xe=n.RGB32I)),U===n.RGBA_INTEGER&&(fe===n.UNSIGNED_BYTE&&(xe=n.RGBA8UI),fe===n.UNSIGNED_SHORT&&(xe=n.RGBA16UI),fe===n.UNSIGNED_INT&&(xe=n.RGBA32UI),fe===n.BYTE&&(xe=n.RGBA8I),fe===n.SHORT&&(xe=n.RGBA16I),fe===n.INT&&(xe=n.RGBA32I)),U===n.RGB&&fe===n.UNSIGNED_INT_5_9_9_9_REV&&(xe=n.RGB9_E5),U===n.RGBA){const Ye=Re?fm:Zt.getTransfer(we);fe===n.FLOAT&&(xe=n.RGBA32F),fe===n.HALF_FLOAT&&(xe=n.RGBA16F),fe===n.UNSIGNED_BYTE&&(xe=Ye===pn?n.SRGB8_ALPHA8:n.RGBA8),fe===n.UNSIGNED_SHORT_4_4_4_4&&(xe=n.RGBA4),fe===n.UNSIGNED_SHORT_5_5_5_1&&(xe=n.RGB5_A1)}return(xe===n.R16F||xe===n.R32F||xe===n.RG16F||xe===n.RG32F||xe===n.RGBA16F||xe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),xe}function T(j,U){let fe;return j?U===null||U===pl||U===Uu?fe=n.DEPTH24_STENCIL8:U===qa?fe=n.DEPTH32F_STENCIL8:U===Hd&&(fe=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):U===null||U===pl||U===Uu?fe=n.DEPTH_COMPONENT24:U===qa?fe=n.DEPTH_COMPONENT32F:U===Hd&&(fe=n.DEPTH_COMPONENT16),fe}function O(j,U){return x(j)===!0||j.isFramebufferTexture&&j.minFilter!==Ur&&j.minFilter!==na?Math.log2(Math.max(U.width,U.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?U.mipmaps.length:1}function L(j){const U=j.target;U.removeEventListener("dispose",L),I(U),U.isVideoTexture&&p.delete(U)}function D(j){const U=j.target;U.removeEventListener("dispose",D),R(U)}function I(j){const U=i.get(j);if(U.__webglInit===void 0)return;const fe=j.source,we=g.get(fe);if(we){const Re=we[U.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&A(j),Object.keys(we).length===0&&g.delete(fe)}i.remove(j)}function A(j){const U=i.get(j);n.deleteTexture(U.__webglTexture);const fe=j.source,we=g.get(fe);delete we[U.__cacheKey],l.memory.textures--}function R(j){const U=i.get(j);if(j.depthTexture&&(j.depthTexture.dispose(),i.remove(j.depthTexture)),j.isWebGLCubeRenderTarget)for(let we=0;we<6;we++){if(Array.isArray(U.__webglFramebuffer[we]))for(let Re=0;Re<U.__webglFramebuffer[we].length;Re++)n.deleteFramebuffer(U.__webglFramebuffer[we][Re]);else n.deleteFramebuffer(U.__webglFramebuffer[we]);U.__webglDepthbuffer&&n.deleteRenderbuffer(U.__webglDepthbuffer[we])}else{if(Array.isArray(U.__webglFramebuffer))for(let we=0;we<U.__webglFramebuffer.length;we++)n.deleteFramebuffer(U.__webglFramebuffer[we]);else n.deleteFramebuffer(U.__webglFramebuffer);if(U.__webglDepthbuffer&&n.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&n.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer)for(let we=0;we<U.__webglColorRenderbuffer.length;we++)U.__webglColorRenderbuffer[we]&&n.deleteRenderbuffer(U.__webglColorRenderbuffer[we]);U.__webglDepthRenderbuffer&&n.deleteRenderbuffer(U.__webglDepthRenderbuffer)}const fe=j.textures;for(let we=0,Re=fe.length;we<Re;we++){const xe=i.get(fe[we]);xe.__webglTexture&&(n.deleteTexture(xe.__webglTexture),l.memory.textures--),i.remove(fe[we])}i.remove(j)}let N=0;function X(){N=0}function $(){const j=N;return j>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+r.maxTextures),N+=1,j}function Z(j){const U=[];return U.push(j.wrapS),U.push(j.wrapT),U.push(j.wrapR||0),U.push(j.magFilter),U.push(j.minFilter),U.push(j.anisotropy),U.push(j.internalFormat),U.push(j.format),U.push(j.type),U.push(j.generateMipmaps),U.push(j.premultiplyAlpha),U.push(j.flipY),U.push(j.unpackAlignment),U.push(j.colorSpace),U.join()}function K(j,U){const fe=i.get(j);if(j.isVideoTexture&&Ze(j),j.isRenderTargetTexture===!1&&j.version>0&&fe.__version!==j.version){const we=j.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{V(fe,j,U);return}}t.bindTexture(n.TEXTURE_2D,fe.__webglTexture,n.TEXTURE0+U)}function H(j,U){const fe=i.get(j);if(j.version>0&&fe.__version!==j.version){V(fe,j,U);return}t.bindTexture(n.TEXTURE_2D_ARRAY,fe.__webglTexture,n.TEXTURE0+U)}function Y(j,U){const fe=i.get(j);if(j.version>0&&fe.__version!==j.version){V(fe,j,U);return}t.bindTexture(n.TEXTURE_3D,fe.__webglTexture,n.TEXTURE0+U)}function G(j,U){const fe=i.get(j);if(j.version>0&&fe.__version!==j.version){W(fe,j,U);return}t.bindTexture(n.TEXTURE_CUBE_MAP,fe.__webglTexture,n.TEXTURE0+U)}const te={[T_]:n.REPEAT,[Ko]:n.CLAMP_TO_EDGE,[C_]:n.MIRRORED_REPEAT},F={[Ur]:n.NEAREST,[y5]:n.NEAREST_MIPMAP_NEAREST,[Ch]:n.NEAREST_MIPMAP_LINEAR,[na]:n.LINEAR,[Yy]:n.LINEAR_MIPMAP_NEAREST,[Zo]:n.LINEAR_MIPMAP_LINEAR},ee={[S5]:n.NEVER,[A5]:n.ALWAYS,[E5]:n.LESS,[BL]:n.LEQUAL,[w5]:n.EQUAL,[C5]:n.GEQUAL,[M5]:n.GREATER,[T5]:n.NOTEQUAL};function J(j,U){if(U.type===qa&&e.has("OES_texture_float_linear")===!1&&(U.magFilter===na||U.magFilter===Yy||U.magFilter===Ch||U.magFilter===Zo||U.minFilter===na||U.minFilter===Yy||U.minFilter===Ch||U.minFilter===Zo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(j,n.TEXTURE_WRAP_S,te[U.wrapS]),n.texParameteri(j,n.TEXTURE_WRAP_T,te[U.wrapT]),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,te[U.wrapR]),n.texParameteri(j,n.TEXTURE_MAG_FILTER,F[U.magFilter]),n.texParameteri(j,n.TEXTURE_MIN_FILTER,F[U.minFilter]),U.compareFunction&&(n.texParameteri(j,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(j,n.TEXTURE_COMPARE_FUNC,ee[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(U.magFilter===Ur||U.minFilter!==Ch&&U.minFilter!==Zo||U.type===qa&&e.has("OES_texture_float_linear")===!1)return;if(U.anisotropy>1||i.get(U).__currentAnisotropy){const fe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(j,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,r.getMaxAnisotropy())),i.get(U).__currentAnisotropy=U.anisotropy}}}function ie(j,U){let fe=!1;j.__webglInit===void 0&&(j.__webglInit=!0,U.addEventListener("dispose",L));const we=U.source;let Re=g.get(we);Re===void 0&&(Re={},g.set(we,Re));const xe=Z(U);if(xe!==j.__cacheKey){Re[xe]===void 0&&(Re[xe]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,fe=!0),Re[xe].usedTimes++;const Ye=Re[j.__cacheKey];Ye!==void 0&&(Re[j.__cacheKey].usedTimes--,Ye.usedTimes===0&&A(U)),j.__cacheKey=xe,j.__webglTexture=Re[xe].texture}return fe}function V(j,U,fe){let we=n.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(we=n.TEXTURE_2D_ARRAY),U.isData3DTexture&&(we=n.TEXTURE_3D);const Re=ie(j,U),xe=U.source;t.bindTexture(we,j.__webglTexture,n.TEXTURE0+fe);const Ye=i.get(xe);if(xe.version!==Ye.__version||Re===!0){t.activeTexture(n.TEXTURE0+fe);const ke=Zt.getPrimaries(Zt.workingColorSpace),He=U.colorSpace===$s?null:Zt.getPrimaries(U.colorSpace),wt=U.colorSpace===$s||ke===He?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,U.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,U.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);let Oe=w(U.image,!1,r.maxTextureSize);Oe=Lt(U,Oe);const qe=s.convert(U.format,U.colorSpace),et=s.convert(U.type);let Xe=C(U.internalFormat,qe,et,U.colorSpace,U.isVideoTexture);J(we,U);let Ve;const ft=U.mipmaps,it=U.isVideoTexture!==!0,jt=Ye.__version===void 0||Re===!0,re=xe.dataReady,Ue=O(U,Oe);if(U.isDepthTexture)Xe=T(U.format===Fu,U.type),jt&&(it?t.texStorage2D(n.TEXTURE_2D,1,Xe,Oe.width,Oe.height):t.texImage2D(n.TEXTURE_2D,0,Xe,Oe.width,Oe.height,0,qe,et,null));else if(U.isDataTexture)if(ft.length>0){it&&jt&&t.texStorage2D(n.TEXTURE_2D,Ue,Xe,ft[0].width,ft[0].height);for(let be=0,Te=ft.length;be<Te;be++)Ve=ft[be],it?re&&t.texSubImage2D(n.TEXTURE_2D,be,0,0,Ve.width,Ve.height,qe,et,Ve.data):t.texImage2D(n.TEXTURE_2D,be,Xe,Ve.width,Ve.height,0,qe,et,Ve.data);U.generateMipmaps=!1}else it?(jt&&t.texStorage2D(n.TEXTURE_2D,Ue,Xe,Oe.width,Oe.height),re&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Oe.width,Oe.height,qe,et,Oe.data)):t.texImage2D(n.TEXTURE_2D,0,Xe,Oe.width,Oe.height,0,qe,et,Oe.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){it&&jt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ue,Xe,ft[0].width,ft[0].height,Oe.depth);for(let be=0,Te=ft.length;be<Te;be++)if(Ve=ft[be],U.format!==Nr)if(qe!==null)if(it){if(re)if(U.layerUpdates.size>0){const Ie=j1(Ve.width,Ve.height,U.format,U.type);for(const Fe of U.layerUpdates){const Le=Ve.data.subarray(Fe*Ie/Ve.data.BYTES_PER_ELEMENT,(Fe+1)*Ie/Ve.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,be,0,0,Fe,Ve.width,Ve.height,1,qe,Le)}U.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,be,0,0,0,Ve.width,Ve.height,Oe.depth,qe,Ve.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,be,Xe,Ve.width,Ve.height,Oe.depth,0,Ve.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else it?re&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,be,0,0,0,Ve.width,Ve.height,Oe.depth,qe,et,Ve.data):t.texImage3D(n.TEXTURE_2D_ARRAY,be,Xe,Ve.width,Ve.height,Oe.depth,0,qe,et,Ve.data)}else{it&&jt&&t.texStorage2D(n.TEXTURE_2D,Ue,Xe,ft[0].width,ft[0].height);for(let be=0,Te=ft.length;be<Te;be++)Ve=ft[be],U.format!==Nr?qe!==null?it?re&&t.compressedTexSubImage2D(n.TEXTURE_2D,be,0,0,Ve.width,Ve.height,qe,Ve.data):t.compressedTexImage2D(n.TEXTURE_2D,be,Xe,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):it?re&&t.texSubImage2D(n.TEXTURE_2D,be,0,0,Ve.width,Ve.height,qe,et,Ve.data):t.texImage2D(n.TEXTURE_2D,be,Xe,Ve.width,Ve.height,0,qe,et,Ve.data)}else if(U.isDataArrayTexture)if(it){if(jt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ue,Xe,Oe.width,Oe.height,Oe.depth),re)if(U.layerUpdates.size>0){const be=j1(Oe.width,Oe.height,U.format,U.type);for(const Te of U.layerUpdates){const Ie=Oe.data.subarray(Te*be/Oe.data.BYTES_PER_ELEMENT,(Te+1)*be/Oe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Te,Oe.width,Oe.height,1,qe,et,Ie)}U.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Oe.width,Oe.height,Oe.depth,qe,et,Oe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Xe,Oe.width,Oe.height,Oe.depth,0,qe,et,Oe.data);else if(U.isData3DTexture)it?(jt&&t.texStorage3D(n.TEXTURE_3D,Ue,Xe,Oe.width,Oe.height,Oe.depth),re&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Oe.width,Oe.height,Oe.depth,qe,et,Oe.data)):t.texImage3D(n.TEXTURE_3D,0,Xe,Oe.width,Oe.height,Oe.depth,0,qe,et,Oe.data);else if(U.isFramebufferTexture){if(jt)if(it)t.texStorage2D(n.TEXTURE_2D,Ue,Xe,Oe.width,Oe.height);else{let be=Oe.width,Te=Oe.height;for(let Ie=0;Ie<Ue;Ie++)t.texImage2D(n.TEXTURE_2D,Ie,Xe,be,Te,0,qe,et,null),be>>=1,Te>>=1}}else if(ft.length>0){if(it&&jt){const be=Qe(ft[0]);t.texStorage2D(n.TEXTURE_2D,Ue,Xe,be.width,be.height)}for(let be=0,Te=ft.length;be<Te;be++)Ve=ft[be],it?re&&t.texSubImage2D(n.TEXTURE_2D,be,0,0,qe,et,Ve):t.texImage2D(n.TEXTURE_2D,be,Xe,qe,et,Ve);U.generateMipmaps=!1}else if(it){if(jt){const be=Qe(Oe);t.texStorage2D(n.TEXTURE_2D,Ue,Xe,be.width,be.height)}re&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,qe,et,Oe)}else t.texImage2D(n.TEXTURE_2D,0,Xe,qe,et,Oe);x(U)&&b(we),Ye.__version=xe.version,U.onUpdate&&U.onUpdate(U)}j.__version=U.version}function W(j,U,fe){if(U.image.length!==6)return;const we=ie(j,U),Re=U.source;t.bindTexture(n.TEXTURE_CUBE_MAP,j.__webglTexture,n.TEXTURE0+fe);const xe=i.get(Re);if(Re.version!==xe.__version||we===!0){t.activeTexture(n.TEXTURE0+fe);const Ye=Zt.getPrimaries(Zt.workingColorSpace),ke=U.colorSpace===$s?null:Zt.getPrimaries(U.colorSpace),He=U.colorSpace===$s||Ye===ke?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,U.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,U.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);const wt=U.isCompressedTexture||U.image[0].isCompressedTexture,Oe=U.image[0]&&U.image[0].isDataTexture,qe=[];for(let Te=0;Te<6;Te++)!wt&&!Oe?qe[Te]=w(U.image[Te],!0,r.maxCubemapSize):qe[Te]=Oe?U.image[Te].image:U.image[Te],qe[Te]=Lt(U,qe[Te]);const et=qe[0],Xe=s.convert(U.format,U.colorSpace),Ve=s.convert(U.type),ft=C(U.internalFormat,Xe,Ve,U.colorSpace),it=U.isVideoTexture!==!0,jt=xe.__version===void 0||we===!0,re=Re.dataReady;let Ue=O(U,et);J(n.TEXTURE_CUBE_MAP,U);let be;if(wt){it&&jt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ue,ft,et.width,et.height);for(let Te=0;Te<6;Te++){be=qe[Te].mipmaps;for(let Ie=0;Ie<be.length;Ie++){const Fe=be[Ie];U.format!==Nr?Xe!==null?it?re&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ie,0,0,Fe.width,Fe.height,Xe,Fe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ie,ft,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ie,0,0,Fe.width,Fe.height,Xe,Ve,Fe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ie,ft,Fe.width,Fe.height,0,Xe,Ve,Fe.data)}}}else{if(be=U.mipmaps,it&&jt){be.length>0&&Ue++;const Te=Qe(qe[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Ue,ft,Te.width,Te.height)}for(let Te=0;Te<6;Te++)if(Oe){it?re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,qe[Te].width,qe[Te].height,Xe,Ve,qe[Te].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,ft,qe[Te].width,qe[Te].height,0,Xe,Ve,qe[Te].data);for(let Ie=0;Ie<be.length;Ie++){const Le=be[Ie].image[Te].image;it?re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ie+1,0,0,Le.width,Le.height,Xe,Ve,Le.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ie+1,ft,Le.width,Le.height,0,Xe,Ve,Le.data)}}else{it?re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,Xe,Ve,qe[Te]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,ft,Xe,Ve,qe[Te]);for(let Ie=0;Ie<be.length;Ie++){const Fe=be[Ie];it?re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ie+1,0,0,Xe,Ve,Fe.image[Te]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ie+1,ft,Xe,Ve,Fe.image[Te])}}}x(U)&&b(n.TEXTURE_CUBE_MAP),xe.__version=Re.version,U.onUpdate&&U.onUpdate(U)}j.__version=U.version}function ue(j,U,fe,we,Re,xe){const Ye=s.convert(fe.format,fe.colorSpace),ke=s.convert(fe.type),He=C(fe.internalFormat,Ye,ke,fe.colorSpace),wt=i.get(U),Oe=i.get(fe);if(Oe.__renderTarget=U,!wt.__hasExternalTextures){const qe=Math.max(1,U.width>>xe),et=Math.max(1,U.height>>xe);Re===n.TEXTURE_3D||Re===n.TEXTURE_2D_ARRAY?t.texImage3D(Re,xe,He,qe,et,U.depth,0,Ye,ke,null):t.texImage2D(Re,xe,He,qe,et,0,Ye,ke,null)}t.bindFramebuffer(n.FRAMEBUFFER,j),pt(U)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,we,Re,Oe.__webglTexture,0,mt(U)):(Re===n.TEXTURE_2D||Re>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,we,Re,Oe.__webglTexture,xe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function le(j,U,fe){if(n.bindRenderbuffer(n.RENDERBUFFER,j),U.depthBuffer){const we=U.depthTexture,Re=we&&we.isDepthTexture?we.type:null,xe=T(U.stencilBuffer,Re),Ye=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ke=mt(U);pt(U)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ke,xe,U.width,U.height):fe?n.renderbufferStorageMultisample(n.RENDERBUFFER,ke,xe,U.width,U.height):n.renderbufferStorage(n.RENDERBUFFER,xe,U.width,U.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ye,n.RENDERBUFFER,j)}else{const we=U.textures;for(let Re=0;Re<we.length;Re++){const xe=we[Re],Ye=s.convert(xe.format,xe.colorSpace),ke=s.convert(xe.type),He=C(xe.internalFormat,Ye,ke,xe.colorSpace),wt=mt(U);fe&&pt(U)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,He,U.width,U.height):pt(U)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,wt,He,U.width,U.height):n.renderbufferStorage(n.RENDERBUFFER,He,U.width,U.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function he(j,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,j),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const we=i.get(U.depthTexture);we.__renderTarget=U,(!we.__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),K(U.depthTexture,0);const Re=we.__webglTexture,xe=mt(U);if(U.depthTexture.format===Au)pt(U)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0,xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0);else if(U.depthTexture.format===Fu)pt(U)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0,xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0);else throw new Error("Unknown depthTexture format")}function Ae(j){const U=i.get(j),fe=j.isWebGLCubeRenderTarget===!0;if(U.__boundDepthTexture!==j.depthTexture){const we=j.depthTexture;if(U.__depthDisposeCallback&&U.__depthDisposeCallback(),we){const Re=()=>{delete U.__boundDepthTexture,delete U.__depthDisposeCallback,we.removeEventListener("dispose",Re)};we.addEventListener("dispose",Re),U.__depthDisposeCallback=Re}U.__boundDepthTexture=we}if(j.depthTexture&&!U.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");he(U.__webglFramebuffer,j)}else if(fe){U.__webglDepthbuffer=[];for(let we=0;we<6;we++)if(t.bindFramebuffer(n.FRAMEBUFFER,U.__webglFramebuffer[we]),U.__webglDepthbuffer[we]===void 0)U.__webglDepthbuffer[we]=n.createRenderbuffer(),le(U.__webglDepthbuffer[we],j,!1);else{const Re=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,xe=U.__webglDepthbuffer[we];n.bindRenderbuffer(n.RENDERBUFFER,xe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Re,n.RENDERBUFFER,xe)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer===void 0)U.__webglDepthbuffer=n.createRenderbuffer(),le(U.__webglDepthbuffer,j,!1);else{const we=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Re=U.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Re),n.framebufferRenderbuffer(n.FRAMEBUFFER,we,n.RENDERBUFFER,Re)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ge(j,U,fe){const we=i.get(j);U!==void 0&&ue(we.__webglFramebuffer,j,j.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),fe!==void 0&&Ae(j)}function Ne(j){const U=j.texture,fe=i.get(j),we=i.get(U);j.addEventListener("dispose",D);const Re=j.textures,xe=j.isWebGLCubeRenderTarget===!0,Ye=Re.length>1;if(Ye||(we.__webglTexture===void 0&&(we.__webglTexture=n.createTexture()),we.__version=U.version,l.memory.textures++),xe){fe.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)if(U.mipmaps&&U.mipmaps.length>0){fe.__webglFramebuffer[ke]=[];for(let He=0;He<U.mipmaps.length;He++)fe.__webglFramebuffer[ke][He]=n.createFramebuffer()}else fe.__webglFramebuffer[ke]=n.createFramebuffer()}else{if(U.mipmaps&&U.mipmaps.length>0){fe.__webglFramebuffer=[];for(let ke=0;ke<U.mipmaps.length;ke++)fe.__webglFramebuffer[ke]=n.createFramebuffer()}else fe.__webglFramebuffer=n.createFramebuffer();if(Ye)for(let ke=0,He=Re.length;ke<He;ke++){const wt=i.get(Re[ke]);wt.__webglTexture===void 0&&(wt.__webglTexture=n.createTexture(),l.memory.textures++)}if(j.samples>0&&pt(j)===!1){fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let ke=0;ke<Re.length;ke++){const He=Re[ke];fe.__webglColorRenderbuffer[ke]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,fe.__webglColorRenderbuffer[ke]);const wt=s.convert(He.format,He.colorSpace),Oe=s.convert(He.type),qe=C(He.internalFormat,wt,Oe,He.colorSpace,j.isXRRenderTarget===!0),et=mt(j);n.renderbufferStorageMultisample(n.RENDERBUFFER,et,qe,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ke,n.RENDERBUFFER,fe.__webglColorRenderbuffer[ke])}n.bindRenderbuffer(n.RENDERBUFFER,null),j.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),le(fe.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(xe){t.bindTexture(n.TEXTURE_CUBE_MAP,we.__webglTexture),J(n.TEXTURE_CUBE_MAP,U);for(let ke=0;ke<6;ke++)if(U.mipmaps&&U.mipmaps.length>0)for(let He=0;He<U.mipmaps.length;He++)ue(fe.__webglFramebuffer[ke][He],j,U,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ke,He);else ue(fe.__webglFramebuffer[ke],j,U,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0);x(U)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ye){for(let ke=0,He=Re.length;ke<He;ke++){const wt=Re[ke],Oe=i.get(wt);t.bindTexture(n.TEXTURE_2D,Oe.__webglTexture),J(n.TEXTURE_2D,wt),ue(fe.__webglFramebuffer,j,wt,n.COLOR_ATTACHMENT0+ke,n.TEXTURE_2D,0),x(wt)&&b(n.TEXTURE_2D)}t.unbindTexture()}else{let ke=n.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(ke=j.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ke,we.__webglTexture),J(ke,U),U.mipmaps&&U.mipmaps.length>0)for(let He=0;He<U.mipmaps.length;He++)ue(fe.__webglFramebuffer[He],j,U,n.COLOR_ATTACHMENT0,ke,He);else ue(fe.__webglFramebuffer,j,U,n.COLOR_ATTACHMENT0,ke,0);x(U)&&b(ke),t.unbindTexture()}j.depthBuffer&&Ae(j)}function nt(j){const U=j.textures;for(let fe=0,we=U.length;fe<we;fe++){const Re=U[fe];if(x(Re)){const xe=M(j),Ye=i.get(Re).__webglTexture;t.bindTexture(xe,Ye),b(xe),t.unbindTexture()}}}const $e=[],Q=[];function Je(j){if(j.samples>0){if(pt(j)===!1){const U=j.textures,fe=j.width,we=j.height;let Re=n.COLOR_BUFFER_BIT;const xe=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ye=i.get(j),ke=U.length>1;if(ke)for(let He=0;He<U.length;He++)t.bindFramebuffer(n.FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ye.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ye.__webglFramebuffer);for(let He=0;He<U.length;He++){if(j.resolveDepthBuffer&&(j.depthBuffer&&(Re|=n.DEPTH_BUFFER_BIT),j.stencilBuffer&&j.resolveStencilBuffer&&(Re|=n.STENCIL_BUFFER_BIT)),ke){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ye.__webglColorRenderbuffer[He]);const wt=i.get(U[He]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,wt,0)}n.blitFramebuffer(0,0,fe,we,0,0,fe,we,Re,n.NEAREST),d===!0&&($e.length=0,Q.length=0,$e.push(n.COLOR_ATTACHMENT0+He),j.depthBuffer&&j.resolveDepthBuffer===!1&&($e.push(xe),Q.push(xe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Q)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,$e))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ke)for(let He=0;He<U.length;He++){t.bindFramebuffer(n.FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.RENDERBUFFER,Ye.__webglColorRenderbuffer[He]);const wt=i.get(U[He]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ye.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.TEXTURE_2D,wt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ye.__webglMultisampledFramebuffer)}else if(j.depthBuffer&&j.resolveDepthBuffer===!1&&d){const U=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[U])}}}function mt(j){return Math.min(r.maxSamples,j.samples)}function pt(j){const U=i.get(j);return j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function Ze(j){const U=l.render.frame;p.get(j)!==U&&(p.set(j,U),j.update())}function Lt(j,U){const fe=j.colorSpace,we=j.format,Re=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||fe!==Bu&&fe!==$s&&(Zt.getTransfer(fe)===pn?(we!==Nr||Re!==os)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),U}function Qe(j){return typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement?(f.width=j.naturalWidth||j.width,f.height=j.naturalHeight||j.height):typeof VideoFrame<"u"&&j instanceof VideoFrame?(f.width=j.displayWidth,f.height=j.displayHeight):(f.width=j.width,f.height=j.height),f}this.allocateTextureUnit=$,this.resetTextureUnits=X,this.setTexture2D=K,this.setTexture2DArray=H,this.setTexture3D=Y,this.setTextureCube=G,this.rebindTextures=ge,this.setupRenderTarget=Ne,this.updateRenderTargetMipmap=nt,this.updateMultisampleRenderTarget=Je,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=ue,this.useMultisampledRTT=pt}function j9(n,e){function t(i,r=$s){let s;const l=Zt.getTransfer(r);if(i===os)return n.UNSIGNED_BYTE;if(i===lx)return n.UNSIGNED_SHORT_4_4_4_4;if(i===ux)return n.UNSIGNED_SHORT_5_5_5_1;if(i===DL)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===AL)return n.BYTE;if(i===RL)return n.SHORT;if(i===Hd)return n.UNSIGNED_SHORT;if(i===ox)return n.INT;if(i===pl)return n.UNSIGNED_INT;if(i===qa)return n.FLOAT;if(i===of)return n.HALF_FLOAT;if(i===LL)return n.ALPHA;if(i===OL)return n.RGB;if(i===Nr)return n.RGBA;if(i===PL)return n.LUMINANCE;if(i===IL)return n.LUMINANCE_ALPHA;if(i===Au)return n.DEPTH_COMPONENT;if(i===Fu)return n.DEPTH_STENCIL;if(i===NL)return n.RED;if(i===cx)return n.RED_INTEGER;if(i===kL)return n.RG;if(i===dx)return n.RG_INTEGER;if(i===fx)return n.RGBA_INTEGER;if(i===Sp||i===Ep||i===wp||i===Mp)if(l===pn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Sp)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Ep)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===wp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Mp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Sp)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Ep)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===wp)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Mp)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===A_||i===R_||i===D_||i===L_)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===A_)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===R_)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===D_)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===L_)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===O_||i===P_||i===I_)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===O_||i===P_)return l===pn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===I_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===N_||i===k_||i===U_||i===F_||i===B_||i===z_||i===H_||i===V_||i===G_||i===j_||i===W_||i===Y_||i===q_||i===$_)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===N_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===k_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===U_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===F_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===B_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===z_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===H_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===V_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===G_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===j_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===W_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Y_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===q_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===$_)return l===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Tp||i===X_||i===K_)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Tp)return l===pn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===X_)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===K_)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===UL||i===Z_||i===Q_||i===J_)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Tp)return s.COMPRESSED_RED_RGTC1_EXT;if(i===Z_)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Q_)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===J_)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Uu?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const W9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Y9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class q9{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new zi,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new ao({vertexShader:W9,fragmentShader:Y9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ia(new ng(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class $9 extends rc{constructor(e,t){super();const i=this;let r=null,s=1,l=null,u="local-floor",d=1,f=null,p=null,m=null,g=null,v=null,_=null;const w=new q9,x=t.getContextAttributes();let b=null,M=null;const C=[],T=[],O=new en;let L=null;const D=new Ji;D.viewport=new mn;const I=new Ji;I.viewport=new mn;const A=[D,I],R=new gH;let N=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let W=C[V];return W===void 0&&(W=new p0,C[V]=W),W.getTargetRaySpace()},this.getControllerGrip=function(V){let W=C[V];return W===void 0&&(W=new p0,C[V]=W),W.getGripSpace()},this.getHand=function(V){let W=C[V];return W===void 0&&(W=new p0,C[V]=W),W.getHandSpace()};function $(V){const W=T.indexOf(V.inputSource);if(W===-1)return;const ue=C[W];ue!==void 0&&(ue.update(V.inputSource,V.frame,f||l),ue.dispatchEvent({type:V.type,data:V.inputSource}))}function Z(){r.removeEventListener("select",$),r.removeEventListener("selectstart",$),r.removeEventListener("selectend",$),r.removeEventListener("squeeze",$),r.removeEventListener("squeezestart",$),r.removeEventListener("squeezeend",$),r.removeEventListener("end",Z),r.removeEventListener("inputsourceschange",K);for(let V=0;V<C.length;V++){const W=T[V];W!==null&&(T[V]=null,C[V].disconnect(W))}N=null,X=null,w.reset(),e.setRenderTarget(b),v=null,g=null,m=null,r=null,M=null,ie.stop(),i.isPresenting=!1,e.setPixelRatio(L),e.setSize(O.width,O.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){s=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){u=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||l},this.setReferenceSpace=function(V){f=V},this.getBaseLayer=function(){return g!==null?g:v},this.getBinding=function(){return m},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(V){if(r=V,r!==null){if(b=e.getRenderTarget(),r.addEventListener("select",$),r.addEventListener("selectstart",$),r.addEventListener("selectend",$),r.addEventListener("squeeze",$),r.addEventListener("squeezestart",$),r.addEventListener("squeezeend",$),r.addEventListener("end",Z),r.addEventListener("inputsourceschange",K),x.xrCompatible!==!0&&await t.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(O),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ue=null,le=null,he=null;x.depth&&(he=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ue=x.stencil?Fu:Au,le=x.stencil?Uu:pl);const Ae={colorFormat:t.RGBA8,depthFormat:he,scaleFactor:s};m=new XRWebGLBinding(r,t),g=m.createProjectionLayer(Ae),r.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),M=new ml(g.textureWidth,g.textureHeight,{format:Nr,type:os,depthTexture:new ZL(g.textureWidth,g.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1})}else{const ue={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,t,ue),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),M=new ml(v.framebufferWidth,v.framebufferHeight,{format:Nr,type:os,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}M.isXRRenderTarget=!0,this.setFoveation(d),f=null,l=await r.requestReferenceSpace(u),ie.setContext(r),ie.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function K(V){for(let W=0;W<V.removed.length;W++){const ue=V.removed[W],le=T.indexOf(ue);le>=0&&(T[le]=null,C[le].disconnect(ue))}for(let W=0;W<V.added.length;W++){const ue=V.added[W];let le=T.indexOf(ue);if(le===-1){for(let Ae=0;Ae<C.length;Ae++)if(Ae>=T.length){T.push(ue),le=Ae;break}else if(T[Ae]===null){T[Ae]=ue,le=Ae;break}if(le===-1)break}const he=C[le];he&&he.connect(ue)}}const H=new ve,Y=new ve;function G(V,W,ue){H.setFromMatrixPosition(W.matrixWorld),Y.setFromMatrixPosition(ue.matrixWorld);const le=H.distanceTo(Y),he=W.projectionMatrix.elements,Ae=ue.projectionMatrix.elements,ge=he[14]/(he[10]-1),Ne=he[14]/(he[10]+1),nt=(he[9]+1)/he[5],$e=(he[9]-1)/he[5],Q=(he[8]-1)/he[0],Je=(Ae[8]+1)/Ae[0],mt=ge*Q,pt=ge*Je,Ze=le/(-Q+Je),Lt=Ze*-Q;if(W.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(Lt),V.translateZ(Ze),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert(),he[10]===-1)V.projectionMatrix.copy(W.projectionMatrix),V.projectionMatrixInverse.copy(W.projectionMatrixInverse);else{const Qe=ge+Ze,j=Ne+Ze,U=mt-Lt,fe=pt+(le-Lt),we=nt*Ne/j*Qe,Re=$e*Ne/j*Qe;V.projectionMatrix.makePerspective(U,fe,we,Re,Qe,j),V.projectionMatrixInverse.copy(V.projectionMatrix).invert()}}function te(V,W){W===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(W.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(r===null)return;let W=V.near,ue=V.far;w.texture!==null&&(w.depthNear>0&&(W=w.depthNear),w.depthFar>0&&(ue=w.depthFar)),R.near=I.near=D.near=W,R.far=I.far=D.far=ue,(N!==R.near||X!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),N=R.near,X=R.far),D.layers.mask=V.layers.mask|2,I.layers.mask=V.layers.mask|4,R.layers.mask=D.layers.mask|I.layers.mask;const le=V.parent,he=R.cameras;te(R,le);for(let Ae=0;Ae<he.length;Ae++)te(he[Ae],le);he.length===2?G(R,D,I):R.projectionMatrix.copy(D.projectionMatrix),F(V,R,le)};function F(V,W,ue){ue===null?V.matrix.copy(W.matrixWorld):(V.matrix.copy(ue.matrixWorld),V.matrix.invert(),V.matrix.multiply(W.matrixWorld)),V.matrix.decompose(V.position,V.quaternion,V.scale),V.updateMatrixWorld(!0),V.projectionMatrix.copy(W.projectionMatrix),V.projectionMatrixInverse.copy(W.projectionMatrixInverse),V.isPerspectiveCamera&&(V.fov=eb*2*Math.atan(1/V.projectionMatrix.elements[5]),V.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(g===null&&v===null))return d},this.setFoveation=function(V){d=V,g!==null&&(g.fixedFoveation=V),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=V)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(R)};let ee=null;function J(V,W){if(p=W.getViewerPose(f||l),_=W,p!==null){const ue=p.views;v!==null&&(e.setRenderTargetFramebuffer(M,v.framebuffer),e.setRenderTarget(M));let le=!1;ue.length!==R.cameras.length&&(R.cameras.length=0,le=!0);for(let ge=0;ge<ue.length;ge++){const Ne=ue[ge];let nt=null;if(v!==null)nt=v.getViewport(Ne);else{const Q=m.getViewSubImage(g,Ne);nt=Q.viewport,ge===0&&(e.setRenderTargetTextures(M,Q.colorTexture,g.ignoreDepthValues?void 0:Q.depthStencilTexture),e.setRenderTarget(M))}let $e=A[ge];$e===void 0&&($e=new Ji,$e.layers.enable(ge),$e.viewport=new mn,A[ge]=$e),$e.matrix.fromArray(Ne.transform.matrix),$e.matrix.decompose($e.position,$e.quaternion,$e.scale),$e.projectionMatrix.fromArray(Ne.projectionMatrix),$e.projectionMatrixInverse.copy($e.projectionMatrix).invert(),$e.viewport.set(nt.x,nt.y,nt.width,nt.height),ge===0&&(R.matrix.copy($e.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),le===!0&&R.cameras.push($e)}const he=r.enabledFeatures;if(he&&he.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&m){const ge=m.getDepthInformation(ue[0]);ge&&ge.isValid&&ge.texture&&w.init(e,ge,r.renderState)}}for(let ue=0;ue<C.length;ue++){const le=T[ue],he=C[ue];le!==null&&he!==void 0&&he.update(le,W,f||l)}ee&&ee(V,W),W.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:W}),_=null}const ie=new JL;ie.setAnimationLoop(J),this.setAnimationLoop=function(V){ee=V},this.dispose=function(){}}}const Bo=new ha,X9=new An;function K9(n,e){function t(x,b){x.matrixAutoUpdate===!0&&x.updateMatrix(),b.value.copy(x.matrix)}function i(x,b){b.color.getRGB(x.fogColor.value,$L(n)),b.isFog?(x.fogNear.value=b.near,x.fogFar.value=b.far):b.isFogExp2&&(x.fogDensity.value=b.density)}function r(x,b,M,C,T){b.isMeshBasicMaterial||b.isMeshLambertMaterial?s(x,b):b.isMeshToonMaterial?(s(x,b),m(x,b)):b.isMeshPhongMaterial?(s(x,b),p(x,b)):b.isMeshStandardMaterial?(s(x,b),g(x,b),b.isMeshPhysicalMaterial&&v(x,b,T)):b.isMeshMatcapMaterial?(s(x,b),_(x,b)):b.isMeshDepthMaterial?s(x,b):b.isMeshDistanceMaterial?(s(x,b),w(x,b)):b.isMeshNormalMaterial?s(x,b):b.isLineBasicMaterial?(l(x,b),b.isLineDashedMaterial&&u(x,b)):b.isPointsMaterial?d(x,b,M,C):b.isSpriteMaterial?f(x,b):b.isShadowMaterial?(x.color.value.copy(b.color),x.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function s(x,b){x.opacity.value=b.opacity,b.color&&x.diffuse.value.copy(b.color),b.emissive&&x.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(x.map.value=b.map,t(b.map,x.mapTransform)),b.alphaMap&&(x.alphaMap.value=b.alphaMap,t(b.alphaMap,x.alphaMapTransform)),b.bumpMap&&(x.bumpMap.value=b.bumpMap,t(b.bumpMap,x.bumpMapTransform),x.bumpScale.value=b.bumpScale,b.side===Bi&&(x.bumpScale.value*=-1)),b.normalMap&&(x.normalMap.value=b.normalMap,t(b.normalMap,x.normalMapTransform),x.normalScale.value.copy(b.normalScale),b.side===Bi&&x.normalScale.value.negate()),b.displacementMap&&(x.displacementMap.value=b.displacementMap,t(b.displacementMap,x.displacementMapTransform),x.displacementScale.value=b.displacementScale,x.displacementBias.value=b.displacementBias),b.emissiveMap&&(x.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,x.emissiveMapTransform)),b.specularMap&&(x.specularMap.value=b.specularMap,t(b.specularMap,x.specularMapTransform)),b.alphaTest>0&&(x.alphaTest.value=b.alphaTest);const M=e.get(b),C=M.envMap,T=M.envMapRotation;C&&(x.envMap.value=C,Bo.copy(T),Bo.x*=-1,Bo.y*=-1,Bo.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Bo.y*=-1,Bo.z*=-1),x.envMapRotation.value.setFromMatrix4(X9.makeRotationFromEuler(Bo)),x.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=b.reflectivity,x.ior.value=b.ior,x.refractionRatio.value=b.refractionRatio),b.lightMap&&(x.lightMap.value=b.lightMap,x.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,x.lightMapTransform)),b.aoMap&&(x.aoMap.value=b.aoMap,x.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,x.aoMapTransform))}function l(x,b){x.diffuse.value.copy(b.color),x.opacity.value=b.opacity,b.map&&(x.map.value=b.map,t(b.map,x.mapTransform))}function u(x,b){x.dashSize.value=b.dashSize,x.totalSize.value=b.dashSize+b.gapSize,x.scale.value=b.scale}function d(x,b,M,C){x.diffuse.value.copy(b.color),x.opacity.value=b.opacity,x.size.value=b.size*M,x.scale.value=C*.5,b.map&&(x.map.value=b.map,t(b.map,x.uvTransform)),b.alphaMap&&(x.alphaMap.value=b.alphaMap,t(b.alphaMap,x.alphaMapTransform)),b.alphaTest>0&&(x.alphaTest.value=b.alphaTest)}function f(x,b){x.diffuse.value.copy(b.color),x.opacity.value=b.opacity,x.rotation.value=b.rotation,b.map&&(x.map.value=b.map,t(b.map,x.mapTransform)),b.alphaMap&&(x.alphaMap.value=b.alphaMap,t(b.alphaMap,x.alphaMapTransform)),b.alphaTest>0&&(x.alphaTest.value=b.alphaTest)}function p(x,b){x.specular.value.copy(b.specular),x.shininess.value=Math.max(b.shininess,1e-4)}function m(x,b){b.gradientMap&&(x.gradientMap.value=b.gradientMap)}function g(x,b){x.metalness.value=b.metalness,b.metalnessMap&&(x.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,x.metalnessMapTransform)),x.roughness.value=b.roughness,b.roughnessMap&&(x.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,x.roughnessMapTransform)),b.envMap&&(x.envMapIntensity.value=b.envMapIntensity)}function v(x,b,M){x.ior.value=b.ior,b.sheen>0&&(x.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),x.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(x.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,x.sheenColorMapTransform)),b.sheenRoughnessMap&&(x.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,x.sheenRoughnessMapTransform))),b.clearcoat>0&&(x.clearcoat.value=b.clearcoat,x.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(x.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,x.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(x.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Bi&&x.clearcoatNormalScale.value.negate())),b.dispersion>0&&(x.dispersion.value=b.dispersion),b.iridescence>0&&(x.iridescence.value=b.iridescence,x.iridescenceIOR.value=b.iridescenceIOR,x.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(x.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,x.iridescenceMapTransform)),b.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),b.transmission>0&&(x.transmission.value=b.transmission,x.transmissionSamplerMap.value=M.texture,x.transmissionSamplerSize.value.set(M.width,M.height),b.transmissionMap&&(x.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,x.transmissionMapTransform)),x.thickness.value=b.thickness,b.thicknessMap&&(x.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=b.attenuationDistance,x.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(x.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(x.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=b.specularIntensity,x.specularColor.value.copy(b.specularColor),b.specularColorMap&&(x.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,x.specularColorMapTransform)),b.specularIntensityMap&&(x.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,x.specularIntensityMapTransform))}function _(x,b){b.matcap&&(x.matcap.value=b.matcap)}function w(x,b){const M=e.get(b).light;x.referencePosition.value.setFromMatrixPosition(M.matrixWorld),x.nearDistance.value=M.shadow.camera.near,x.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Z9(n,e,t,i){let r={},s={},l=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function d(M,C){const T=C.program;i.uniformBlockBinding(M,T)}function f(M,C){let T=r[M.id];T===void 0&&(_(M),T=p(M),r[M.id]=T,M.addEventListener("dispose",x));const O=C.program;i.updateUBOMapping(M,O);const L=e.render.frame;s[M.id]!==L&&(g(M),s[M.id]=L)}function p(M){const C=m();M.__bindingPointIndex=C;const T=n.createBuffer(),O=M.__size,L=M.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,O,L),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,T),T}function m(){for(let M=0;M<u;M++)if(l.indexOf(M)===-1)return l.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(M){const C=r[M.id],T=M.uniforms,O=M.__cache;n.bindBuffer(n.UNIFORM_BUFFER,C);for(let L=0,D=T.length;L<D;L++){const I=Array.isArray(T[L])?T[L]:[T[L]];for(let A=0,R=I.length;A<R;A++){const N=I[A];if(v(N,L,A,O)===!0){const X=N.__offset,$=Array.isArray(N.value)?N.value:[N.value];let Z=0;for(let K=0;K<$.length;K++){const H=$[K],Y=w(H);typeof H=="number"||typeof H=="boolean"?(N.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,X+Z,N.__data)):H.isMatrix3?(N.__data[0]=H.elements[0],N.__data[1]=H.elements[1],N.__data[2]=H.elements[2],N.__data[3]=0,N.__data[4]=H.elements[3],N.__data[5]=H.elements[4],N.__data[6]=H.elements[5],N.__data[7]=0,N.__data[8]=H.elements[6],N.__data[9]=H.elements[7],N.__data[10]=H.elements[8],N.__data[11]=0):(H.toArray(N.__data,Z),Z+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,X,N.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(M,C,T,O){const L=M.value,D=C+"_"+T;if(O[D]===void 0)return typeof L=="number"||typeof L=="boolean"?O[D]=L:O[D]=L.clone(),!0;{const I=O[D];if(typeof L=="number"||typeof L=="boolean"){if(I!==L)return O[D]=L,!0}else if(I.equals(L)===!1)return I.copy(L),!0}return!1}function _(M){const C=M.uniforms;let T=0;const O=16;for(let D=0,I=C.length;D<I;D++){const A=Array.isArray(C[D])?C[D]:[C[D]];for(let R=0,N=A.length;R<N;R++){const X=A[R],$=Array.isArray(X.value)?X.value:[X.value];for(let Z=0,K=$.length;Z<K;Z++){const H=$[Z],Y=w(H),G=T%O,te=G%Y.boundary,F=G+te;T+=te,F!==0&&O-F<Y.storage&&(T+=O-F),X.__data=new Float32Array(Y.storage/Float32Array.BYTES_PER_ELEMENT),X.__offset=T,T+=Y.storage}}}const L=T%O;return L>0&&(T+=O-L),M.__size=T,M.__cache={},this}function w(M){const C={boundary:0,storage:0};return typeof M=="number"||typeof M=="boolean"?(C.boundary=4,C.storage=4):M.isVector2?(C.boundary=8,C.storage=8):M.isVector3||M.isColor?(C.boundary=16,C.storage=12):M.isVector4?(C.boundary=16,C.storage=16):M.isMatrix3?(C.boundary=48,C.storage=48):M.isMatrix4?(C.boundary=64,C.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),C}function x(M){const C=M.target;C.removeEventListener("dispose",x);const T=l.indexOf(C.__bindingPointIndex);l.splice(T,1),n.deleteBuffer(r[C.id]),delete r[C.id],delete s[C.id]}function b(){for(const M in r)n.deleteBuffer(r[M]);l=[],r={},s={}}return{bind:d,update:f,dispose:b}}class Q9{constructor(e={}){const{canvas:t=D5(),context:i=null,depth:r=!0,stencil:s=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:m=!1,reverseDepthBuffer:g=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=l;const _=new Uint32Array(4),w=new Int32Array(4);let x=null,b=null;const M=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=yr,this.toneMapping=Js,this.toneMappingExposure=1;const T=this;let O=!1,L=0,D=0,I=null,A=-1,R=null;const N=new mn,X=new mn;let $=null;const Z=new Qt(0);let K=0,H=t.width,Y=t.height,G=1,te=null,F=null;const ee=new mn(0,0,H,Y),J=new mn(0,0,H,Y);let ie=!1;const V=new px;let W=!1,ue=!1;this.transmissionResolutionScale=1;const le=new An,he=new An,Ae=new ve,ge=new mn,Ne={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let nt=!1;function $e(){return I===null?G:1}let Q=i;function Je(z,oe){return t.getContext(z,oe)}try{const z={alpha:!0,depth:r,stencil:s,antialias:u,premultipliedAlpha:d,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:m};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${ax}`),t.addEventListener("webglcontextlost",Te,!1),t.addEventListener("webglcontextrestored",Ie,!1),t.addEventListener("webglcontextcreationerror",Fe,!1),Q===null){const oe="webgl2";if(Q=Je(oe,z),Q===null)throw Je(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let mt,pt,Ze,Lt,Qe,j,U,fe,we,Re,xe,Ye,ke,He,wt,Oe,qe,et,Xe,Ve,ft,it,jt,re;function Ue(){mt=new lV(Q),mt.init(),it=new j9(Q,mt),pt=new nV(Q,mt,e,it),Ze=new V9(Q,mt),pt.reverseDepthBuffer&&g&&Ze.buffers.depth.setReversed(!0),Lt=new dV(Q),Qe=new R9,j=new G9(Q,mt,Ze,Qe,pt,it,Lt),U=new rV(T),fe=new oV(T),we=new yH(Q),jt=new eV(Q,we),Re=new uV(Q,we,Lt,jt),xe=new hV(Q,Re,we,Lt),Xe=new fV(Q,pt,j),Oe=new iV(Qe),Ye=new A9(T,U,fe,mt,pt,jt,Oe),ke=new K9(T,Qe),He=new L9,wt=new U9(mt),et=new J8(T,U,fe,Ze,xe,v,d),qe=new z9(T,xe,pt),re=new Z9(Q,Lt,pt,Ze),Ve=new tV(Q,mt,Lt),ft=new cV(Q,mt,Lt),Lt.programs=Ye.programs,T.capabilities=pt,T.extensions=mt,T.properties=Qe,T.renderLists=He,T.shadowMap=qe,T.state=Ze,T.info=Lt}Ue();const be=new $9(T,Q);this.xr=be,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const z=mt.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=mt.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(z){z!==void 0&&(G=z,this.setSize(H,Y,!1))},this.getSize=function(z){return z.set(H,Y)},this.setSize=function(z,oe,ye=!0){if(be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=z,Y=oe,t.width=Math.floor(z*G),t.height=Math.floor(oe*G),ye===!0&&(t.style.width=z+"px",t.style.height=oe+"px"),this.setViewport(0,0,z,oe)},this.getDrawingBufferSize=function(z){return z.set(H*G,Y*G).floor()},this.setDrawingBufferSize=function(z,oe,ye){H=z,Y=oe,G=ye,t.width=Math.floor(z*ye),t.height=Math.floor(oe*ye),this.setViewport(0,0,z,oe)},this.getCurrentViewport=function(z){return z.copy(N)},this.getViewport=function(z){return z.copy(ee)},this.setViewport=function(z,oe,ye,pe){z.isVector4?ee.set(z.x,z.y,z.z,z.w):ee.set(z,oe,ye,pe),Ze.viewport(N.copy(ee).multiplyScalar(G).round())},this.getScissor=function(z){return z.copy(J)},this.setScissor=function(z,oe,ye,pe){z.isVector4?J.set(z.x,z.y,z.z,z.w):J.set(z,oe,ye,pe),Ze.scissor(X.copy(J).multiplyScalar(G).round())},this.getScissorTest=function(){return ie},this.setScissorTest=function(z){Ze.setScissorTest(ie=z)},this.setOpaqueSort=function(z){te=z},this.setTransparentSort=function(z){F=z},this.getClearColor=function(z){return z.copy(et.getClearColor())},this.setClearColor=function(){et.setClearColor.apply(et,arguments)},this.getClearAlpha=function(){return et.getClearAlpha()},this.setClearAlpha=function(){et.setClearAlpha.apply(et,arguments)},this.clear=function(z=!0,oe=!0,ye=!0){let pe=0;if(z){let ce=!1;if(I!==null){const Pe=I.texture.format;ce=Pe===fx||Pe===dx||Pe===cx}if(ce){const Pe=I.texture.type,Be=Pe===os||Pe===pl||Pe===Hd||Pe===Uu||Pe===lx||Pe===ux,We=et.getClearColor(),Ge=et.getClearAlpha(),xt=We.r,St=We.g,ct=We.b;Be?(_[0]=xt,_[1]=St,_[2]=ct,_[3]=Ge,Q.clearBufferuiv(Q.COLOR,0,_)):(w[0]=xt,w[1]=St,w[2]=ct,w[3]=Ge,Q.clearBufferiv(Q.COLOR,0,w))}else pe|=Q.COLOR_BUFFER_BIT}oe&&(pe|=Q.DEPTH_BUFFER_BIT),ye&&(pe|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Te,!1),t.removeEventListener("webglcontextrestored",Ie,!1),t.removeEventListener("webglcontextcreationerror",Fe,!1),et.dispose(),He.dispose(),wt.dispose(),Qe.dispose(),U.dispose(),fe.dispose(),xe.dispose(),jt.dispose(),re.dispose(),Ye.dispose(),be.dispose(),be.removeEventListener("sessionstart",ut),be.removeEventListener("sessionend",ui),jn.stop()};function Te(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const z=Lt.autoReset,oe=qe.enabled,ye=qe.autoUpdate,pe=qe.needsUpdate,ce=qe.type;Ue(),Lt.autoReset=z,qe.enabled=oe,qe.autoUpdate=ye,qe.needsUpdate=pe,qe.type=ce}function Fe(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function Le(z){const oe=z.target;oe.removeEventListener("dispose",Le),st(oe)}function st(z){yt(z),Qe.remove(z)}function yt(z){const oe=Qe.get(z).programs;oe!==void 0&&(oe.forEach(function(ye){Ye.releaseProgram(ye)}),z.isShaderMaterial&&Ye.releaseShaderCache(z))}this.renderBufferDirect=function(z,oe,ye,pe,ce,Pe){oe===null&&(oe=Ne);const Be=ce.isMesh&&ce.matrixWorld.determinant()<0,We=Tg(z,oe,ye,pe,ce);Ze.setMaterial(pe,Be);let Ge=ye.index,xt=1;if(pe.wireframe===!0){if(Ge=Re.getWireframeAttribute(ye),Ge===void 0)return;xt=2}const St=ye.drawRange,ct=ye.attributes.position;let Ft=St.start*xt,Bt=(St.start+St.count)*xt;Pe!==null&&(Ft=Math.max(Ft,Pe.start*xt),Bt=Math.min(Bt,(Pe.start+Pe.count)*xt)),Ge!==null?(Ft=Math.max(Ft,0),Bt=Math.min(Bt,Ge.count)):ct!=null&&(Ft=Math.max(Ft,0),Bt=Math.min(Bt,ct.count));const bn=Bt-Ft;if(bn<0||bn===1/0)return;jt.setup(ce,pe,We,ye,Ge);let qt,Et=Ve;if(Ge!==null&&(qt=we.get(Ge),Et=ft,Et.setIndex(qt)),ce.isMesh)pe.wireframe===!0?(Ze.setLineWidth(pe.wireframeLinewidth*$e()),Et.setMode(Q.LINES)):Et.setMode(Q.TRIANGLES);else if(ce.isLine){let dt=pe.linewidth;dt===void 0&&(dt=1),Ze.setLineWidth(dt*$e()),ce.isLineSegments?Et.setMode(Q.LINES):ce.isLineLoop?Et.setMode(Q.LINE_LOOP):Et.setMode(Q.LINE_STRIP)}else ce.isPoints?Et.setMode(Q.POINTS):ce.isSprite&&Et.setMode(Q.TRIANGLES);if(ce.isBatchedMesh)if(ce._multiDrawInstances!==null)Et.renderMultiDrawInstances(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount,ce._multiDrawInstances);else if(mt.get("WEBGL_multi_draw"))Et.renderMultiDraw(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount);else{const dt=ce._multiDrawStarts,qn=ce._multiDrawCounts,zt=ce._multiDrawCount,Di=Ge?we.get(Ge).bytesPerElement:1,Mr=Qe.get(pe).currentProgram.getUniforms();for(let xi=0;xi<zt;xi++)Mr.setValue(Q,"_gl_DrawID",xi),Et.render(dt[xi]/Di,qn[xi])}else if(ce.isInstancedMesh)Et.renderInstances(Ft,bn,ce.count);else if(ye.isInstancedBufferGeometry){const dt=ye._maxInstanceCount!==void 0?ye._maxInstanceCount:1/0,qn=Math.min(ye.instanceCount,dt);Et.renderInstances(Ft,bn,qn)}else Et.render(Ft,bn)};function bt(z,oe,ye){z.transparent===!0&&z.side===Ga&&z.forceSinglePass===!1?(z.side=Bi,z.needsUpdate=!0,Yn(z,oe,ye),z.side=ro,z.needsUpdate=!0,Yn(z,oe,ye),z.side=Ga):Yn(z,oe,ye)}this.compile=function(z,oe,ye=null){ye===null&&(ye=z),b=wt.get(ye),b.init(oe),C.push(b),ye.traverseVisible(function(ce){ce.isLight&&ce.layers.test(oe.layers)&&(b.pushLight(ce),ce.castShadow&&b.pushShadow(ce))}),z!==ye&&z.traverseVisible(function(ce){ce.isLight&&ce.layers.test(oe.layers)&&(b.pushLight(ce),ce.castShadow&&b.pushShadow(ce))}),b.setupLights();const pe=new Set;return z.traverse(function(ce){if(!(ce.isMesh||ce.isPoints||ce.isLine||ce.isSprite))return;const Pe=ce.material;if(Pe)if(Array.isArray(Pe))for(let Be=0;Be<Pe.length;Be++){const We=Pe[Be];bt(We,ye,ce),pe.add(We)}else bt(Pe,ye,ce),pe.add(Pe)}),C.pop(),b=null,pe},this.compileAsync=function(z,oe,ye=null){const pe=this.compile(z,oe,ye);return new Promise(ce=>{function Pe(){if(pe.forEach(function(Be){Qe.get(Be).currentProgram.isReady()&&pe.delete(Be)}),pe.size===0){ce(z);return}setTimeout(Pe,10)}mt.get("KHR_parallel_shader_compile")!==null?Pe():setTimeout(Pe,10)})};let ln=null;function nn(z){ln&&ln(z)}function ut(){jn.stop()}function ui(){jn.start()}const jn=new JL;jn.setAnimationLoop(nn),typeof self<"u"&&jn.setContext(self),this.setAnimationLoop=function(z){ln=z,be.setAnimationLoop(z),z===null?jn.stop():jn.start()},be.addEventListener("sessionstart",ut),be.addEventListener("sessionend",ui),this.render=function(z,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),be.enabled===!0&&be.isPresenting===!0&&(be.cameraAutoUpdate===!0&&be.updateCamera(oe),oe=be.getCamera()),z.isScene===!0&&z.onBeforeRender(T,z,oe,I),b=wt.get(z,C.length),b.init(oe),C.push(b),he.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),V.setFromProjectionMatrix(he),ue=this.localClippingEnabled,W=Oe.init(this.clippingPlanes,ue),x=He.get(z,M.length),x.init(),M.push(x),be.enabled===!0&&be.isPresenting===!0){const Pe=T.xr.getDepthSensingMesh();Pe!==null&&Sl(Pe,oe,-1/0,T.sortObjects)}Sl(z,oe,0,T.sortObjects),x.finish(),T.sortObjects===!0&&x.sort(te,F),nt=be.enabled===!1||be.isPresenting===!1||be.hasDepthSensing()===!1,nt&&et.addToRenderList(x,z),this.info.render.frame++,W===!0&&Oe.beginShadows();const ye=b.state.shadowsArray;qe.render(ye,z,oe),W===!0&&Oe.endShadows(),this.info.autoReset===!0&&this.info.reset();const pe=x.opaque,ce=x.transmissive;if(b.setupLights(),oe.isArrayCamera){const Pe=oe.cameras;if(ce.length>0)for(let Be=0,We=Pe.length;Be<We;Be++){const Ge=Pe[Be];bf(pe,ce,z,Ge)}nt&&et.render(z);for(let Be=0,We=Pe.length;Be<We;Be++){const Ge=Pe[Be];cc(x,z,Ge,Ge.viewport)}}else ce.length>0&&bf(pe,ce,z,oe),nt&&et.render(z),cc(x,z,oe);I!==null&&D===0&&(j.updateMultisampleRenderTarget(I),j.updateRenderTargetMipmap(I)),z.isScene===!0&&z.onAfterRender(T,z,oe),jt.resetDefaultState(),A=-1,R=null,C.pop(),C.length>0?(b=C[C.length-1],W===!0&&Oe.setGlobalState(T.clippingPlanes,b.state.camera)):b=null,M.pop(),M.length>0?x=M[M.length-1]:x=null};function Sl(z,oe,ye,pe){if(z.visible===!1)return;if(z.layers.test(oe.layers)){if(z.isGroup)ye=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(oe);else if(z.isLight)b.pushLight(z),z.castShadow&&b.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||V.intersectsSprite(z)){pe&&ge.setFromMatrixPosition(z.matrixWorld).applyMatrix4(he);const Be=xe.update(z),We=z.material;We.visible&&x.push(z,Be,We,ye,ge.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||V.intersectsObject(z))){const Be=xe.update(z),We=z.material;if(pe&&(z.boundingSphere!==void 0?(z.boundingSphere===null&&z.computeBoundingSphere(),ge.copy(z.boundingSphere.center)):(Be.boundingSphere===null&&Be.computeBoundingSphere(),ge.copy(Be.boundingSphere.center)),ge.applyMatrix4(z.matrixWorld).applyMatrix4(he)),Array.isArray(We)){const Ge=Be.groups;for(let xt=0,St=Ge.length;xt<St;xt++){const ct=Ge[xt],Ft=We[ct.materialIndex];Ft&&Ft.visible&&x.push(z,Be,Ft,ye,ge.z,ct)}}else We.visible&&x.push(z,Be,We,ye,ge.z,null)}}const Pe=z.children;for(let Be=0,We=Pe.length;Be<We;Be++)Sl(Pe[Be],oe,ye,pe)}function cc(z,oe,ye,pe){const ce=z.opaque,Pe=z.transmissive,Be=z.transparent;b.setupLightsView(ye),W===!0&&Oe.setGlobalState(T.clippingPlanes,ye),pe&&Ze.viewport(N.copy(pe)),ce.length>0&&Gi(ce,oe,ye),Pe.length>0&&Gi(Pe,oe,ye),Be.length>0&&Gi(Be,oe,ye),Ze.buffers.depth.setTest(!0),Ze.buffers.depth.setMask(!0),Ze.buffers.color.setMask(!0),Ze.setPolygonOffset(!1)}function bf(z,oe,ye,pe){if((ye.isScene===!0?ye.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[pe.id]===void 0&&(b.state.transmissionRenderTarget[pe.id]=new ml(1,1,{generateMipmaps:!0,type:mt.has("EXT_color_buffer_half_float")||mt.has("EXT_color_buffer_float")?of:os,minFilter:Zo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Zt.workingColorSpace}));const Pe=b.state.transmissionRenderTarget[pe.id],Be=pe.viewport||N;Pe.setSize(Be.z*T.transmissionResolutionScale,Be.w*T.transmissionResolutionScale);const We=T.getRenderTarget();T.setRenderTarget(Pe),T.getClearColor(Z),K=T.getClearAlpha(),K<1&&T.setClearColor(16777215,.5),T.clear(),nt&&et.render(ye);const Ge=T.toneMapping;T.toneMapping=Js;const xt=pe.viewport;if(pe.viewport!==void 0&&(pe.viewport=void 0),b.setupLightsView(pe),W===!0&&Oe.setGlobalState(T.clippingPlanes,pe),Gi(z,ye,pe),j.updateMultisampleRenderTarget(Pe),j.updateRenderTargetMipmap(Pe),mt.has("WEBGL_multisampled_render_to_texture")===!1){let St=!1;for(let ct=0,Ft=oe.length;ct<Ft;ct++){const Bt=oe[ct],bn=Bt.object,qt=Bt.geometry,Et=Bt.material,dt=Bt.group;if(Et.side===Ga&&bn.layers.test(pe.layers)){const qn=Et.side;Et.side=Bi,Et.needsUpdate=!0,Wn(bn,ye,pe,qt,Et,dt),Et.side=qn,Et.needsUpdate=!0,St=!0}}St===!0&&(j.updateMultisampleRenderTarget(Pe),j.updateRenderTargetMipmap(Pe))}T.setRenderTarget(We),T.setClearColor(Z,K),xt!==void 0&&(pe.viewport=xt),T.toneMapping=Ge}function Gi(z,oe,ye){const pe=oe.isScene===!0?oe.overrideMaterial:null;for(let ce=0,Pe=z.length;ce<Pe;ce++){const Be=z[ce],We=Be.object,Ge=Be.geometry,xt=pe===null?Be.material:pe,St=Be.group;We.layers.test(ye.layers)&&Wn(We,oe,ye,Ge,xt,St)}}function Wn(z,oe,ye,pe,ce,Pe){z.onBeforeRender(T,oe,ye,pe,ce,Pe),z.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),ce.onBeforeRender(T,oe,ye,pe,z,Pe),ce.transparent===!0&&ce.side===Ga&&ce.forceSinglePass===!1?(ce.side=Bi,ce.needsUpdate=!0,T.renderBufferDirect(ye,oe,pe,ce,z,Pe),ce.side=ro,ce.needsUpdate=!0,T.renderBufferDirect(ye,oe,pe,ce,z,Pe),ce.side=Ga):T.renderBufferDirect(ye,oe,pe,ce,z,Pe),z.onAfterRender(T,oe,ye,pe,ce,Pe)}function Yn(z,oe,ye){oe.isScene!==!0&&(oe=Ne);const pe=Qe.get(z),ce=b.state.lights,Pe=b.state.shadowsArray,Be=ce.state.version,We=Ye.getParameters(z,ce.state,Pe,oe,ye),Ge=Ye.getProgramCacheKey(We);let xt=pe.programs;pe.environment=z.isMeshStandardMaterial?oe.environment:null,pe.fog=oe.fog,pe.envMap=(z.isMeshStandardMaterial?fe:U).get(z.envMap||pe.environment),pe.envMapRotation=pe.environment!==null&&z.envMap===null?oe.environmentRotation:z.envMapRotation,xt===void 0&&(z.addEventListener("dispose",Le),xt=new Map,pe.programs=xt);let St=xt.get(Ge);if(St!==void 0){if(pe.currentProgram===St&&pe.lightsStateVersion===Be)return El(z,We),St}else We.uniforms=Ye.getUniforms(z),z.onBeforeCompile(We,T),St=Ye.acquireProgram(We,Ge),xt.set(Ge,St),pe.uniforms=We.uniforms;const ct=pe.uniforms;return(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(ct.clippingPlanes=Oe.uniform),El(z,We),pe.needsLights=xf(z),pe.lightsStateVersion=Be,pe.needsLights&&(ct.ambientLightColor.value=ce.state.ambient,ct.lightProbe.value=ce.state.probe,ct.directionalLights.value=ce.state.directional,ct.directionalLightShadows.value=ce.state.directionalShadow,ct.spotLights.value=ce.state.spot,ct.spotLightShadows.value=ce.state.spotShadow,ct.rectAreaLights.value=ce.state.rectArea,ct.ltc_1.value=ce.state.rectAreaLTC1,ct.ltc_2.value=ce.state.rectAreaLTC2,ct.pointLights.value=ce.state.point,ct.pointLightShadows.value=ce.state.pointShadow,ct.hemisphereLights.value=ce.state.hemi,ct.directionalShadowMap.value=ce.state.directionalShadowMap,ct.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,ct.spotShadowMap.value=ce.state.spotShadowMap,ct.spotLightMatrix.value=ce.state.spotLightMatrix,ct.spotLightMap.value=ce.state.spotLightMap,ct.pointShadowMap.value=ce.state.pointShadowMap,ct.pointShadowMatrix.value=ce.state.pointShadowMatrix),pe.currentProgram=St,pe.uniformsList=null,St}function ya(z){if(z.uniformsList===null){const oe=z.currentProgram.getUniforms();z.uniformsList=Cp.seqWithValue(oe.seq,z.uniforms)}return z.uniformsList}function El(z,oe){const ye=Qe.get(z);ye.outputColorSpace=oe.outputColorSpace,ye.batching=oe.batching,ye.batchingColor=oe.batchingColor,ye.instancing=oe.instancing,ye.instancingColor=oe.instancingColor,ye.instancingMorph=oe.instancingMorph,ye.skinning=oe.skinning,ye.morphTargets=oe.morphTargets,ye.morphNormals=oe.morphNormals,ye.morphColors=oe.morphColors,ye.morphTargetsCount=oe.morphTargetsCount,ye.numClippingPlanes=oe.numClippingPlanes,ye.numIntersection=oe.numClipIntersection,ye.vertexAlphas=oe.vertexAlphas,ye.vertexTangents=oe.vertexTangents,ye.toneMapping=oe.toneMapping}function Tg(z,oe,ye,pe,ce){oe.isScene!==!0&&(oe=Ne),j.resetTextureUnits();const Pe=oe.fog,Be=pe.isMeshStandardMaterial?oe.environment:null,We=I===null?T.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Bu,Ge=(pe.isMeshStandardMaterial?fe:U).get(pe.envMap||Be),xt=pe.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,St=!!ye.attributes.tangent&&(!!pe.normalMap||pe.anisotropy>0),ct=!!ye.morphAttributes.position,Ft=!!ye.morphAttributes.normal,Bt=!!ye.morphAttributes.color;let bn=Js;pe.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(bn=T.toneMapping);const qt=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,Et=qt!==void 0?qt.length:0,dt=Qe.get(pe),qn=b.state.lights;if(W===!0&&(ue===!0||z!==R)){const Rn=z===R&&pe.id===A;Oe.setState(pe,z,Rn)}let zt=!1;pe.version===dt.__version?(dt.needsLights&&dt.lightsStateVersion!==qn.state.version||dt.outputColorSpace!==We||ce.isBatchedMesh&&dt.batching===!1||!ce.isBatchedMesh&&dt.batching===!0||ce.isBatchedMesh&&dt.batchingColor===!0&&ce.colorTexture===null||ce.isBatchedMesh&&dt.batchingColor===!1&&ce.colorTexture!==null||ce.isInstancedMesh&&dt.instancing===!1||!ce.isInstancedMesh&&dt.instancing===!0||ce.isSkinnedMesh&&dt.skinning===!1||!ce.isSkinnedMesh&&dt.skinning===!0||ce.isInstancedMesh&&dt.instancingColor===!0&&ce.instanceColor===null||ce.isInstancedMesh&&dt.instancingColor===!1&&ce.instanceColor!==null||ce.isInstancedMesh&&dt.instancingMorph===!0&&ce.morphTexture===null||ce.isInstancedMesh&&dt.instancingMorph===!1&&ce.morphTexture!==null||dt.envMap!==Ge||pe.fog===!0&&dt.fog!==Pe||dt.numClippingPlanes!==void 0&&(dt.numClippingPlanes!==Oe.numPlanes||dt.numIntersection!==Oe.numIntersection)||dt.vertexAlphas!==xt||dt.vertexTangents!==St||dt.morphTargets!==ct||dt.morphNormals!==Ft||dt.morphColors!==Bt||dt.toneMapping!==bn||dt.morphTargetsCount!==Et)&&(zt=!0):(zt=!0,dt.__version=pe.version);let Di=dt.currentProgram;zt===!0&&(Di=Yn(pe,oe,ce));let Mr=!1,xi=!1,Jn=!1;const dn=Di.getUniforms(),Si=dt.uniforms;if(Ze.useProgram(Di.program)&&(Mr=!0,xi=!0,Jn=!0),pe.id!==A&&(A=pe.id,xi=!0),Mr||R!==z){Ze.buffers.depth.getReversed()?(le.copy(z.projectionMatrix),O5(le),P5(le),dn.setValue(Q,"projectionMatrix",le)):dn.setValue(Q,"projectionMatrix",z.projectionMatrix),dn.setValue(Q,"viewMatrix",z.matrixWorldInverse);const ci=dn.map.cameraPosition;ci!==void 0&&ci.setValue(Q,Ae.setFromMatrixPosition(z.matrixWorld)),pt.logarithmicDepthBuffer&&dn.setValue(Q,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial)&&dn.setValue(Q,"isOrthographic",z.isOrthographicCamera===!0),R!==z&&(R=z,xi=!0,Jn=!0)}if(ce.isSkinnedMesh){dn.setOptional(Q,ce,"bindMatrix"),dn.setOptional(Q,ce,"bindMatrixInverse");const Rn=ce.skeleton;Rn&&(Rn.boneTexture===null&&Rn.computeBoneTexture(),dn.setValue(Q,"boneTexture",Rn.boneTexture,j))}ce.isBatchedMesh&&(dn.setOptional(Q,ce,"batchingTexture"),dn.setValue(Q,"batchingTexture",ce._matricesTexture,j),dn.setOptional(Q,ce,"batchingIdTexture"),dn.setValue(Q,"batchingIdTexture",ce._indirectTexture,j),dn.setOptional(Q,ce,"batchingColorTexture"),ce._colorsTexture!==null&&dn.setValue(Q,"batchingColorTexture",ce._colorsTexture,j));const gi=ye.morphAttributes;if((gi.position!==void 0||gi.normal!==void 0||gi.color!==void 0)&&Xe.update(ce,ye,Di),(xi||dt.receiveShadow!==ce.receiveShadow)&&(dt.receiveShadow=ce.receiveShadow,dn.setValue(Q,"receiveShadow",ce.receiveShadow)),pe.isMeshGouraudMaterial&&pe.envMap!==null&&(Si.envMap.value=Ge,Si.flipEnvMap.value=Ge.isCubeTexture&&Ge.isRenderTargetTexture===!1?-1:1),pe.isMeshStandardMaterial&&pe.envMap===null&&oe.environment!==null&&(Si.envMapIntensity.value=oe.environmentIntensity),xi&&(dn.setValue(Q,"toneMappingExposure",T.toneMappingExposure),dt.needsLights&&Cg(Si,Jn),Pe&&pe.fog===!0&&ke.refreshFogUniforms(Si,Pe),ke.refreshMaterialUniforms(Si,pe,G,Y,b.state.transmissionRenderTarget[z.id]),Cp.upload(Q,ya(dt),Si,j)),pe.isShaderMaterial&&pe.uniformsNeedUpdate===!0&&(Cp.upload(Q,ya(dt),Si,j),pe.uniformsNeedUpdate=!1),pe.isSpriteMaterial&&dn.setValue(Q,"center",ce.center),dn.setValue(Q,"modelViewMatrix",ce.modelViewMatrix),dn.setValue(Q,"normalMatrix",ce.normalMatrix),dn.setValue(Q,"modelMatrix",ce.matrixWorld),pe.isShaderMaterial||pe.isRawShaderMaterial){const Rn=pe.uniformsGroups;for(let ci=0,wl=Rn.length;ci<wl;ci++){const Li=Rn[ci];re.update(Li,Di),re.bind(Li,Di)}}return Di}function Cg(z,oe){z.ambientLightColor.needsUpdate=oe,z.lightProbe.needsUpdate=oe,z.directionalLights.needsUpdate=oe,z.directionalLightShadows.needsUpdate=oe,z.pointLights.needsUpdate=oe,z.pointLightShadows.needsUpdate=oe,z.spotLights.needsUpdate=oe,z.spotLightShadows.needsUpdate=oe,z.rectAreaLights.needsUpdate=oe,z.hemisphereLights.needsUpdate=oe}function xf(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(z,oe,ye){Qe.get(z.texture).__webglTexture=oe,Qe.get(z.depthTexture).__webglTexture=ye;const pe=Qe.get(z);pe.__hasExternalTextures=!0,pe.__autoAllocateDepthBuffer=ye===void 0,pe.__autoAllocateDepthBuffer||mt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),pe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(z,oe){const ye=Qe.get(z);ye.__webglFramebuffer=oe,ye.__useDefaultFramebuffer=oe===void 0};const po=Q.createFramebuffer();this.setRenderTarget=function(z,oe=0,ye=0){I=z,L=oe,D=ye;let pe=!0,ce=null,Pe=!1,Be=!1;if(z){const Ge=Qe.get(z);if(Ge.__useDefaultFramebuffer!==void 0)Ze.bindFramebuffer(Q.FRAMEBUFFER,null),pe=!1;else if(Ge.__webglFramebuffer===void 0)j.setupRenderTarget(z);else if(Ge.__hasExternalTextures)j.rebindTextures(z,Qe.get(z.texture).__webglTexture,Qe.get(z.depthTexture).__webglTexture);else if(z.depthBuffer){const ct=z.depthTexture;if(Ge.__boundDepthTexture!==ct){if(ct!==null&&Qe.has(ct)&&(z.width!==ct.image.width||z.height!==ct.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");j.setupDepthRenderbuffer(z)}}const xt=z.texture;(xt.isData3DTexture||xt.isDataArrayTexture||xt.isCompressedArrayTexture)&&(Be=!0);const St=Qe.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(Array.isArray(St[oe])?ce=St[oe][ye]:ce=St[oe],Pe=!0):z.samples>0&&j.useMultisampledRTT(z)===!1?ce=Qe.get(z).__webglMultisampledFramebuffer:Array.isArray(St)?ce=St[ye]:ce=St,N.copy(z.viewport),X.copy(z.scissor),$=z.scissorTest}else N.copy(ee).multiplyScalar(G).floor(),X.copy(J).multiplyScalar(G).floor(),$=ie;if(ye!==0&&(ce=po),Ze.bindFramebuffer(Q.FRAMEBUFFER,ce)&&pe&&Ze.drawBuffers(z,ce),Ze.viewport(N),Ze.scissor(X),Ze.setScissorTest($),Pe){const Ge=Qe.get(z.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ge.__webglTexture,ye)}else if(Be){const Ge=Qe.get(z.texture),xt=oe;Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Ge.__webglTexture,ye,xt)}else if(z!==null&&ye!==0){const Ge=Qe.get(z.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Ge.__webglTexture,ye)}A=-1},this.readRenderTargetPixels=function(z,oe,ye,pe,ce,Pe,Be){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let We=Qe.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&Be!==void 0&&(We=We[Be]),We){Ze.bindFramebuffer(Q.FRAMEBUFFER,We);try{const Ge=z.texture,xt=Ge.format,St=Ge.type;if(!pt.textureFormatReadable(xt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!pt.textureTypeReadable(St)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=z.width-pe&&ye>=0&&ye<=z.height-ce&&Q.readPixels(oe,ye,pe,ce,it.convert(xt),it.convert(St),Pe)}finally{const Ge=I!==null?Qe.get(I).__webglFramebuffer:null;Ze.bindFramebuffer(Q.FRAMEBUFFER,Ge)}}},this.readRenderTargetPixelsAsync=async function(z,oe,ye,pe,ce,Pe,Be){if(!(z&&z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let We=Qe.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&Be!==void 0&&(We=We[Be]),We){const Ge=z.texture,xt=Ge.format,St=Ge.type;if(!pt.textureFormatReadable(xt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!pt.textureTypeReadable(St))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(oe>=0&&oe<=z.width-pe&&ye>=0&&ye<=z.height-ce){Ze.bindFramebuffer(Q.FRAMEBUFFER,We);const ct=Q.createBuffer();Q.bindBuffer(Q.PIXEL_PACK_BUFFER,ct),Q.bufferData(Q.PIXEL_PACK_BUFFER,Pe.byteLength,Q.STREAM_READ),Q.readPixels(oe,ye,pe,ce,it.convert(xt),it.convert(St),0);const Ft=I!==null?Qe.get(I).__webglFramebuffer:null;Ze.bindFramebuffer(Q.FRAMEBUFFER,Ft);const Bt=Q.fenceSync(Q.SYNC_GPU_COMMANDS_COMPLETE,0);return Q.flush(),await L5(Q,Bt,4),Q.bindBuffer(Q.PIXEL_PACK_BUFFER,ct),Q.getBufferSubData(Q.PIXEL_PACK_BUFFER,0,Pe),Q.deleteBuffer(ct),Q.deleteSync(Bt),Pe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(z,oe=null,ye=0){z.isTexture!==!0&&(yu("WebGLRenderer: copyFramebufferToTexture function signature has changed."),oe=arguments[0]||null,z=arguments[1]);const pe=Math.pow(2,-ye),ce=Math.floor(z.image.width*pe),Pe=Math.floor(z.image.height*pe),Be=oe!==null?oe.x:0,We=oe!==null?oe.y:0;j.setTexture2D(z,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,ye,0,0,Be,We,ce,Pe),Ze.unbindTexture()};const dc=Q.createFramebuffer(),_a=Q.createFramebuffer();this.copyTextureToTexture=function(z,oe,ye=null,pe=null,ce=0,Pe=null){z.isTexture!==!0&&(yu("WebGLRenderer: copyTextureToTexture function signature has changed."),pe=arguments[0]||null,z=arguments[1],oe=arguments[2],Pe=arguments[3]||0,ye=null),Pe===null&&(ce!==0?(yu("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Pe=ce,ce=0):Pe=0);let Be,We,Ge,xt,St,ct,Ft,Bt,bn;const qt=z.isCompressedTexture?z.mipmaps[Pe]:z.image;if(ye!==null)Be=ye.max.x-ye.min.x,We=ye.max.y-ye.min.y,Ge=ye.isBox3?ye.max.z-ye.min.z:1,xt=ye.min.x,St=ye.min.y,ct=ye.isBox3?ye.min.z:0;else{const gi=Math.pow(2,-ce);Be=Math.floor(qt.width*gi),We=Math.floor(qt.height*gi),z.isDataArrayTexture?Ge=qt.depth:z.isData3DTexture?Ge=Math.floor(qt.depth*gi):Ge=1,xt=0,St=0,ct=0}pe!==null?(Ft=pe.x,Bt=pe.y,bn=pe.z):(Ft=0,Bt=0,bn=0);const Et=it.convert(oe.format),dt=it.convert(oe.type);let qn;oe.isData3DTexture?(j.setTexture3D(oe,0),qn=Q.TEXTURE_3D):oe.isDataArrayTexture||oe.isCompressedArrayTexture?(j.setTexture2DArray(oe,0),qn=Q.TEXTURE_2D_ARRAY):(j.setTexture2D(oe,0),qn=Q.TEXTURE_2D),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,oe.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,oe.unpackAlignment);const zt=Q.getParameter(Q.UNPACK_ROW_LENGTH),Di=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),Mr=Q.getParameter(Q.UNPACK_SKIP_PIXELS),xi=Q.getParameter(Q.UNPACK_SKIP_ROWS),Jn=Q.getParameter(Q.UNPACK_SKIP_IMAGES);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,qt.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,qt.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,xt),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,St),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,ct);const dn=z.isDataArrayTexture||z.isData3DTexture,Si=oe.isDataArrayTexture||oe.isData3DTexture;if(z.isDepthTexture){const gi=Qe.get(z),Rn=Qe.get(oe),ci=Qe.get(gi.__renderTarget),wl=Qe.get(Rn.__renderTarget);Ze.bindFramebuffer(Q.READ_FRAMEBUFFER,ci.__webglFramebuffer),Ze.bindFramebuffer(Q.DRAW_FRAMEBUFFER,wl.__webglFramebuffer);for(let Li=0;Li<Ge;Li++)dn&&(Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Qe.get(z).__webglTexture,ce,ct+Li),Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Qe.get(oe).__webglTexture,Pe,bn+Li)),Q.blitFramebuffer(xt,St,Be,We,Ft,Bt,Be,We,Q.DEPTH_BUFFER_BIT,Q.NEAREST);Ze.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else if(ce!==0||z.isRenderTargetTexture||Qe.has(z)){const gi=Qe.get(z),Rn=Qe.get(oe);Ze.bindFramebuffer(Q.READ_FRAMEBUFFER,dc),Ze.bindFramebuffer(Q.DRAW_FRAMEBUFFER,_a);for(let ci=0;ci<Ge;ci++)dn?Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,gi.__webglTexture,ce,ct+ci):Q.framebufferTexture2D(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,gi.__webglTexture,ce),Si?Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Rn.__webglTexture,Pe,bn+ci):Q.framebufferTexture2D(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Rn.__webglTexture,Pe),ce!==0?Q.blitFramebuffer(xt,St,Be,We,Ft,Bt,Be,We,Q.COLOR_BUFFER_BIT,Q.NEAREST):Si?Q.copyTexSubImage3D(qn,Pe,Ft,Bt,bn+ci,xt,St,Be,We):Q.copyTexSubImage2D(qn,Pe,Ft,Bt,xt,St,Be,We);Ze.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else Si?z.isDataTexture||z.isData3DTexture?Q.texSubImage3D(qn,Pe,Ft,Bt,bn,Be,We,Ge,Et,dt,qt.data):oe.isCompressedArrayTexture?Q.compressedTexSubImage3D(qn,Pe,Ft,Bt,bn,Be,We,Ge,Et,qt.data):Q.texSubImage3D(qn,Pe,Ft,Bt,bn,Be,We,Ge,Et,dt,qt):z.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,Pe,Ft,Bt,Be,We,Et,dt,qt.data):z.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,Pe,Ft,Bt,qt.width,qt.height,Et,qt.data):Q.texSubImage2D(Q.TEXTURE_2D,Pe,Ft,Bt,Be,We,Et,dt,qt);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,zt),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Di),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Mr),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,xi),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Jn),Pe===0&&oe.generateMipmaps&&Q.generateMipmap(qn),Ze.unbindTexture()},this.copyTextureToTexture3D=function(z,oe,ye=null,pe=null,ce=0){return z.isTexture!==!0&&(yu("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ye=arguments[0]||null,pe=arguments[1]||null,z=arguments[2],oe=arguments[3],ce=arguments[4]||0),yu('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(z,oe,ye,pe,ce)},this.initRenderTarget=function(z){Qe.get(z).__webglFramebuffer===void 0&&j.setupRenderTarget(z)},this.initTexture=function(z){z.isCubeTexture?j.setTextureCube(z,0):z.isData3DTexture?j.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?j.setTexture2DArray(z,0):j.setTexture2D(z,0),Ze.unbindTexture()},this.resetState=function(){L=0,D=0,I=null,Ze.reset(),jt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return $a}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Zt._getDrawingBufferColorSpace(e),t.unpackColorSpace=Zt._getUnpackColorSpace()}}var Ui=function(){return Ui=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ui.apply(this,arguments)};function mm(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var xn="-ms-",Od="-moz-",rn="-webkit-",r2="comm",rg="rule",vx="decl",J9="@import",a2="@keyframes",eG="@layer",s2=Math.abs,yx=String.fromCharCode,nb=Object.assign;function tG(n,e){return si(n,0)^45?(((e<<2^si(n,0))<<2^si(n,1))<<2^si(n,2))<<2^si(n,3):0}function o2(n){return n.trim()}function Ha(n,e){return(n=e.exec(n))?n[0]:n}function Dt(n,e,t){return n.replace(e,t)}function Ap(n,e,t){return n.indexOf(e,t)}function si(n,e){return n.charCodeAt(e)|0}function Hu(n,e,t){return n.slice(e,t)}function Xr(n){return n.length}function l2(n){return n.length}function Td(n,e){return e.push(n),n}function nG(n,e){return n.map(e).join("")}function mT(n,e){return n.filter(function(t){return!Ha(t,e)})}var ag=1,Vu=1,u2=0,Er=0,Vn=0,sc="";function sg(n,e,t,i,r,s,l,u){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:ag,column:Vu,length:l,return:"",siblings:u}}function Hs(n,e){return nb(sg("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function pu(n){for(;n.root;)n=Hs(n.root,{children:[n]});Td(n,n.siblings)}function iG(){return Vn}function rG(){return Vn=Er>0?si(sc,--Er):0,Vu--,Vn===10&&(Vu=1,ag--),Vn}function Fr(){return Vn=Er<u2?si(sc,Er++):0,Vu++,Vn===10&&(Vu=1,ag++),Vn}function tl(){return si(sc,Er)}function Rp(){return Er}function og(n,e){return Hu(sc,n,e)}function ib(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function aG(n){return ag=Vu=1,u2=Xr(sc=n),Er=0,[]}function sG(n){return sc="",n}function w0(n){return o2(og(Er-1,rb(n===91?n+2:n===40?n+1:n)))}function oG(n){for(;(Vn=tl())&&Vn<33;)Fr();return ib(n)>2||ib(Vn)>3?"":" "}function lG(n,e){for(;--e&&Fr()&&!(Vn<48||Vn>102||Vn>57&&Vn<65||Vn>70&&Vn<97););return og(n,Rp()+(e<6&&tl()==32&&Fr()==32))}function rb(n){for(;Fr();)switch(Vn){case n:return Er;case 34:case 39:n!==34&&n!==39&&rb(Vn);break;case 40:n===41&&rb(n);break;case 92:Fr();break}return Er}function uG(n,e){for(;Fr()&&n+Vn!==57;)if(n+Vn===84&&tl()===47)break;return"/*"+og(e,Er-1)+"*"+yx(n===47?n:Fr())}function cG(n){for(;!ib(tl());)Fr();return og(n,Er)}function dG(n){return sG(Dp("",null,null,null,[""],n=aG(n),0,[0],n))}function Dp(n,e,t,i,r,s,l,u,d){for(var f=0,p=0,m=l,g=0,v=0,_=0,w=1,x=1,b=1,M=0,C="",T=r,O=s,L=i,D=C;x;)switch(_=M,M=Fr()){case 40:if(_!=108&&si(D,m-1)==58){Ap(D+=Dt(w0(M),"&","&\f"),"&\f",s2(f?u[f-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:D+=w0(M);break;case 9:case 10:case 13:case 32:D+=oG(_);break;case 92:D+=lG(Rp()-1,7);continue;case 47:switch(tl()){case 42:case 47:Td(fG(uG(Fr(),Rp()),e,t,d),d);break;default:D+="/"}break;case 123*w:u[f++]=Xr(D)*b;case 125*w:case 59:case 0:switch(M){case 0:case 125:x=0;case 59+p:b==-1&&(D=Dt(D,/\f/g,"")),v>0&&Xr(D)-m&&Td(v>32?vT(D+";",i,t,m-1,d):vT(Dt(D," ","")+";",i,t,m-2,d),d);break;case 59:D+=";";default:if(Td(L=gT(D,e,t,f,p,r,u,C,T=[],O=[],m,s),s),M===123)if(p===0)Dp(D,e,L,L,T,s,m,u,O);else switch(g===99&&si(D,3)===110?100:g){case 100:case 108:case 109:case 115:Dp(n,L,L,i&&Td(gT(n,L,L,0,0,r,u,C,r,T=[],m,O),O),r,O,m,u,i?T:O);break;default:Dp(D,L,L,L,[""],O,0,u,O)}}f=p=v=0,w=b=1,C=D="",m=l;break;case 58:m=1+Xr(D),v=_;default:if(w<1){if(M==123)--w;else if(M==125&&w++==0&&rG()==125)continue}switch(D+=yx(M),M*w){case 38:b=p>0?1:(D+="\f",-1);break;case 44:u[f++]=(Xr(D)-1)*b,b=1;break;case 64:tl()===45&&(D+=w0(Fr())),g=tl(),p=m=Xr(C=D+=cG(Rp())),M++;break;case 45:_===45&&Xr(D)==2&&(w=0)}}return s}function gT(n,e,t,i,r,s,l,u,d,f,p,m){for(var g=r-1,v=r===0?s:[""],_=l2(v),w=0,x=0,b=0;w<i;++w)for(var M=0,C=Hu(n,g+1,g=s2(x=l[w])),T=n;M<_;++M)(T=o2(x>0?v[M]+" "+C:Dt(C,/&\f/g,v[M])))&&(d[b++]=T);return sg(n,e,t,r===0?rg:u,d,f,p,m)}function fG(n,e,t,i){return sg(n,e,t,r2,yx(iG()),Hu(n,2,-2),0,i)}function vT(n,e,t,i,r){return sg(n,e,t,vx,Hu(n,0,i),Hu(n,i+1,-1),i,r)}function c2(n,e,t){switch(tG(n,e)){case 5103:return rn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rn+n+n;case 4789:return Od+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rn+n+Od+n+xn+n+n;case 5936:switch(si(n,e+11)){case 114:return rn+n+xn+Dt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rn+n+xn+Dt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rn+n+xn+Dt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return rn+n+xn+n+n;case 6165:return rn+n+xn+"flex-"+n+n;case 5187:return rn+n+Dt(n,/(\w+).+(:[^]+)/,rn+"box-$1$2"+xn+"flex-$1$2")+n;case 5443:return rn+n+xn+"flex-item-"+Dt(n,/flex-|-self/g,"")+(Ha(n,/flex-|baseline/)?"":xn+"grid-row-"+Dt(n,/flex-|-self/g,""))+n;case 4675:return rn+n+xn+"flex-line-pack"+Dt(n,/align-content|flex-|-self/g,"")+n;case 5548:return rn+n+xn+Dt(n,"shrink","negative")+n;case 5292:return rn+n+xn+Dt(n,"basis","preferred-size")+n;case 6060:return rn+"box-"+Dt(n,"-grow","")+rn+n+xn+Dt(n,"grow","positive")+n;case 4554:return rn+Dt(n,/([^-])(transform)/g,"$1"+rn+"$2")+n;case 6187:return Dt(Dt(Dt(n,/(zoom-|grab)/,rn+"$1"),/(image-set)/,rn+"$1"),n,"")+n;case 5495:case 3959:return Dt(n,/(image-set\([^]*)/,rn+"$1$`$1");case 4968:return Dt(Dt(n,/(.+:)(flex-)?(.*)/,rn+"box-pack:$3"+xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rn+n+n;case 4200:if(!Ha(n,/flex-|baseline/))return xn+"grid-column-align"+Hu(n,e)+n;break;case 2592:case 3360:return xn+Dt(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,r){return e=r,Ha(i.props,/grid-\w+-end/)})?~Ap(n+(t=t[e].value),"span",0)?n:xn+Dt(n,"-start","")+n+xn+"grid-row-span:"+(~Ap(t,"span",0)?Ha(t,/\d+/):+Ha(t,/\d+/)-+Ha(n,/\d+/))+";":xn+Dt(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return Ha(i.props,/grid-\w+-start/)})?n:xn+Dt(Dt(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Dt(n,/(.+)-inline(.+)/,rn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xr(n)-1-e>6)switch(si(n,e+1)){case 109:if(si(n,e+4)!==45)break;case 102:return Dt(n,/(.+:)(.+)-([^]+)/,"$1"+rn+"$2-$3$1"+Od+(si(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ap(n,"stretch",0)?c2(Dt(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Dt(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,r,s,l,u,d,f){return xn+r+":"+s+f+(l?xn+r+"-span:"+(u?d:+d-+s)+f:"")+n});case 4949:if(si(n,e+6)===121)return Dt(n,":",":"+rn)+n;break;case 6444:switch(si(n,si(n,14)===45?18:11)){case 120:return Dt(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+rn+(si(n,14)===45?"inline-":"")+"box$3$1"+rn+"$2$3$1"+xn+"$2box$3")+n;case 100:return Dt(n,":",":"+xn)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Dt(n,"scroll-","scroll-snap-")+n}return n}function gm(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function hG(n,e,t,i){switch(n.type){case eG:if(n.children.length)break;case J9:case vx:return n.return=n.return||n.value;case r2:return"";case a2:return n.return=n.value+"{"+gm(n.children,i)+"}";case rg:if(!Xr(n.value=n.props.join(",")))return""}return Xr(t=gm(n.children,i))?n.return=n.value+"{"+t+"}":""}function pG(n){var e=l2(n);return function(t,i,r,s){for(var l="",u=0;u<e;u++)l+=n[u](t,i,r,s)||"";return l}}function mG(n){return function(e){e.root||(e=e.return)&&n(e)}}function gG(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case vx:n.return=c2(n.value,n.length,t);return;case a2:return gm([Hs(n,{value:Dt(n.value,"@","@"+rn)})],i);case rg:if(n.length)return nG(t=n.props,function(r){switch(Ha(r,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":pu(Hs(n,{props:[Dt(r,/:(read-\w+)/,":"+Od+"$1")]})),pu(Hs(n,{props:[r]})),nb(n,{props:mT(t,i)});break;case"::placeholder":pu(Hs(n,{props:[Dt(r,/:(plac\w+)/,":"+rn+"input-$1")]})),pu(Hs(n,{props:[Dt(r,/:(plac\w+)/,":"+Od+"$1")]})),pu(Hs(n,{props:[Dt(r,/:(plac\w+)/,xn+"input-$1")]})),pu(Hs(n,{props:[r]})),nb(n,{props:mT(t,i)});break}return""})}}var vG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qi={},Gu=typeof process<"u"&&Qi!==void 0&&(Qi.REACT_APP_SC_ATTR||Qi.SC_ATTR)||"data-styled",d2="active",f2="data-styled-version",lg="6.1.15",_x=`/*!sc*/
`,vm=typeof window<"u"&&"HTMLElement"in window,yG=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Qi!==void 0&&Qi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Qi.REACT_APP_SC_DISABLE_SPEEDY!==""?Qi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Qi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Qi!==void 0&&Qi.SC_DISABLE_SPEEDY!==void 0&&Qi.SC_DISABLE_SPEEDY!==""&&Qi.SC_DISABLE_SPEEDY!=="false"&&Qi.SC_DISABLE_SPEEDY),ug=Object.freeze([]),ju=Object.freeze({});function _G(n,e,t){return t===void 0&&(t=ju),n.theme!==t.theme&&n.theme||e||t.theme}var h2=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),bG=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,xG=/(^-|-$)/g;function yT(n){return n.replace(bG,"-").replace(xG,"")}var SG=/(a)(d)/gi,Xh=52,_T=function(n){return String.fromCharCode(n+(n>25?39:97))};function ab(n){var e,t="";for(e=Math.abs(n);e>Xh;e=e/Xh|0)t=_T(e%Xh)+t;return(_T(e%Xh)+t).replace(SG,"$1-$2")}var M0,p2=5381,xu=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},m2=function(n){return xu(p2,n)};function EG(n){return ab(m2(n)>>>0)}function wG(n){return n.displayName||n.name||"Component"}function T0(n){return typeof n=="string"&&!0}var g2=typeof Symbol=="function"&&Symbol.for,v2=g2?Symbol.for("react.memo"):60115,MG=g2?Symbol.for("react.forward_ref"):60112,TG={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},CG={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},AG=((M0={})[MG]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},M0[v2]=y2,M0);function bT(n){return("type"in(e=n)&&e.type.$$typeof)===v2?y2:"$$typeof"in n?AG[n.$$typeof]:TG;var e}var RG=Object.defineProperty,DG=Object.getOwnPropertyNames,xT=Object.getOwnPropertySymbols,LG=Object.getOwnPropertyDescriptor,OG=Object.getPrototypeOf,ST=Object.prototype;function _2(n,e,t){if(typeof e!="string"){if(ST){var i=OG(e);i&&i!==ST&&_2(n,i,t)}var r=DG(e);xT&&(r=r.concat(xT(e)));for(var s=bT(n),l=bT(e),u=0;u<r.length;++u){var d=r[u];if(!(d in CG||t&&t[d]||l&&d in l||s&&d in s)){var f=LG(e,d);try{RG(n,d,f)}catch{}}}}return n}function Wu(n){return typeof n=="function"}function bx(n){return typeof n=="object"&&"styledComponentId"in n}function Qo(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function ET(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=n[i];return t}function Vd(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function sb(n,e,t){if(t===void 0&&(t=!1),!t&&!Vd(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=sb(n[i],e[i]);else if(Vd(e))for(var i in e)n[i]=sb(n[i],e[i]);return n}function xx(n,e){Object.defineProperty(n,"toString",{value:e})}function hf(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var PG=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,s=r;e>=s;)if((s<<=1)<0)throw hf(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var l=r;l<s;l++)this.groupSizes[l]=0}for(var u=this.indexOfGroup(e+1),d=(l=0,t.length);l<d;l++)this.tag.insertRule(u,t[l])&&(this.groupSizes[e]++,u++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),r=i+t;this.groupSizes[e]=0;for(var s=i;s<r;s++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),s=r+i,l=r;l<s;l++)t+="".concat(this.tag.getRule(l)).concat(_x);return t},n}(),Lp=new Map,ym=new Map,Op=1,Kh=function(n){if(Lp.has(n))return Lp.get(n);for(;ym.has(Op);)Op++;var e=Op++;return Lp.set(n,e),ym.set(e,n),e},IG=function(n,e){Op=e+1,Lp.set(n,e),ym.set(e,n)},NG="style[".concat(Gu,"][").concat(f2,'="').concat(lg,'"]'),kG=new RegExp("^".concat(Gu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),UG=function(n,e,t){for(var i,r=t.split(","),s=0,l=r.length;s<l;s++)(i=r[s])&&n.registerName(e,i)},FG=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(_x),r=[],s=0,l=i.length;s<l;s++){var u=i[s].trim();if(u){var d=u.match(kG);if(d){var f=0|parseInt(d[1],10),p=d[2];f!==0&&(IG(p,f),UG(n,p,d[3]),n.getTag().insertRules(f,r)),r.length=0}else r.push(u)}}},wT=function(n){for(var e=document.querySelectorAll(NG),t=0,i=e.length;t<i;t++){var r=e[t];r&&r.getAttribute(Gu)!==d2&&(FG(n,r),r.parentNode&&r.parentNode.removeChild(r))}};function BG(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var b2=function(n){var e=document.head,t=n||e,i=document.createElement("style"),r=function(u){var d=Array.from(u.querySelectorAll("style[".concat(Gu,"]")));return d[d.length-1]}(t),s=r!==void 0?r.nextSibling:null;i.setAttribute(Gu,d2),i.setAttribute(f2,lg);var l=BG();return l&&i.setAttribute("nonce",l),t.insertBefore(i,s),i},zG=function(){function n(e){this.element=b2(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,r=0,s=i.length;r<s;r++){var l=i[r];if(l.ownerNode===t)return l}throw hf(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),HG=function(){function n(e){this.element=b2(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),VG=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),MT=vm,GG={isServer:!vm,useCSSOMInjection:!yG},x2=function(){function n(e,t,i){e===void 0&&(e=ju),t===void 0&&(t={});var r=this;this.options=Ui(Ui({},GG),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&vm&&MT&&(MT=!1,wT(this)),xx(this,function(){return function(s){for(var l=s.getTag(),u=l.length,d="",f=function(m){var g=function(b){return ym.get(b)}(m);if(g===void 0)return"continue";var v=s.names.get(g),_=l.getGroup(m);if(v===void 0||!v.size||_.length===0)return"continue";var w="".concat(Gu,".g").concat(m,'[id="').concat(g,'"]'),x="";v!==void 0&&v.forEach(function(b){b.length>0&&(x+="".concat(b,","))}),d+="".concat(_).concat(w,'{content:"').concat(x,'"}').concat(_x)},p=0;p<u;p++)f(p);return d}(r)})}return n.registerId=function(e){return Kh(e)},n.prototype.rehydrate=function(){!this.server&&vm&&wT(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Ui(Ui({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var i=t.useCSSOMInjection,r=t.target;return t.isServer?new VG(r):i?new zG(r):new HG(r)}(this.options),new PG(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Kh(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(Kh(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Kh(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),jG=/&/g,WG=/^\s*\/\/.*$/gm;function S2(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=S2(t.children,e)),t})}function YG(n){var e,t,i,r=ju,s=r.options,l=s===void 0?ju:s,u=r.plugins,d=u===void 0?ug:u,f=function(g,v,_){return _.startsWith(t)&&_.endsWith(t)&&_.replaceAll(t,"").length>0?".".concat(e):g},p=d.slice();p.push(function(g){g.type===rg&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(jG,t).replace(i,f))}),l.prefix&&p.push(gG),p.push(hG);var m=function(g,v,_,w){v===void 0&&(v=""),_===void 0&&(_=""),w===void 0&&(w="&"),e=w,t=v,i=new RegExp("\\".concat(t,"\\b"),"g");var x=g.replace(WG,""),b=dG(_||v?"".concat(_," ").concat(v," { ").concat(x," }"):x);l.namespace&&(b=S2(b,l.namespace));var M=[];return gm(b,pG(p.concat(mG(function(C){return M.push(C)})))),M};return m.hash=d.length?d.reduce(function(g,v){return v.name||hf(15),xu(g,v.name)},p2).toString():"",m}var qG=new x2,ob=YG(),E2=ne.createContext({shouldForwardProp:void 0,styleSheet:qG,stylis:ob});E2.Consumer;ne.createContext(void 0);function TT(){return S.useContext(E2)}var $G=function(){function n(e,t){var i=this;this.inject=function(r,s){s===void 0&&(s=ob);var l=i.name+s.hash;r.hasNameForId(i.id,l)||r.insertRules(i.id,l,s(i.rules,l,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,xx(this,function(){throw hf(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=ob),this.name+e.hash},n}(),XG=function(n){return n>="A"&&n<="Z"};function CT(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;XG(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var w2=function(n){return n==null||n===!1||n===""},M2=function(n){var e,t,i=[];for(var r in n){var s=n[r];n.hasOwnProperty(r)&&!w2(s)&&(Array.isArray(s)&&s.isCss||Wu(s)?i.push("".concat(CT(r),":"),s,";"):Vd(s)?i.push.apply(i,mm(mm(["".concat(r," {")],M2(s),!1),["}"],!1)):i.push("".concat(CT(r),": ").concat((e=r,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in vG||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function nl(n,e,t,i){if(w2(n))return[];if(bx(n))return[".".concat(n.styledComponentId)];if(Wu(n)){if(!Wu(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var r=n(e);return nl(r,e,t,i)}var s;return n instanceof $G?t?(n.inject(t,i),[n.getName(i)]):[n]:Vd(n)?M2(n):Array.isArray(n)?Array.prototype.concat.apply(ug,n.map(function(l){return nl(l,e,t,i)})):[n.toString()]}function KG(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Wu(t)&&!bx(t))return!1}return!0}var ZG=m2(lg),QG=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&KG(e),this.componentId=t,this.baseHash=xu(ZG,t),this.baseStyle=i,x2.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Qo(r,this.staticRulesId);else{var s=ET(nl(this.rules,e,t,i)),l=ab(xu(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,l)){var u=i(s,".".concat(l),void 0,this.componentId);t.insertRules(this.componentId,l,u)}r=Qo(r,l),this.staticRulesId=l}else{for(var d=xu(this.baseHash,i.hash),f="",p=0;p<this.rules.length;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var g=ET(nl(m,e,t,i));d=xu(d,g+p),f+=g}}if(f){var v=ab(d>>>0);t.hasNameForId(this.componentId,v)||t.insertRules(this.componentId,v,i(f,".".concat(v),void 0,this.componentId)),r=Qo(r,v)}}return r},n}(),T2=ne.createContext(void 0);T2.Consumer;var C0={};function JG(n,e,t){var i=bx(n),r=n,s=!T0(n),l=e.attrs,u=l===void 0?ug:l,d=e.componentId,f=d===void 0?function(T,O){var L=typeof T!="string"?"sc":yT(T);C0[L]=(C0[L]||0)+1;var D="".concat(L,"-").concat(EG(lg+L+C0[L]));return O?"".concat(O,"-").concat(D):D}(e.displayName,e.parentComponentId):d,p=e.displayName,m=p===void 0?function(T){return T0(T)?"styled.".concat(T):"Styled(".concat(wG(T),")")}(n):p,g=e.displayName&&e.componentId?"".concat(yT(e.displayName),"-").concat(e.componentId):e.componentId||f,v=i&&r.attrs?r.attrs.concat(u).filter(Boolean):u,_=e.shouldForwardProp;if(i&&r.shouldForwardProp){var w=r.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;_=function(T,O){return w(T,O)&&x(T,O)}}else _=w}var b=new QG(t,g,i?r.componentStyle:void 0);function M(T,O){return function(L,D,I){var A=L.attrs,R=L.componentStyle,N=L.defaultProps,X=L.foldedComponentIds,$=L.styledComponentId,Z=L.target,K=ne.useContext(T2),H=TT(),Y=L.shouldForwardProp||H.shouldForwardProp,G=_G(D,K,N)||ju,te=function(W,ue,le){for(var he,Ae=Ui(Ui({},ue),{className:void 0,theme:le}),ge=0;ge<W.length;ge+=1){var Ne=Wu(he=W[ge])?he(Ae):he;for(var nt in Ne)Ae[nt]=nt==="className"?Qo(Ae[nt],Ne[nt]):nt==="style"?Ui(Ui({},Ae[nt]),Ne[nt]):Ne[nt]}return ue.className&&(Ae.className=Qo(Ae.className,ue.className)),Ae}(A,D,G),F=te.as||Z,ee={};for(var J in te)te[J]===void 0||J[0]==="$"||J==="as"||J==="theme"&&te.theme===G||(J==="forwardedAs"?ee.as=te.forwardedAs:Y&&!Y(J,F)||(ee[J]=te[J]));var ie=function(W,ue){var le=TT(),he=W.generateAndInjectStyles(ue,le.styleSheet,le.stylis);return he}(R,te),V=Qo(X,$);return ie&&(V+=" "+ie),te.className&&(V+=" "+te.className),ee[T0(F)&&!h2.has(F)?"class":"className"]=V,I&&(ee.ref=I),S.createElement(F,ee)}(C,T,O)}M.displayName=m;var C=ne.forwardRef(M);return C.attrs=v,C.componentStyle=b,C.displayName=m,C.shouldForwardProp=_,C.foldedComponentIds=i?Qo(r.foldedComponentIds,r.styledComponentId):"",C.styledComponentId=g,C.target=i?r.target:n,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=i?function(O){for(var L=[],D=1;D<arguments.length;D++)L[D-1]=arguments[D];for(var I=0,A=L;I<A.length;I++)sb(O,A[I],!0);return O}({},r.defaultProps,T):T}}),xx(C,function(){return".".concat(C.styledComponentId)}),s&&_2(C,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function AT(n,e){for(var t=[n[0]],i=0,r=e.length;i<r;i+=1)t.push(e[i],n[i+1]);return t}var RT=function(n){return Object.assign(n,{isCss:!0})};function ej(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Wu(n)||Vd(n))return RT(nl(AT(ug,mm([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?nl(i):RT(nl(AT(i,e)))}function lb(n,e,t){if(t===void 0&&(t=ju),!e)throw hf(1,e);var i=function(r){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];return n(e,t,ej.apply(void 0,mm([r],s,!1)))};return i.attrs=function(r){return lb(n,e,Ui(Ui({},t),{attrs:Array.prototype.concat(t.attrs,r).filter(Boolean)}))},i.withConfig=function(r){return lb(n,e,Ui(Ui({},t),r))},i}var C2=function(n){return lb(JG,n)},Sx=C2;h2.forEach(function(n){Sx[n]=C2(n)});var A0={exports:{}},R0,DT;function tj(){if(DT)return R0;DT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return R0=n,R0}var D0,LT;function nj(){if(LT)return D0;LT=1;var n=tj();function e(){}function t(){}return t.resetWarningCache=e,D0=function(){function i(l,u,d,f,p,m){if(m!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},D0}var OT;function ij(){return OT||(OT=1,A0.exports=nj()()),A0.exports}var rj=ij();const ai=Ob(rj),cg=({text:n="Login",onClick:e,className:t})=>k.jsx(aj,{children:k.jsx("button",{type:"button",className:t||"button",onClick:e,children:n})});cg.propTypes={text:ai.string,onClick:ai.func,className:ai.string};const aj=Sx.div`
  .button {
    padding: 10px 20px;
    background: linear-gradient(135deg, #ffab00 0%, #ff9100 100%);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.3s ease;
  }

  .button:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 171, 0, 0.3);
  }

  .button:active {
    transform: translateY(1px);
  }
`;function sj(){const n=S.useRef(null);return S.useEffect(()=>{const e=n.current,t=new aH,i=new Ji(75,window.innerWidth/window.innerHeight,.1,1e3),r=new Q9({antialias:!0,alpha:!0});r.setSize(window.innerWidth,window.innerHeight),e.appendChild(r.domElement);const s=new mx(3,64,64),l=new lH({color:16755456,opacity:.1,transparent:!0,wireframe:!0}),u=new ia(s,l);t.add(u);const d=new mH(16777215,.2);t.add(d);const f=new hH(16755456,1);f.position.set(10,10,10),t.add(f),i.position.z=10;const p=()=>{requestAnimationFrame(p),u.rotation.y+=.001,u.rotation.x+=5e-4,r.render(t,i)},m=()=>{i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",m),p(),()=>{window.removeEventListener("resize",m),e&&e.removeChild(r.domElement)}},[]),k.jsxs("div",{className:"hero-container",children:[k.jsx("div",{ref:n,className:"globe-container"}),k.jsxs("h1",{className:"hero-title",children:[k.jsx("span",{className:"hero-title-span",children:'"Dream, Explore, Discover:"'}),"AI-Crafted Journeys Tailored to Your Passions, Pace, and BudgetOptimized for Hidden Gems & Stress-Free Adventures."]}),k.jsx("p",{className:"hero-description",children:'"From first click to final destination, our AI designs trips as unique as you areguaranteed."'}),k.jsx("div",{className:"hero-button",children:k.jsx(ul,{to:"/create-trip",children:k.jsx(cg,{text:"Get Started, it's free!"})})})]})}const oj=()=>k.jsxs("div",{className:"create-trip-container",children:[k.jsxs("h1",{children:[k.jsx("span",{className:"fade-text",children:"Get Started with your trip with your very "}),k.jsx("br",{}),k.jsx("span",{className:"create-trip-container-span",children:"Own AI network"}),k.jsx("br",{}),k.jsx("span",{children:"Over 100+ destinations to choose from with the best AI network curated by our team"})]}),k.jsx("p",{children:"Hover over the images to see the magic"}),k.jsx(ul,{to:"/form",children:k.jsx(cg,{text:"CREATE YOUR JOURNEY",className:"create-button"})}),k.jsxs("div",{className:"list",children:[k.jsx("div",{className:"list-item",children:k.jsx("img",{src:"/image1.jpg",alt:"list-item"})}),k.jsx("div",{className:"list-item",children:k.jsx("img",{src:"/image2.jpg",alt:"list-item"})}),k.jsx("div",{className:"list-item",children:k.jsx("img",{src:"/image3.jpg",alt:"list-item"})}),k.jsx("div",{className:"list-item",children:k.jsx("img",{src:"/image4.jpg",alt:"list-item"})}),k.jsx("div",{className:"list-item",children:k.jsx("img",{src:"/image5.jpg",alt:"list-item"})}),k.jsx("div",{className:"list-item",children:k.jsx("img",{src:"/image6.jpg",alt:"list-item"})}),k.jsx("div",{className:"list-item",children:k.jsx("img",{src:"/image7.jpg",alt:"list-item"})})]})]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var il=function(){return il=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},il.apply(this,arguments)};function lj(n,e,t,i){return new(t||(t=Promise))(function(r,s){function l(f){try{d(i.next(f))}catch(p){s(p)}}function u(f){try{d(i.throw(f))}catch(p){s(p)}}function d(f){var p;f.done?r(f.value):(p=f.value,p instanceof t?p:new t(function(m){m(p)})).then(l,u)}d((i=i.apply(n,[])).next())})}function uj(n,e){var t,i,r,s,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(d){return function(f){return function(p){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,i&&(r=2&p[0]?i.return:p[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,p[1])).done)return r;switch(i=0,r&&(p=[2&p[0],r.value]),p[0]){case 0:case 1:r=p;break;case 4:return l.label++,{value:p[1],done:!1};case 5:l.label++,i=p[1],p=[0];continue;case 7:p=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!((r=r.length>0&&r[r.length-1])||p[0]!==6&&p[0]!==2)){l=0;continue}if(p[0]===3&&(!r||p[1]>r[0]&&p[1]<r[3])){l.label=p[1];break}if(p[0]===6&&l.label<r[1]){l.label=r[1],r=p;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(p);break}r[2]&&l.ops.pop(),l.trys.pop();continue}p=e.call(n,l)}catch(m){p=[6,m],i=0}finally{t=r=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([d,f])}}}function vt(){return vt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vt.apply(this,arguments)}function rl(n){return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(n)}function A2(n){var e=function(t,i){if(rl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,i);if(rl(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return rl(e)==="symbol"?e:String(e)}function Su(n,e,t){return(e=A2(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(t),!0).forEach(function(i){Su(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function IT(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,A2(i.key),i)}}function ub(n,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},ub(n,e)}function _m(n){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_m(n)}function cj(n,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)}function dj(n){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=_m(n);if(e){var r=_m(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return cj(this,t)}}function cb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function R2(n,e){if(n){if(typeof n=="string")return cb(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?cb(n,e):void 0}}function Ex(n){return function(e){if(Array.isArray(e))return cb(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||R2(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var fj=function(){function n(t){var i=this;this._insertTag=function(r){var s;s=i.tags.length===0?i.insertionPoint?i.insertionPoint.nextSibling:i.prepend?i.container.firstChild:i.before:i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(s){var l=document.createElement("style");return l.setAttribute("data-emotion",s.key),s.nonce!==void 0&&l.setAttribute("nonce",s.nonce),l.appendChild(document.createTextNode("")),l.setAttribute("data-s",""),l}(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(s){if(s.sheet)return s.sheet;for(var l=0;l<document.styleSheets.length;l++)if(document.styleSheets[l].ownerNode===s)return document.styleSheets[l]}(i);try{r.insertRule(t,r.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),this.tags=[],this.ctr=0},n}(),mr="-ms-",NT="-moz-",Jt="-webkit-",wx="decl",D2="@keyframes",hj=Math.abs,dg=String.fromCharCode,pj=Object.assign;function L2(n){return n.trim()}function an(n,e,t){return n.replace(e,t)}function db(n,e){return n.indexOf(e)}function pi(n,e){return 0|n.charCodeAt(e)}function Gd(n,e,t){return n.slice(e,t)}function Kr(n){return n.length}function Mx(n){return n.length}function Zh(n,e){return e.push(n),n}var fg=1,Yu=1,O2=0,Vi=0,Gn=0,oc="";function hg(n,e,t,i,r,s,l){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:fg,column:Yu,length:l,return:""}}function hd(n,e){return pj(hg("",null,null,"",null,null,0),n,{length:-n.length},e)}function nr(){return Gn=Vi<O2?pi(oc,Vi++):0,Yu++,Gn===10&&(Yu=1,fg++),Gn}function ua(){return pi(oc,Vi)}function Pp(){return Vi}function pf(n,e){return Gd(oc,n,e)}function jd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P2(n){return fg=Yu=1,O2=Kr(oc=n),Vi=0,[]}function I2(n){return oc="",n}function Ip(n){return L2(pf(Vi-1,fb(n===91?n+2:n===40?n+1:n)))}function mj(n){for(;(Gn=ua())&&Gn<33;)nr();return jd(n)>2||jd(Gn)>3?"":" "}function gj(n,e){for(;--e&&nr()&&!(Gn<48||Gn>102||Gn>57&&Gn<65||Gn>70&&Gn<97););return pf(n,Pp()+(e<6&&ua()==32&&nr()==32))}function fb(n){for(;nr();)switch(Gn){case n:return Vi;case 34:case 39:n!==34&&n!==39&&fb(Gn);break;case 40:n===41&&fb(n);break;case 92:nr()}return Vi}function vj(n,e){for(;nr()&&n+Gn!==57&&(n+Gn!==84||ua()!==47););return"/*"+pf(e,Vi-1)+"*"+dg(n===47?n:nr())}function yj(n){for(;!jd(ua());)nr();return pf(n,Vi)}function kT(n){return I2(Np("",null,null,null,[""],n=P2(n),0,[0],n))}function Np(n,e,t,i,r,s,l,u,d){for(var f=0,p=0,m=l,g=0,v=0,_=0,w=1,x=1,b=1,M=0,C="",T=r,O=s,L=i,D=C;x;)switch(_=M,M=nr()){case 40:if(_!=108&&pi(D,m-1)==58){db(D+=an(Ip(M),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:D+=Ip(M);break;case 9:case 10:case 13:case 32:D+=mj(_);break;case 92:D+=gj(Pp()-1,7);continue;case 47:switch(ua()){case 42:case 47:Zh(_j(vj(nr(),Pp()),e,t),d);break;default:D+="/"}break;case 123*w:u[f++]=Kr(D)*b;case 125*w:case 59:case 0:switch(M){case 0:case 125:x=0;case 59+p:v>0&&Kr(D)-m&&Zh(v>32?FT(D+";",i,t,m-1):FT(an(D," ","")+";",i,t,m-2),d);break;case 59:D+=";";default:if(Zh(L=UT(D,e,t,f,p,r,u,C,T=[],O=[],m),s),M===123)if(p===0)Np(D,e,L,L,T,s,m,u,O);else switch(g===99&&pi(D,3)===110?100:g){case 100:case 109:case 115:Np(n,L,L,i&&Zh(UT(n,L,L,0,0,r,u,C,r,T=[],m),O),r,O,m,u,i?T:O);break;default:Np(D,L,L,L,[""],O,0,u,O)}}f=p=v=0,w=b=1,C=D="",m=l;break;case 58:m=1+Kr(D),v=_;default:if(w<1){if(M==123)--w;else if(M==125&&w++==0&&(Gn=Vi>0?pi(oc,--Vi):0,Yu--,Gn===10&&(Yu=1,fg--),Gn==125))continue}switch(D+=dg(M),M*w){case 38:b=p>0?1:(D+="\f",-1);break;case 44:u[f++]=(Kr(D)-1)*b,b=1;break;case 64:ua()===45&&(D+=Ip(nr())),g=ua(),p=m=Kr(C=D+=yj(Pp())),M++;break;case 45:_===45&&Kr(D)==2&&(w=0)}}return s}function UT(n,e,t,i,r,s,l,u,d,f,p){for(var m=r-1,g=r===0?s:[""],v=Mx(g),_=0,w=0,x=0;_<i;++_)for(var b=0,M=Gd(n,m+1,m=hj(w=l[_])),C=n;b<v;++b)(C=L2(w>0?g[b]+" "+M:an(M,/&\f/g,g[b])))&&(d[x++]=C);return hg(n,e,t,r===0?"rule":u,d,f,p)}function _j(n,e,t){return hg(n,e,t,"comm",dg(Gn),Gd(n,2,-2),0)}function FT(n,e,t,i){return hg(n,e,t,wx,Gd(n,0,i),Gd(n,i+1,-1),i)}function al(n,e){for(var t="",i=Mx(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function BT(n,e,t,i){switch(n.type){case"@import":case wx:return n.return=n.return||n.value;case"comm":return"";case D2:return n.return=n.value+"{"+al(n.children,i)+"}";case"rule":n.value=n.props.join(",")}return Kr(t=al(n.children,i))?n.return=n.value+"{"+t+"}":""}function zT(n){var e=Mx(n);return function(t,i,r,s){for(var l="",u=0;u<e;u++)l+=n[u](t,i,r,s)||"";return l}}function bj(n){return function(e){e.root||(e=e.return)&&n(e)}}function N2(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var xj=function(n,e,t){for(var i=0,r=0;i=r,r=ua(),i===38&&r===12&&(e[t]=1),!jd(r);)nr();return pf(n,Vi)},Sj=function(n,e){return I2(function(t,i){var r=-1,s=44;do switch(jd(s)){case 0:s===38&&ua()===12&&(i[r]=1),t[r]+=xj(Vi-1,i,r);break;case 2:t[r]+=Ip(s);break;case 4:if(s===44){t[++r]=ua()===58?"&\f":"",i[r]=t[r].length;break}default:t[r]+=dg(s)}while(s=nr());return t}(P2(n),e))},HT=new WeakMap,Ej=function(n){if(n.type==="rule"&&n.parent&&!(n.length<1)){for(var e=n.value,t=n.parent,i=n.column===t.column&&n.line===t.line;t.type!=="rule";)if(!(t=t.parent))return;if((n.props.length!==1||e.charCodeAt(0)===58||HT.get(t))&&!i){HT.set(n,!0);for(var r=[],s=Sj(e,r),l=t.props,u=0,d=0;u<s.length;u++)for(var f=0;f<l.length;f++,d++)n.props[d]=r[u]?s[u].replace(/&\f/g,l[f]):l[f]+" "+s[u]}}},wj=function(n){if(n.type==="decl"){var e=n.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(n.return="",n.value="")}};function k2(n,e){switch(function(t,i){return 45^pi(t,0)?(((i<<2^pi(t,0))<<2^pi(t,1))<<2^pi(t,2))<<2^pi(t,3):0}(n,e)){case 5103:return Jt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Jt+n+NT+n+mr+n+n;case 6828:case 4268:return Jt+n+mr+n+n;case 6165:return Jt+n+mr+"flex-"+n+n;case 5187:return Jt+n+an(n,/(\w+).+(:[^]+)/,Jt+"box-$1$2-ms-flex-$1$2")+n;case 5443:return Jt+n+mr+"flex-item-"+an(n,/flex-|-self/,"")+n;case 4675:return Jt+n+mr+"flex-line-pack"+an(n,/align-content|flex-|-self/,"")+n;case 5548:return Jt+n+mr+an(n,"shrink","negative")+n;case 5292:return Jt+n+mr+an(n,"basis","preferred-size")+n;case 6060:return Jt+"box-"+an(n,"-grow","")+Jt+n+mr+an(n,"grow","positive")+n;case 4554:return Jt+an(n,/([^-])(transform)/g,"$1"+Jt+"$2")+n;case 6187:return an(an(an(n,/(zoom-|grab)/,Jt+"$1"),/(image-set)/,Jt+"$1"),n,"")+n;case 5495:case 3959:return an(n,/(image-set\([^]*)/,Jt+"$1$`$1");case 4968:return an(an(n,/(.+:)(flex-)?(.*)/,Jt+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jt+n+n;case 4095:case 3583:case 4068:case 2532:return an(n,/(.+)-inline(.+)/,Jt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kr(n)-1-e>6)switch(pi(n,e+1)){case 109:if(pi(n,e+4)!==45)break;case 102:return an(n,/(.+:)(.+)-([^]+)/,"$1"+Jt+"$2-$3$1"+NT+(pi(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~db(n,"stretch")?k2(an(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(pi(n,e+1)!==115)break;case 6444:switch(pi(n,Kr(n)-3-(~db(n,"!important")&&10))){case 107:return an(n,":",":"+Jt)+n;case 101:return an(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jt+(pi(n,14)===45?"inline-":"")+"box$3$1"+Jt+"$2$3$1-ms-$2box$3")+n}break;case 5936:switch(pi(n,e+11)){case 114:return Jt+n+mr+an(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Jt+n+mr+an(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Jt+n+mr+an(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Jt+n+mr+n+n}return n}var VT,Qh,kp=typeof document<"u",Mj=kp?void 0:(VT=function(){return N2(function(){var n={};return function(e){return n[e]}})},Qh=new WeakMap,function(n){if(Qh.has(n))return Qh.get(n);var e=VT(n);return Qh.set(n,e),e}),Tj=[function(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case wx:n.return=k2(n.value,n.length);break;case D2:return al([hd(n,{value:an(n.value,"@","@"+Jt)})],i);case"rule":if(n.length)return function(r,s){return r.map(s).join("")}(n.props,function(r){switch(function(s,l){return(s=l.exec(s))?s[0]:s}(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return al([hd(n,{props:[an(r,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return al([hd(n,{props:[an(r,/:(plac\w+)/,":"+Jt+"input-$1")]}),hd(n,{props:[an(r,/:(plac\w+)/,":-moz-$1")]}),hd(n,{props:[an(r,/:(plac\w+)/,"-ms-input-$1")]})],i)}return""})}}],U2=function(n){var e=n.key;if(kp&&e==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(b){b.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=n.stylisPlugins||Tj,r,s,l={},u=[];kp&&(r=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(b){for(var M=b.getAttribute("data-emotion").split(" "),C=1;C<M.length;C++)l[M[C]]=!0;u.push(b)}));var d=[Ej,wj];if(kp){var f,p=[BT,bj(function(b){f.insert(b)})],m=zT(d.concat(i,p));s=function(b,M,C,T){f=C,al(kT(b?b+"{"+M.styles+"}":M.styles),m),T&&(x.inserted[M.name]=!0)}}else{var g=[BT],v=zT(d.concat(i,g)),_=Mj(i)(e),w=function(b,M){var C=M.name;return _[C]===void 0&&(_[C]=al(kT(b?b+"{"+M.styles+"}":M.styles),v)),_[C]};s=function(b,M,C,T){var O=M.name,L=w(b,M);return x.compat===void 0?(T&&(x.inserted[O]=!0),L):T?void(x.inserted[O]=L):L}}var x={key:e,sheet:new fj({key:e,container:r,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:l,registered:{},insert:s};return x.sheet.hydrate(u),x};function on(n,e,t){return n(t={path:e,exports:{},require:function(i,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(r==null&&t.path)}},t.exports),t.exports}var oi=typeof Symbol=="function"&&Symbol.for,hb=oi?Symbol.for("react.element"):60103,pb=oi?Symbol.for("react.portal"):60106,Up=oi?Symbol.for("react.fragment"):60107,Fp=oi?Symbol.for("react.strict_mode"):60108,Bp=oi?Symbol.for("react.profiler"):60114,zp=oi?Symbol.for("react.provider"):60109,Hp=oi?Symbol.for("react.context"):60110,mb=oi?Symbol.for("react.async_mode"):60111,bm=oi?Symbol.for("react.concurrent_mode"):60111,Vp=oi?Symbol.for("react.forward_ref"):60112,Gp=oi?Symbol.for("react.suspense"):60113,Cj=oi?Symbol.for("react.suspense_list"):60120,jp=oi?Symbol.for("react.memo"):60115,Wp=oi?Symbol.for("react.lazy"):60116,Aj=oi?Symbol.for("react.block"):60121,Rj=oi?Symbol.for("react.fundamental"):60117,Dj=oi?Symbol.for("react.responder"):60118,Lj=oi?Symbol.for("react.scope"):60119;function Zi(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case hb:switch(n=n.type){case mb:case bm:case Up:case Bp:case Fp:case Gp:return n;default:switch(n=n&&n.$$typeof){case Hp:case Vp:case Wp:case jp:case zp:return n;default:return e}}case pb:return e}}}function GT(n){return Zi(n)===bm}var Oj={AsyncMode:mb,ConcurrentMode:bm,ContextConsumer:Hp,ContextProvider:zp,Element:hb,ForwardRef:Vp,Fragment:Up,Lazy:Wp,Memo:jp,Portal:pb,Profiler:Bp,StrictMode:Fp,Suspense:Gp,isAsyncMode:function(n){return GT(n)||Zi(n)===mb},isConcurrentMode:GT,isContextConsumer:function(n){return Zi(n)===Hp},isContextProvider:function(n){return Zi(n)===zp},isElement:function(n){return typeof n=="object"&&n!==null&&n.$$typeof===hb},isForwardRef:function(n){return Zi(n)===Vp},isFragment:function(n){return Zi(n)===Up},isLazy:function(n){return Zi(n)===Wp},isMemo:function(n){return Zi(n)===jp},isPortal:function(n){return Zi(n)===pb},isProfiler:function(n){return Zi(n)===Bp},isStrictMode:function(n){return Zi(n)===Fp},isSuspense:function(n){return Zi(n)===Gp},isValidElementType:function(n){return typeof n=="string"||typeof n=="function"||n===Up||n===bm||n===Bp||n===Fp||n===Gp||n===Cj||typeof n=="object"&&n!==null&&(n.$$typeof===Wp||n.$$typeof===jp||n.$$typeof===zp||n.$$typeof===Hp||n.$$typeof===Vp||n.$$typeof===Rj||n.$$typeof===Dj||n.$$typeof===Lj||n.$$typeof===Aj)},typeOf:Zi};on(function(n,e){});var jT=on(function(n){n.exports=Oj}),WT={};WT[jT.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},WT[jT.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var gb=typeof document<"u";function F2(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):i+=r+" "}),i}var Tx=function(n,e,t){var i=n.key+"-"+e.name;(t===!1||gb===!1&&n.compat!==void 0)&&n.registered[i]===void 0&&(n.registered[i]=e.styles)},Cx=function(n,e,t){Tx(n,e,t);var i=n.key+"-"+e.name;if(n.inserted[e.name]===void 0){var r="",s=e;do{var l=n.insert(e===s?"."+i:"",s,n.sheet,!0);gb||l===void 0||(r+=l),s=s.next}while(s!==void 0);if(!gb&&r.length!==0)return r}},Pj={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ij=/[A-Z]|^ms/g,Nj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,B2=function(n){return n.charCodeAt(1)===45},YT=function(n){return n!=null&&typeof n!="boolean"},L0=N2(function(n){return B2(n)?n:n.replace(Ij,"-$&").toLowerCase()}),qT=function(n,e){switch(n){case"animation":case"animationName":if(typeof e=="string")return e.replace(Nj,function(t,i,r){return Zr={name:i,styles:r,next:Zr},i})}return Pj[n]===1||B2(n)||typeof e!="number"||e===0?e:e+"px"};function Pd(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":if(t.anim===1)return Zr={name:t.name,styles:t.styles,next:Zr},t.name;if(t.styles!==void 0){var i=t.next;if(i!==void 0)for(;i!==void 0;)Zr={name:i.name,styles:i.styles,next:Zr},i=i.next;var r=t.styles+";";return r}return function(d,f,p){var m="";if(Array.isArray(p))for(var g=0;g<p.length;g++)m+=Pd(d,f,p[g])+";";else for(var v in p){var _=p[v];if(typeof _!="object")f!=null&&f[_]!==void 0?m+=v+"{"+f[_]+"}":YT(_)&&(m+=L0(v)+":"+qT(v,_)+";");else if(!Array.isArray(_)||typeof _[0]!="string"||f!=null&&f[_[0]]!==void 0){var w=Pd(d,f,_);switch(v){case"animation":case"animationName":m+=L0(v)+":"+w+";";break;default:m+=v+"{"+w+"}"}}else for(var x=0;x<_.length;x++)YT(_[x])&&(m+=L0(v)+":"+qT(v,_[x])+";")}return m}(n,e,t);case"function":if(n!==void 0){var s=Zr,l=t(n);return Zr=s,Pd(n,e,l)}break}if(e==null)return t;var u=e[t];return u!==void 0?u:t}var Zr,$T=/label:\s*([^\s;\n{]+)\s*(;|$)/g,pg=function(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";Zr=void 0;var s=n[0];s==null||s.raw===void 0?(i=!1,r+=Pd(t,e,s)):r+=s[0];for(var l=1;l<n.length;l++)r+=Pd(t,e,n[l]),i&&(r+=s[l]);$T.lastIndex=0;for(var u,d="";(u=$T.exec(r))!==null;)d+="-"+u[1];var f=function(p){for(var m,g=0,v=0,_=p.length;_>=4;++v,_-=4)m=1540483477*(65535&(m=255&p.charCodeAt(v)|(255&p.charCodeAt(++v))<<8|(255&p.charCodeAt(++v))<<16|(255&p.charCodeAt(++v))<<24))+(59797*(m>>>16)<<16),g=1540483477*(65535&(m^=m>>>24))+(59797*(m>>>16)<<16)^1540483477*(65535&g)+(59797*(g>>>16)<<16);switch(_){case 3:g^=(255&p.charCodeAt(v+2))<<16;case 2:g^=(255&p.charCodeAt(v+1))<<8;case 1:g=1540483477*(65535&(g^=255&p.charCodeAt(v)))+(59797*(g>>>16)<<16)}return(((g=1540483477*(65535&(g^=g>>>13))+(59797*(g>>>16)<<16))^g>>>15)>>>0).toString(36)}(r)+d;return{name:f,styles:r,next:Zr}},kj=typeof document<"u",Uj=function(n){return n()},z2=!!S.useInsertionEffect&&S.useInsertionEffect,H2=kj&&z2||Uj,XT=z2||S.useLayoutEffect,Du=typeof document<"u",Ax={}.hasOwnProperty,xm=S.createContext(typeof HTMLElement<"u"?U2({key:"css"}):null);xm.Provider;var mg=function(n){return S.forwardRef(function(e,t){var i=S.useContext(xm);return n(e,i,t)})};Du||(mg=function(n){return function(e){var t=S.useContext(xm);return t===null?(t=U2({key:"css"}),S.createElement(xm.Provider,{value:t},n(e,t))):n(e,t)}});var Rx=S.createContext({}),vb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Fj=function(n,e){var t={};for(var i in e)Ax.call(e,i)&&(t[i]=e[i]);return t[vb]=n,t},Bj=function(n){var e=n.cache,t=n.serialized,i=n.isStringTag;Tx(e,t,i);var r=H2(function(){return Cx(e,t,i)});if(!Du&&r!==void 0){for(var s,l=t.name,u=t.next;u!==void 0;)l+=" "+u.name,u=u.next;return S.createElement("style",((s={})["data-emotion"]=e.key+" "+l,s.dangerouslySetInnerHTML={__html:r},s.nonce=e.sheet.nonce,s))}return null},zj=mg(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[vb],s=[i],l="";typeof n.className=="string"?l=F2(e.registered,s,n.className):n.className!=null&&(l=n.className+" ");var u=pg(s,void 0,S.useContext(Rx));l+=e.key+"-"+u.name;var d={};for(var f in n)!Ax.call(n,f)||f==="css"||f===vb||(d[f]=n[f]);return d.ref=t,d.className=l,S.createElement(S.Fragment,null,S.createElement(Bj,{cache:e,serialized:u,isStringTag:typeof r=="string"}),S.createElement(r,d))});on(function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(this,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports});var ht=function(n,e){var t=arguments;if(e==null||!Ax.call(e,"css"))return S.createElement.apply(void 0,t);var i=t.length,r=new Array(i);r[0]=zj,r[1]=Fj(n,e);for(var s=2;s<i;s++)r[s]=t[s];return S.createElement.apply(null,r)};mg(function(n,e){var t=n.styles,i=pg([t],void 0,S.useContext(Rx));if(!Du){for(var r,s=i.name,l=i.styles,u=i.next;u!==void 0;)s+=" "+u.name,l+=u.styles,u=u.next;var d=e.compat===!0,f=e.insert("",{name:s,styles:l},e.sheet,d);return d?null:S.createElement("style",((r={})["data-emotion"]=e.key+"-global "+s,r.dangerouslySetInnerHTML={__html:f},r.nonce=e.sheet.nonce,r))}var p=S.useRef();return XT(function(){var m=e.key+"-global",g=new e.sheet.constructor({key:m,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),v=!1,_=document.querySelector('style[data-emotion="'+m+" "+i.name+'"]');return e.sheet.tags.length&&(g.before=e.sheet.tags[0]),_!==null&&(v=!0,_.setAttribute("data-emotion",m),g.hydrate([_])),p.current=[g,v],function(){g.flush()}},[e]),XT(function(){var m=p.current,g=m[0];if(m[1])m[1]=!1;else{if(i.next!==void 0&&Cx(e,i.next,!0),g.tags.length){var v=g.tags[g.tags.length-1].nextElementSibling;g.before=v,g.flush()}e.insert("",i,g,!1)}},[e,i.name]),null});function Dx(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return pg(e)}var Hj=function n(e){for(var t=e.length,i=0,r="";i<t;i++){var s=e[i];if(s!=null){var l=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))l=n(s);else for(var u in l="",s)s[u]&&u&&(l&&(l+=" "),l+=u);break;default:l=s}l&&(r&&(r+=" "),r+=l)}}return r};function Vj(n,e,t){var i=[],r=F2(n,i,t);return i.length<2?t:r+e(i)}var Gj=function(n){var e,t=n.cache,i=n.serializedArr,r=H2(function(){for(var s="",l=0;l<i.length;l++){var u=Cx(t,i[l],!1);Du||u===void 0||(s+=u)}if(!Du)return s});return Du||r.length===0?null:S.createElement("style",((e={})["data-emotion"]=t.key+" "+i.map(function(s){return s.name}).join(" "),e.dangerouslySetInnerHTML={__html:r},e.nonce=t.sheet.nonce,e))};mg(function(n,e){var t=[],i=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=pg(u,e.registered);return t.push(f),Tx(e,f,!1),e.key+"-"+f.name},r={css:i,cx:function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return Vj(e.registered,i,Hj(u))},theme:S.useContext(Rx)},s=n.children(r);return S.createElement(S.Fragment,null,S.createElement(Gj,{cache:e,serializedArr:t}),s)});function ri(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,i){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,l,u,d,f=[],p=!0,m=!1;try{if(u=(r=r.call(t)).next,i===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(s=u.call(r)).done)&&(f.push(s.value),f.length!==i);p=!0);}catch(g){m=!0,l=g}finally{try{if(!p&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(m)throw l}}return f}}(n,e)||R2(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jr(n,e){if(n==null)return{};var t,i,r=function(l,u){if(l==null)return{};var d,f,p={},m=Object.keys(l);for(f=0;f<m.length;f++)d=m[f],u.indexOf(d)>=0||(p[d]=l[d]);return p}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Qa(n){var e;return((e=n.ownerDocument)==null?void 0:e.defaultView)||window}function V2(n){return Qa(n).getComputedStyle(n)}const Jh=Math.round;function G2(n){return W2(n)?(n.nodeName||"").toLowerCase():""}let ep;function j2(n){return n instanceof Qa(n).HTMLElement}function Yp(n){return n instanceof Qa(n).Element}function W2(n){return n instanceof Qa(n).Node}function KT(n){return typeof ShadowRoot>"u"?!1:n instanceof Qa(n).ShadowRoot||n instanceof ShadowRoot}function Y2(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=V2(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function jj(){return/^((?!chrome|android).)*safari/i.test(function(){if(ep)return ep;const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?(ep=n.brands.map(e=>e.brand+"/"+e.version).join(" "),ep):navigator.userAgent}())}function q2(n){return Yp(n)?n:n.contextElement}const $2={x:1,y:1};function ZT(n){const e=q2(n);if(!j2(e))return $2;const t=e.getBoundingClientRect(),{width:i,height:r,fallback:s}=function(d){const f=V2(d);let p=parseFloat(f.width),m=parseFloat(f.height);const g=d.offsetWidth,v=d.offsetHeight,_=Jh(p)!==g||Jh(m)!==v;return _&&(p=g,m=v),{width:p,height:m,fallback:_}}(e);let l=(s?Jh(t.width):t.width)/i,u=(s?Jh(t.height):t.height)/r;return l&&Number.isFinite(l)||(l=1),u&&Number.isFinite(u)||(u=1),{x:l,y:u}}function QT(n,e,t,i){var r,s;e===void 0&&(e=!1),t===void 0&&(t=!1);const l=n.getBoundingClientRect(),u=q2(n);let d=$2;e&&(d=ZT(n));const f=u?Qa(u):window,p=jj()&&t;let m=(l.left+(p&&((r=f.visualViewport)==null?void 0:r.offsetLeft)||0))/d.x,g=(l.top+(p&&((s=f.visualViewport)==null?void 0:s.offsetTop)||0))/d.y,v=l.width/d.x,_=l.height/d.y;if(u){const w=Qa(u),x=i;let b=w.frameElement;for(;b&&i&&x!==w;){const M=ZT(b),C=b.getBoundingClientRect(),T=getComputedStyle(b);C.x+=(b.clientLeft+parseFloat(T.paddingLeft))*M.x,C.y+=(b.clientTop+parseFloat(T.paddingTop))*M.y,m*=M.x,g*=M.y,v*=M.x,_*=M.y,m+=C.x,g+=C.y,b=Qa(b).frameElement}}return{width:v,height:_,top:g,right:m+v,bottom:g+_,left:m,x:m,y:g}}function Wj(n){if(G2(n)==="html")return n;const e=n.assignedSlot||n.parentNode||KT(n)&&n.host||function(t){return((W2(t)?t.ownerDocument:t.document)||window.document).documentElement}(n);return KT(e)?e.host:e}function X2(n){const e=Wj(n);return function(t){return["html","body","#document"].includes(G2(t))}(e)?e.ownerDocument.body:j2(e)&&Y2(e)?e:X2(e)}function qp(n,e){var t;e===void 0&&(e=[]);const i=X2(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=Qa(i);return r?e.concat(s,s.visualViewport||[],Y2(i)?i:[]):e.concat(i,qp(i))}var yb=typeof document<"u"?S.useLayoutEffect:S.useEffect,Yj=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Sm=function(){};function qj(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function $j(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var s=[].concat(i);if(e&&n)for(var l in e)e.hasOwnProperty(l)&&e[l]&&s.push("".concat(qj(n,l)));return s.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var JT=function(n){return e=n,Array.isArray(e)?n.filter(Boolean):rl(n)==="object"&&n!==null?[n]:[];var e},eC=function(n){return n.className,n.clearValue,n.cx,n.getStyles,n.getClassNames,n.getValue,n.hasValue,n.isMulti,n.isRtl,n.options,n.selectOption,n.selectProps,n.setValue,n.theme,lt({},Jr(n,Yj))},Pn=function(n,e,t){var i=n.cx,r=n.getStyles,s=n.getClassNames,l=n.className;return{css:r(e,n),className:i(t??{},s(e,n),l)}};function gg(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function K2(n){return gg(n)?window.pageYOffset:n.scrollTop}function Em(n,e){gg(n)?window.scrollTo(0,e):n.scrollTop=e}function Xj(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e}function tp(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Sm,r=K2(n),s=e-r,l=10,u=0;function d(){var f=Xj(u+=l,r,s,t);Em(n,f),u<t?window.requestAnimationFrame(d):i(n)}d()}function tC(n,e){var t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=e.offsetHeight/3;i.bottom+r>t.bottom?Em(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+r,n.scrollHeight)):i.top-r<t.top&&Em(n,Math.max(e.offsetTop-r,0))}function nC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}var Z2=!1,Kj={get passive(){return Z2=!0}},np=typeof window<"u"?window:{};np.addEventListener&&np.removeEventListener&&(np.addEventListener("p",Sm,Kj),np.removeEventListener("p",Sm,!1));var Zj=Z2;function Qj(n){return n!=null}function ip(n,e,t){return n?e:t}var Jj=["children","innerProps"],e7=["children","innerProps"];function t7(n){var e=n.maxHeight,t=n.menuEl,i=n.minHeight,r=n.placement,s=n.shouldScroll,l=n.isFixedPosition,u=n.controlHeight,d=function(K){var H=getComputedStyle(K),Y=H.position==="absolute",G=/(auto|scroll)/;if(H.position==="fixed")return document.documentElement;for(var te=K;te=te.parentElement;)if(H=getComputedStyle(te),(!Y||H.position!=="static")&&G.test(H.overflow+H.overflowY+H.overflowX))return te;return document.documentElement}(t),f={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return f;var p,m=d.getBoundingClientRect().height,g=t.getBoundingClientRect(),v=g.bottom,_=g.height,w=g.top,x=t.offsetParent.getBoundingClientRect().top,b=l||gg(p=d)?window.innerHeight:p.clientHeight,M=K2(d),C=parseInt(getComputedStyle(t).marginBottom,10),T=parseInt(getComputedStyle(t).marginTop,10),O=x-T,L=b-w,D=O+M,I=m-M-w,A=v-b+M+C,R=M+w-T,N=160;switch(r){case"auto":case"bottom":if(L>=_)return{placement:"bottom",maxHeight:e};if(I>=_&&!l)return s&&tp(d,A,N),{placement:"bottom",maxHeight:e};if(!l&&I>=i||l&&L>=i)return s&&tp(d,A,N),{placement:"bottom",maxHeight:l?L-C:I-C};if(r==="auto"||l){var X=e,$=l?O:D;return $>=i&&(X=Math.min($-C-u,e)),{placement:"top",maxHeight:X}}if(r==="bottom")return s&&Em(d,A),{placement:"bottom",maxHeight:e};break;case"top":if(O>=_)return{placement:"top",maxHeight:e};if(D>=_&&!l)return s&&tp(d,R,N),{placement:"top",maxHeight:e};if(!l&&D>=i||l&&O>=i){var Z=e;return(!l&&D>=i||l&&O>=i)&&(Z=l?O-T:D-T),s&&tp(d,R,N),{placement:"top",maxHeight:Z}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return f}var iC,Q2=function(n){return n==="auto"?"bottom":n},J2=S.createContext(null),n7=function(n){var e=n.children,t=n.minMenuHeight,i=n.maxMenuHeight,r=n.menuPlacement,s=n.menuPosition,l=n.menuShouldScrollIntoView,u=n.theme,d=(S.useContext(J2)||{}).setPortalPlacement,f=S.useRef(null),p=ri(S.useState(i),2),m=p[0],g=p[1],v=ri(S.useState(null),2),_=v[0],w=v[1],x=u.spacing.controlHeight;return yb(function(){var b=f.current;if(b){var M=s==="fixed",C=t7({maxHeight:i,menuEl:b,minHeight:t,placement:r,shouldScroll:l&&!M,isFixedPosition:M,controlHeight:x});g(C.maxHeight),w(C.placement),d==null||d(C.placement)}},[i,r,s,l,t,d,x]),e({ref:f,placerProps:lt(lt({},n),{},{placement:_||Q2(r),maxHeight:m})})},i7=function(n){var e=n.children,t=n.innerRef,i=n.innerProps;return ht("div",vt({},Pn(n,"menu",{menu:!0}),{ref:t},i),e)},eO=function(n,e){var t=n.theme,i=t.spacing.baseUnit,r=t.colors;return lt({textAlign:"center"},e?{}:{color:r.neutral40,padding:"".concat(2*i,"px ").concat(3*i,"px")})},r7=eO,a7=eO,s7=["size"],o7=["innerProps","isRtl","size"],O0,P0,l7={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},tO=function(n){var e=n.size,t=Jr(n,s7);return ht("svg",vt({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:l7},t))},I0=function(n){return ht(tO,vt({size:20},n),ht("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},rC=function(n){return ht(tO,vt({size:20},n),ht("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},nO=function(n,e){var t=n.isFocused,i=n.theme,r=i.spacing.baseUnit,s=i.colors;return lt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},e?{}:{color:t?s.neutral60:s.neutral20,padding:2*r,":hover":{color:t?s.neutral80:s.neutral40}})},u7=nO,c7=nO,d7=function(){var n=Dx.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(iC||(O0=[`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`],P0||(P0=O0.slice(0)),iC=Object.freeze(Object.defineProperties(O0,{raw:{value:Object.freeze(P0)}})))),N0=function(n){var e=n.delay,t=n.offset;return ht("span",{css:Dx({animation:"".concat(d7," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:t?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},f7=function(n){var e=n.children,t=n.isDisabled,i=n.isFocused,r=n.innerRef,s=n.innerProps,l=n.menuIsOpen;return ht("div",vt({ref:r},Pn(n,"control",{control:!0,"control--is-disabled":t,"control--is-focused":i,"control--menu-is-open":l}),s,{"aria-disabled":t||void 0}),e)},h7=["data"],p7=function(n){var e=n.children,t=n.cx,i=n.getStyles,r=n.getClassNames,s=n.Heading,l=n.headingProps,u=n.innerProps,d=n.label,f=n.theme,p=n.selectProps;return ht("div",vt({},Pn(n,"group",{group:!0}),u),ht(s,vt({},l,{selectProps:p,theme:f,getStyles:i,getClassNames:r,cx:t}),d),ht("div",null,e))},m7=["innerRef","isDisabled","isHidden","inputClassName"],iO={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},g7={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":lt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},iO)},v7=function(n){return lt({label:"input",color:"inherit",background:0,opacity:n?0:1,width:"100%"},iO)},aC=function(n){var e=n.children,t=n.innerProps;return ht("div",t,e)},y7=function(n){var e=n.children,t=n.components,i=n.data,r=n.innerProps,s=n.isDisabled,l=n.removeProps,u=n.selectProps,d=t.Container,f=t.Label,p=t.Remove;return ht(d,{data:i,innerProps:lt(lt({},Pn(n,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),r),selectProps:u},ht(f,{data:i,innerProps:lt({},Pn(n,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},e),ht(p,{data:i,innerProps:lt(lt({},Pn(n,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(e||"option")},l),selectProps:u}))},_7={ClearIndicator:function(n){var e=n.children,t=n.innerProps;return ht("div",vt({},Pn(n,"clearIndicator",{indicator:!0,"clear-indicator":!0}),t),e||ht(I0,null))},Control:f7,DropdownIndicator:function(n){var e=n.children,t=n.innerProps;return ht("div",vt({},Pn(n,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),t),e||ht(rC,null))},DownChevron:rC,CrossIcon:I0,Group:p7,GroupHeading:function(n){var e=eC(n);e.data;var t=Jr(e,h7);return ht("div",vt({},Pn(n,"groupHeading",{"group-heading":!0}),t))},IndicatorsContainer:function(n){var e=n.children,t=n.innerProps;return ht("div",vt({},Pn(n,"indicatorsContainer",{indicators:!0}),t),e)},IndicatorSeparator:function(n){var e=n.innerProps;return ht("span",vt({},e,Pn(n,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(n){var e=n.cx,t=n.value,i=eC(n),r=i.innerRef,s=i.isDisabled,l=i.isHidden,u=i.inputClassName,d=Jr(i,m7);return ht("div",vt({},Pn(n,"input",{"input-container":!0}),{"data-value":t||""}),ht("input",vt({className:e({input:!0},u),ref:r,style:v7(l),disabled:s},d)))},LoadingIndicator:function(n){var e=n.innerProps,t=n.isRtl,i=n.size,r=i===void 0?4:i,s=Jr(n,o7);return ht("div",vt({},Pn(lt(lt({},s),{},{innerProps:e,isRtl:t,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),e),ht(N0,{delay:0,offset:t}),ht(N0,{delay:160,offset:!0}),ht(N0,{delay:320,offset:!t}))},Menu:i7,MenuList:function(n){var e=n.children,t=n.innerProps,i=n.innerRef,r=n.isMulti;return ht("div",vt({},Pn(n,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:i},t),e)},MenuPortal:function(n){var e=n.appendTo,t=n.children,i=n.controlElement,r=n.innerProps,s=n.menuPlacement,l=n.menuPosition,u=S.useRef(null),d=S.useRef(null),f=ri(S.useState(Q2(s)),2),p=f[0],m=f[1],g=S.useMemo(function(){return{setPortalPlacement:m}},[]),v=ri(S.useState(null),2),_=v[0],w=v[1],x=S.useCallback(function(){if(i){var T=function(D){var I=D.getBoundingClientRect();return{bottom:I.bottom,height:I.height,left:I.left,right:I.right,top:I.top,width:I.width}}(i),O=l==="fixed"?0:window.pageYOffset,L=T[p]+O;L===(_==null?void 0:_.offset)&&T.left===(_==null?void 0:_.rect.left)&&T.width===(_==null?void 0:_.rect.width)||w({offset:L,rect:T})}},[i,l,p,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);yb(function(){x()},[x]);var b=S.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&u.current&&(d.current=function(T,O,L,D){D===void 0&&(D={});const{ancestorScroll:I=!0,ancestorResize:A=!0,elementResize:R=!0,animationFrame:N=!1}=D,X=I&&!N,$=X||A?[...Yp(T)?qp(T):T.contextElement?qp(T.contextElement):[],...qp(O)]:[];$.forEach(Y=>{X&&Y.addEventListener("scroll",L,{passive:!0}),A&&Y.addEventListener("resize",L)});let Z,K=null;if(R){let Y=!0;K=new ResizeObserver(()=>{Y||L(),Y=!1}),Yp(T)&&!N&&K.observe(T),Yp(T)||!T.contextElement||N||K.observe(T.contextElement),K.observe(O)}let H=N?QT(T):null;return N&&function Y(){const G=QT(T);!H||G.x===H.x&&G.y===H.y&&G.width===H.width&&G.height===H.height||L(),H=G,Z=requestAnimationFrame(Y)}(),L(),()=>{var Y;$.forEach(G=>{X&&G.removeEventListener("scroll",L),A&&G.removeEventListener("resize",L)}),(Y=K)==null||Y.disconnect(),K=null,N&&cancelAnimationFrame(Z)}}(i,u.current,x,{elementResize:"ResizeObserver"in window}))},[i,x]);yb(function(){b()},[b]);var M=S.useCallback(function(T){u.current=T,b()},[b]);if(!e&&l!=="fixed"||!_)return null;var C=ht("div",vt({ref:M},Pn(lt(lt({},n),{},{offset:_.offset,position:l,rect:_.rect}),"menuPortal",{"menu-portal":!0}),r),t);return ht(J2.Provider,{value:g},e?cs.createPortal(C,e):C)},LoadingMessage:function(n){var e=n.children,t=e===void 0?"Loading...":e,i=n.innerProps,r=Jr(n,e7);return ht("div",vt({},Pn(lt(lt({},r),{},{children:t,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),t)},NoOptionsMessage:function(n){var e=n.children,t=e===void 0?"No options":e,i=n.innerProps,r=Jr(n,Jj);return ht("div",vt({},Pn(lt(lt({},r),{},{children:t,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),t)},MultiValue:y7,MultiValueContainer:aC,MultiValueLabel:aC,MultiValueRemove:function(n){var e=n.children,t=n.innerProps;return ht("div",vt({role:"button"},t),e||ht(I0,{size:14}))},Option:function(n){var e=n.children,t=n.isDisabled,i=n.isFocused,r=n.isSelected,s=n.innerRef,l=n.innerProps;return ht("div",vt({},Pn(n,"option",{option:!0,"option--is-disabled":t,"option--is-focused":i,"option--is-selected":r}),{ref:s,"aria-disabled":t},l),e)},Placeholder:function(n){var e=n.children,t=n.innerProps;return ht("div",vt({},Pn(n,"placeholder",{placeholder:!0}),t),e)},SelectContainer:function(n){var e=n.children,t=n.innerProps,i=n.isDisabled,r=n.isRtl;return ht("div",vt({},Pn(n,"container",{"--is-disabled":i,"--is-rtl":r}),t),e)},SingleValue:function(n){var e=n.children,t=n.isDisabled,i=n.innerProps;return ht("div",vt({},Pn(n,"singleValue",{"single-value":!0,"single-value--is-disabled":t}),i),e)},ValueContainer:function(n){var e=n.children,t=n.innerProps,i=n.isMulti,r=n.hasValue;return ht("div",vt({},Pn(n,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":r}),t),e)}},sC=Number.isNaN||function(n){return typeof n=="number"&&n!=n};function b7(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(i=n[t],r=e[t],!(i===r||sC(i)&&sC(r)))return!1;var i,r;return!0}for(var x7={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},oC=function(n){return ht("span",vt({css:x7},n))},S7={guidance:function(n){var e=n.isSearchable,t=n.isMulti,i=n.tabSelectsValue,r=n.context,s=n.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(n["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(t?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(n){var e=n.action,t=n.label,i=t===void 0?"":t,r=n.labels,s=n.isDisabled;switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(i,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(n){var e=n.context,t=n.focused,i=n.options,r=n.label,s=r===void 0?"":r,l=n.selectValue,u=n.isDisabled,d=n.isSelected,f=n.isAppleDevice,p=function(v,_){return v&&v.length?"".concat(v.indexOf(_)+1," of ").concat(v.length):""};if(e==="value"&&l)return"value ".concat(s," focused, ").concat(p(l,t),".");if(e==="menu"&&f){var m=u?" disabled":"",g="".concat(d?" selected":"").concat(m);return"".concat(s).concat(g,", ").concat(p(i,t),".")}return""},onFilter:function(n){var e=n.inputValue,t=n.resultsMessage;return"".concat(t).concat(e?" for search term "+e:"",".")}},E7=function(n){var e=n.ariaSelection,t=n.focusedOption,i=n.focusedValue,r=n.focusableOptions,s=n.isFocused,l=n.selectValue,u=n.selectProps,d=n.id,f=n.isAppleDevice,p=u.ariaLiveMessages,m=u.getOptionLabel,g=u.inputValue,v=u.isMulti,_=u.isOptionDisabled,w=u.isSearchable,x=u.menuIsOpen,b=u.options,M=u.screenReaderStatus,C=u.tabSelectsValue,T=u.isLoading,O=u["aria-label"],L=u["aria-live"],D=S.useMemo(function(){return lt(lt({},S7),p||{})},[p]),I=S.useMemo(function(){var Z,K="";if(e&&D.onChange){var H=e.option,Y=e.options,G=e.removedValue,te=e.removedValues,F=e.value,ee=G||H||(Z=F,Array.isArray(Z)?null:Z),J=ee?m(ee):"",ie=Y||te||void 0,V=ie?ie.map(m):[],W=lt({isDisabled:ee&&_(ee,l),label:J,labels:V},e);K=D.onChange(W)}return K},[e,D,_,l,m]),A=S.useMemo(function(){var Z="",K=t||i,H=!!(t&&l&&l.includes(t));if(K&&D.onFocus){var Y={focused:K,label:m(K),isDisabled:_(K,l),isSelected:H,options:r,context:K===t?"menu":"value",selectValue:l,isAppleDevice:f};Z=D.onFocus(Y)}return Z},[t,i,m,_,D,r,l,f]),R=S.useMemo(function(){var Z="";if(x&&b.length&&!T&&D.onFilter){var K=M({count:r.length});Z=D.onFilter({inputValue:g,resultsMessage:K})}return Z},[r,g,x,D,b,M,T]),N=(e==null?void 0:e.action)==="initial-input-focus",X=S.useMemo(function(){var Z="";if(D.guidance){var K=i?"value":x?"menu":"input";Z=D.guidance({"aria-label":O,context:K,isDisabled:t&&_(t,l),isMulti:v,isSearchable:w,tabSelectsValue:C,isInitialFocus:N})}return Z},[O,t,i,v,_,w,x,D,l,C,N]),$=ht(S.Fragment,null,ht("span",{id:"aria-selection"},I),ht("span",{id:"aria-focused"},A),ht("span",{id:"aria-results"},R),ht("span",{id:"aria-guidance"},X));return ht(S.Fragment,null,ht(oC,{id:d},N&&$),ht(oC,{"aria-live":L,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!N&&$))},k0=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],w7=new RegExp("["+k0.map(function(n){return n.letters}).join("")+"]","g"),rO={},U0=0;U0<k0.length;U0++)for(var F0=k0[U0],B0=0;B0<F0.letters.length;B0++)rO[F0.letters[B0]]=F0.base;var aO=function(n){return n.replace(w7,function(e){return rO[e]})},M7=function(n,e){e===void 0&&(e=b7);var t=null;function i(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(t&&t.lastThis===this&&e(r,t.lastArgs))return t.lastResult;var l=n.apply(this,r);return t={lastResult:l,lastArgs:r,lastThis:this},l}return i.clear=function(){t=null},i}(aO),lC=function(n){return n.replace(/^\s+|\s+$/g,"")},T7=function(n){return"".concat(n.label," ").concat(n.value)},C7=["innerRef"];function A7(n){var e=n.innerRef,t=function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];var u=Object.entries(i).filter(function(d){var f=ri(d,1)[0];return!s.includes(f)});return u.reduce(function(d,f){var p=ri(f,2),m=p[0],g=p[1];return d[m]=g,d},{})}(Jr(n,C7),"onExited","in","enter","exit","appear");return ht("input",vt({ref:e},t,{css:Dx({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var uC=["boxSizing","height","overflow","paddingRight","position"],cC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function dC(n){n.preventDefault()}function fC(n){n.stopPropagation()}function hC(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function pC(){return"ontouchstart"in window||navigator.maxTouchPoints}var mC=!(typeof window>"u"||!window.document||!window.document.createElement),pd=0,mu={capture:!1,passive:!1},R7=function(n){var e=n.target;return e.ownerDocument.activeElement&&e.ownerDocument.activeElement.blur()},D7={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function L7(n){var e=n.children,t=n.lockEnabled,i=n.captureEnabled,r=function(l){var u=l.isEnabled,d=l.onBottomArrive,f=l.onBottomLeave,p=l.onTopArrive,m=l.onTopLeave,g=S.useRef(!1),v=S.useRef(!1),_=S.useRef(0),w=S.useRef(null),x=S.useCallback(function(L,D){if(w.current!==null){var I=w.current,A=I.scrollTop,R=I.scrollHeight,N=I.clientHeight,X=w.current,$=D>0,Z=R-N-A,K=!1;Z>D&&g.current&&(f&&f(L),g.current=!1),$&&v.current&&(m&&m(L),v.current=!1),$&&D>Z?(d&&!g.current&&d(L),X.scrollTop=R,K=!0,g.current=!0):!$&&-D>A&&(p&&!v.current&&p(L),X.scrollTop=0,K=!0,v.current=!0),K&&function(H){H.cancelable&&H.preventDefault(),H.stopPropagation()}(L)}},[d,f,p,m]),b=S.useCallback(function(L){x(L,L.deltaY)},[x]),M=S.useCallback(function(L){_.current=L.changedTouches[0].clientY},[]),C=S.useCallback(function(L){var D=_.current-L.changedTouches[0].clientY;x(L,D)},[x]),T=S.useCallback(function(L){if(L){var D=!!Zj&&{passive:!1};L.addEventListener("wheel",b,D),L.addEventListener("touchstart",M,D),L.addEventListener("touchmove",C,D)}},[C,M,b]),O=S.useCallback(function(L){L&&(L.removeEventListener("wheel",b,!1),L.removeEventListener("touchstart",M,!1),L.removeEventListener("touchmove",C,!1))},[C,M,b]);return S.useEffect(function(){if(u){var L=w.current;return T(L),function(){O(L)}}},[u,T,O]),function(L){w.current=L}}({isEnabled:i===void 0||i,onBottomArrive:n.onBottomArrive,onBottomLeave:n.onBottomLeave,onTopArrive:n.onTopArrive,onTopLeave:n.onTopLeave}),s=function(l){var u=l.isEnabled,d=l.accountForScrollbars,f=d===void 0||d,p=S.useRef({}),m=S.useRef(null),g=S.useCallback(function(_){if(mC){var w=document.body,x=w&&w.style;if(f&&uC.forEach(function(T){var O=x&&x[T];p.current[T]=O}),f&&pd<1){var b=parseInt(p.current.paddingRight,10)||0,M=document.body?document.body.clientWidth:0,C=window.innerWidth-M+b||0;Object.keys(cC).forEach(function(T){var O=cC[T];x&&(x[T]=O)}),x&&(x.paddingRight="".concat(C,"px"))}w&&pC()&&(w.addEventListener("touchmove",dC,mu),_&&(_.addEventListener("touchstart",hC,mu),_.addEventListener("touchmove",fC,mu))),pd+=1}},[f]),v=S.useCallback(function(_){if(mC){var w=document.body,x=w&&w.style;pd=Math.max(pd-1,0),f&&pd<1&&uC.forEach(function(b){var M=p.current[b];x&&(x[b]=M)}),w&&pC()&&(w.removeEventListener("touchmove",dC,mu),_&&(_.removeEventListener("touchstart",hC,mu),_.removeEventListener("touchmove",fC,mu)))}},[f]);return S.useEffect(function(){if(u){var _=m.current;return g(_),function(){v(_)}}},[u,g,v]),function(_){m.current=_}}({isEnabled:t});return ht(S.Fragment,null,t&&ht("div",{onClick:R7,css:D7}),e(function(l){r(l),s(l)}))}var O7={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},P7=function(n){var e=n.name,t=n.onFocus;return ht("input",{required:!0,name:e,tabIndex:-1,"aria-hidden":"true",onFocus:t,css:O7,value:"",onChange:function(){}})};function _b(n){var e;return typeof window<"u"&&window.navigator!=null&&n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform)}function sO(){return _b(/^Mac/i)}function I7(){return _b(/^iPhone/i)||_b(/^iPad/i)||sO()&&navigator.maxTouchPoints>1}var N7,k7={clearIndicator:c7,container:function(n){var e=n.isDisabled;return{label:"container",direction:n.isRtl?"rtl":void 0,pointerEvents:e?"none":void 0,position:"relative"}},control:function(n,e){var t=n.isDisabled,i=n.isFocused,r=n.theme,s=r.colors,l=r.borderRadius;return lt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},e?{}:{backgroundColor:t?s.neutral5:s.neutral0,borderColor:t?s.neutral10:i?s.primary:s.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},dropdownIndicator:u7,group:function(n,e){var t=n.theme.spacing;return e?{}:{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(n,e){var t=n.theme,i=t.colors,r=t.spacing;return lt({label:"group",cursor:"default",display:"block"},e?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(n,e){var t=n.isDisabled,i=n.theme,r=i.spacing.baseUnit,s=i.colors;return lt({label:"indicatorSeparator",alignSelf:"stretch",width:1},e?{}:{backgroundColor:t?s.neutral10:s.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(n,e){var t=n.isDisabled,i=n.value,r=n.theme,s=r.spacing,l=r.colors;return lt(lt({visibility:t?"hidden":"visible",transform:i?"translateZ(0)":""},g7),e?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:l.neutral80})},loadingIndicator:function(n,e){var t=n.isFocused,i=n.size,r=n.theme,s=r.colors,l=r.spacing.baseUnit;return lt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},e?{}:{color:t?s.neutral60:s.neutral20,padding:2*l})},loadingMessage:a7,menu:function(n,e){var t,i=n.placement,r=n.theme,s=r.borderRadius,l=r.spacing,u=r.colors;return lt((Su(t={label:"menu"},function(d){return d?{bottom:"top",top:"bottom"}[d]:"bottom"}(i),"100%"),Su(t,"position","absolute"),Su(t,"width","100%"),Su(t,"zIndex",1),t),e?{}:{backgroundColor:u.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},menuList:function(n,e){var t=n.maxHeight,i=n.theme.spacing.baseUnit;return lt({maxHeight:t,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},e?{}:{paddingBottom:i,paddingTop:i})},menuPortal:function(n){var e=n.rect,t=n.offset,i=n.position;return{left:e.left,position:i,top:t,width:e.width,zIndex:1}},multiValue:function(n,e){var t=n.theme,i=t.spacing,r=t.borderRadius,s=t.colors;return lt({label:"multiValue",display:"flex",minWidth:0},e?{}:{backgroundColor:s.neutral10,borderRadius:r/2,margin:i.baseUnit/2})},multiValueLabel:function(n,e){var t=n.theme,i=t.borderRadius,r=t.colors,s=n.cropWithEllipsis;return lt({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},e?{}:{borderRadius:i/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(n,e){var t=n.theme,i=t.spacing,r=t.borderRadius,s=t.colors,l=n.isFocused;return lt({alignItems:"center",display:"flex"},e?{}:{borderRadius:r/2,backgroundColor:l?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:r7,option:function(n,e){var t=n.isDisabled,i=n.isFocused,r=n.isSelected,s=n.theme,l=s.spacing,u=s.colors;return lt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},e?{}:{backgroundColor:r?u.primary:i?u.primary25:"transparent",color:t?u.neutral20:r?u.neutral0:"inherit",padding:"".concat(2*l.baseUnit,"px ").concat(3*l.baseUnit,"px"),":active":{backgroundColor:t?void 0:r?u.primary:u.primary50}})},placeholder:function(n,e){var t=n.theme,i=t.spacing,r=t.colors;return lt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},e?{}:{color:r.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},singleValue:function(n,e){var t=n.isDisabled,i=n.theme,r=i.spacing,s=i.colors;return lt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e?{}:{color:t?s.neutral40:s.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(n,e){var t=n.theme.spacing,i=n.isMulti,r=n.hasValue,s=n.selectProps.controlShouldRenderValue;return lt({alignItems:"center",display:i&&r&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},e?{}:{padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px")})}},z0={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},U7={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:nC(),captureMenuScroll:!nC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(n,e){if(n.data.__isNew__)return!0;var t=lt({ignoreCase:!0,ignoreAccents:!0,stringify:T7,trim:!0,matchFrom:"any"},N7),i=t.ignoreCase,r=t.ignoreAccents,s=t.stringify,l=t.trim,u=t.matchFrom,d=l?lC(e):e,f=l?lC(s(n)):s(n);return i&&(d=d.toLowerCase(),f=f.toLowerCase()),r&&(d=M7(d),f=aO(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1},formatGroupLabel:function(n){return n.label},getOptionLabel:function(n){return n.label},getOptionValue:function(n){return n.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(n){return!!n.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(n){var e=n.count;return"".concat(e," result").concat(e!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function gC(n,e,t,i){return{type:"option",data:e,isDisabled:lO(n,e,t),isSelected:uO(n,e,t),label:oO(n,e),value:wm(n,e),index:i}}function rp(n,e){return n.options.map(function(t,i){if("options"in t){var r=t.options.map(function(l,u){return gC(n,l,e,u)}).filter(function(l){return _C(n,l)});return r.length>0?{type:"group",data:t,options:r,index:i}:void 0}var s=gC(n,t,e,i);return _C(n,s)?s:void 0}).filter(Qj)}function vC(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Ex(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function yC(n,e){return n.reduce(function(t,i){return i.type==="group"?t.push.apply(t,Ex(i.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(i.index,"-").concat(r.index)}}))):t.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),t},[])}function _C(n,e){var t=n.inputValue,i=t===void 0?"":t,r=e.data,s=e.isSelected,l=e.label,u=e.value;return(!dO(n)||!s)&&cO(n,{label:l,value:u,data:r},i)}var H0=function(n,e){var t;return((t=n.find(function(i){return i.data===e}))===null||t===void 0?void 0:t.id)||null},oO=function(n,e){return n.getOptionLabel(e)},wm=function(n,e){return n.getOptionValue(e)};function lO(n,e,t){return typeof n.isOptionDisabled=="function"&&n.isOptionDisabled(e,t)}function uO(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var i=wm(n,e);return t.some(function(r){return wm(n,r)===i})}function cO(n,e,t){return!n.filterOption||n.filterOption(e,t)}var dO=function(n){var e=n.hideSelectedOptions,t=n.isMulti;return e===void 0?t:e},F7=1,fO=function(n){(function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),u&&ub(l,u)})(s,S.Component);var e,t,i,r=dj(s);function s(l){var u;if(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}(this,s),(u=r.call(this,l)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},u.blockOptionHover=!1,u.isComposing=!1,u.commonProps=void 0,u.initialTouchX=0,u.initialTouchY=0,u.openAfterFocus=!1,u.scrollToFocusedOptionOnUpdate=!1,u.userIsDragging=void 0,u.isAppleDevice=sO()||I7(),u.controlRef=null,u.getControlRef=function(m){u.controlRef=m},u.focusedOptionRef=null,u.getFocusedOptionRef=function(m){u.focusedOptionRef=m},u.menuListRef=null,u.getMenuListRef=function(m){u.menuListRef=m},u.inputRef=null,u.getInputRef=function(m){u.inputRef=m},u.focus=u.focusInput,u.blur=u.blurInput,u.onChange=function(m,g){var v=u.props,_=v.onChange,w=v.name;g.name=w,u.ariaOnChange(m,g),_(m,g)},u.setValue=function(m,g,v){var _=u.props,w=_.closeMenuOnSelect,x=_.isMulti,b=_.inputValue;u.onInputChange("",{action:"set-value",prevInputValue:b}),w&&(u.setState({inputIsHiddenAfterUpdate:!x}),u.onMenuClose()),u.setState({clearFocusValueOnUpdate:!0}),u.onChange(m,{action:g,option:v})},u.selectOption=function(m){var g=u.props,v=g.blurInputOnSelect,_=g.isMulti,w=g.name,x=u.state.selectValue,b=_&&u.isOptionSelected(m,x),M=u.isOptionDisabled(m,x);if(b){var C=u.getOptionValue(m);u.setValue(x.filter(function(T){return u.getOptionValue(T)!==C}),"deselect-option",m)}else{if(M)return void u.ariaOnChange(m,{action:"select-option",option:m,name:w});_?u.setValue([].concat(Ex(x),[m]),"select-option",m):u.setValue(m,"select-option")}v&&u.blurInput()},u.removeValue=function(m){var g=u.props.isMulti,v=u.state.selectValue,_=u.getOptionValue(m),w=v.filter(function(b){return u.getOptionValue(b)!==_}),x=ip(g,w,w[0]||null);u.onChange(x,{action:"remove-value",removedValue:m}),u.focusInput()},u.clearValue=function(){var m=u.state.selectValue;u.onChange(ip(u.props.isMulti,[],null),{action:"clear",removedValues:m})},u.popValue=function(){var m=u.props.isMulti,g=u.state.selectValue,v=g[g.length-1],_=g.slice(0,g.length-1),w=ip(m,_,_[0]||null);u.onChange(w,{action:"pop-value",removedValue:v})},u.getFocusedOptionId=function(m){return H0(u.state.focusableOptionsWithIds,m)},u.getFocusableOptionsWithIds=function(){return yC(rp(u.props,u.state.selectValue),u.getElementId("option"))},u.getValue=function(){return u.state.selectValue},u.cx=function(){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];return $j.apply(void 0,[u.props.classNamePrefix].concat(g))},u.getOptionLabel=function(m){return oO(u.props,m)},u.getOptionValue=function(m){return wm(u.props,m)},u.getStyles=function(m,g){var v=u.props.unstyled,_=k7[m](g,v);_.boxSizing="border-box";var w=u.props.styles[m];return w?w(_,g):_},u.getClassNames=function(m,g){var v,_;return(v=(_=u.props.classNames)[m])===null||v===void 0?void 0:v.call(_,g)},u.getElementId=function(m){return"".concat(u.state.instancePrefix,"-").concat(m)},u.getComponents=function(){return m=u.props,lt(lt({},_7),m.components);var m},u.buildCategorizedOptions=function(){return rp(u.props,u.state.selectValue)},u.getCategorizedOptions=function(){return u.props.menuIsOpen?u.buildCategorizedOptions():[]},u.buildFocusableOptions=function(){return vC(u.buildCategorizedOptions())},u.getFocusableOptions=function(){return u.props.menuIsOpen?u.buildFocusableOptions():[]},u.ariaOnChange=function(m,g){u.setState({ariaSelection:lt({value:m},g)})},u.onMenuMouseDown=function(m){m.button===0&&(m.stopPropagation(),m.preventDefault(),u.focusInput())},u.onMenuMouseMove=function(m){u.blockOptionHover=!1},u.onControlMouseDown=function(m){if(!m.defaultPrevented){var g=u.props.openMenuOnClick;u.state.isFocused?u.props.menuIsOpen?m.target.tagName!=="INPUT"&&m.target.tagName!=="TEXTAREA"&&u.onMenuClose():g&&u.openMenu("first"):(g&&(u.openAfterFocus=!0),u.focusInput()),m.target.tagName!=="INPUT"&&m.target.tagName!=="TEXTAREA"&&m.preventDefault()}},u.onDropdownIndicatorMouseDown=function(m){if(!(m&&m.type==="mousedown"&&m.button!==0||u.props.isDisabled)){var g=u.props,v=g.isMulti,_=g.menuIsOpen;u.focusInput(),_?(u.setState({inputIsHiddenAfterUpdate:!v}),u.onMenuClose()):u.openMenu("first"),m.preventDefault()}},u.onClearIndicatorMouseDown=function(m){m&&m.type==="mousedown"&&m.button!==0||(u.clearValue(),m.preventDefault(),u.openAfterFocus=!1,m.type==="touchend"?u.focusInput():setTimeout(function(){return u.focusInput()}))},u.onScroll=function(m){typeof u.props.closeMenuOnScroll=="boolean"?m.target instanceof HTMLElement&&gg(m.target)&&u.props.onMenuClose():typeof u.props.closeMenuOnScroll=="function"&&u.props.closeMenuOnScroll(m)&&u.props.onMenuClose()},u.onCompositionStart=function(){u.isComposing=!0},u.onCompositionEnd=function(){u.isComposing=!1},u.onTouchStart=function(m){var g=m.touches,v=g&&g.item(0);v&&(u.initialTouchX=v.clientX,u.initialTouchY=v.clientY,u.userIsDragging=!1)},u.onTouchMove=function(m){var g=m.touches,v=g&&g.item(0);if(v){var _=Math.abs(v.clientX-u.initialTouchX),w=Math.abs(v.clientY-u.initialTouchY);u.userIsDragging=_>5||w>5}},u.onTouchEnd=function(m){u.userIsDragging||(u.controlRef&&!u.controlRef.contains(m.target)&&u.menuListRef&&!u.menuListRef.contains(m.target)&&u.blurInput(),u.initialTouchX=0,u.initialTouchY=0)},u.onControlTouchEnd=function(m){u.userIsDragging||u.onControlMouseDown(m)},u.onClearIndicatorTouchEnd=function(m){u.userIsDragging||u.onClearIndicatorMouseDown(m)},u.onDropdownIndicatorTouchEnd=function(m){u.userIsDragging||u.onDropdownIndicatorMouseDown(m)},u.handleInputChange=function(m){var g=u.props.inputValue,v=m.currentTarget.value;u.setState({inputIsHiddenAfterUpdate:!1}),u.onInputChange(v,{action:"input-change",prevInputValue:g}),u.props.menuIsOpen||u.onMenuOpen()},u.onInputFocus=function(m){u.props.onFocus&&u.props.onFocus(m),u.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(u.openAfterFocus||u.props.openMenuOnFocus)&&u.openMenu("first"),u.openAfterFocus=!1},u.onInputBlur=function(m){var g=u.props.inputValue;u.menuListRef&&u.menuListRef.contains(document.activeElement)?u.inputRef.focus():(u.props.onBlur&&u.props.onBlur(m),u.onInputChange("",{action:"input-blur",prevInputValue:g}),u.onMenuClose(),u.setState({focusedValue:null,isFocused:!1}))},u.onOptionHover=function(m){if(!u.blockOptionHover&&u.state.focusedOption!==m){var g=u.getFocusableOptions().indexOf(m);u.setState({focusedOption:m,focusedOptionId:g>-1?u.getFocusedOptionId(m):null})}},u.shouldHideSelectedOptions=function(){return dO(u.props)},u.onValueInputFocus=function(m){m.preventDefault(),m.stopPropagation(),u.focus()},u.onKeyDown=function(m){var g=u.props,v=g.isMulti,_=g.backspaceRemovesValue,w=g.escapeClearsValue,x=g.inputValue,b=g.isClearable,M=g.isDisabled,C=g.menuIsOpen,T=g.onKeyDown,O=g.tabSelectsValue,L=g.openMenuOnFocus,D=u.state,I=D.focusedOption,A=D.focusedValue,R=D.selectValue;if(!(M||typeof T=="function"&&(T(m),m.defaultPrevented))){switch(u.blockOptionHover=!0,m.key){case"ArrowLeft":if(!v||x)return;u.focusValue("previous");break;case"ArrowRight":if(!v||x)return;u.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(A)u.removeValue(A);else{if(!_)return;v?u.popValue():b&&u.clearValue()}break;case"Tab":if(u.isComposing||m.shiftKey||!C||!O||!I||L&&u.isOptionSelected(I,R))return;u.selectOption(I);break;case"Enter":if(m.keyCode===229)break;if(C){if(!I||u.isComposing)return;u.selectOption(I);break}return;case"Escape":C?(u.setState({inputIsHiddenAfterUpdate:!1}),u.onInputChange("",{action:"menu-close",prevInputValue:x}),u.onMenuClose()):b&&w&&u.clearValue();break;case" ":if(x)return;if(!C){u.openMenu("first");break}if(!I)return;u.selectOption(I);break;case"ArrowUp":C?u.focusOption("up"):u.openMenu("last");break;case"ArrowDown":C?u.focusOption("down"):u.openMenu("first");break;case"PageUp":if(!C)return;u.focusOption("pageup");break;case"PageDown":if(!C)return;u.focusOption("pagedown");break;case"Home":if(!C)return;u.focusOption("first");break;case"End":if(!C)return;u.focusOption("last");break;default:return}m.preventDefault()}},u.state.instancePrefix="react-select-"+(u.props.instanceId||++F7),u.state.selectValue=JT(l.value),l.menuIsOpen&&u.state.selectValue.length){var d=u.getFocusableOptionsWithIds(),f=u.buildFocusableOptions(),p=f.indexOf(u.state.selectValue[0]);u.state.focusableOptionsWithIds=d,u.state.focusedOption=f[p],u.state.focusedOptionId=H0(d,f[p])}return u}return e=s,t=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&tC(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(l){var u=this.props,d=u.isDisabled,f=u.menuIsOpen,p=this.state.isFocused;(p&&!d&&l.isDisabled||p&&f&&!l.menuIsOpen)&&this.focusInput(),p&&d&&!l.isDisabled?this.setState({isFocused:!1},this.onMenuClose):p||d||!l.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(tC(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(l,u){this.props.onInputChange(l,u)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(l){var u=this,d=this.state,f=d.selectValue,p=d.isFocused,m=this.buildFocusableOptions(),g=l==="first"?0:m.length-1;if(!this.props.isMulti){var v=m.indexOf(f[0]);v>-1&&(g=v)}this.scrollToFocusedOptionOnUpdate=!(p&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[g],focusedOptionId:this.getFocusedOptionId(m[g])},function(){return u.onMenuOpen()})}},{key:"focusValue",value:function(l){var u=this.state,d=u.selectValue,f=u.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var p=d.indexOf(f);f||(p=-1);var m=d.length-1,g=-1;if(d.length){switch(l){case"previous":g=p===0?0:p===-1?m:p-1;break;case"next":p>-1&&p<m&&(g=p+1)}this.setState({inputIsHidden:g!==-1,focusedValue:d[g]})}}}},{key:"focusOption",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",u=this.props.pageSize,d=this.state.focusedOption,f=this.getFocusableOptions();if(f.length){var p=0,m=f.indexOf(d);d||(m=-1),l==="up"?p=m>0?m-1:f.length-1:l==="down"?p=(m+1)%f.length:l==="pageup"?(p=m-u)<0&&(p=0):l==="pagedown"?(p=m+u)>f.length-1&&(p=f.length-1):l==="last"&&(p=f.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:f[p],focusedValue:null,focusedOptionId:this.getFocusedOptionId(f[p])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(z0):lt(lt({},z0),this.props.theme):z0}},{key:"getCommonProps",value:function(){var l=this.clearValue,u=this.cx,d=this.getStyles,f=this.getClassNames,p=this.getValue,m=this.selectOption,g=this.setValue,v=this.props,_=v.isMulti,w=v.isRtl,x=v.options;return{clearValue:l,cx:u,getStyles:d,getClassNames:f,getValue:p,hasValue:this.hasValue(),isMulti:_,isRtl:w,options:x,selectOption:m,selectProps:v,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var l=this.props,u=l.isClearable,d=l.isMulti;return u===void 0?d:u}},{key:"isOptionDisabled",value:function(l,u){return lO(this.props,l,u)}},{key:"isOptionSelected",value:function(l,u){return uO(this.props,l,u)}},{key:"filterOption",value:function(l,u){return cO(this.props,l,u)}},{key:"formatOptionLabel",value:function(l,u){if(typeof this.props.formatOptionLabel=="function"){var d=this.props.inputValue,f=this.state.selectValue;return this.props.formatOptionLabel(l,{context:u,inputValue:d,selectValue:f})}return this.getOptionLabel(l)}},{key:"formatGroupLabel",value:function(l){return this.props.formatGroupLabel(l)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var l=this.props,u=l.isDisabled,d=l.isSearchable,f=l.inputId,p=l.inputValue,m=l.tabIndex,g=l.form,v=l.menuIsOpen,_=l.required,w=this.getComponents().Input,x=this.state,b=x.inputIsHidden,M=x.ariaSelection,C=this.commonProps,T=f||this.getElementId("input"),O=lt(lt(lt({"aria-autocomplete":"list","aria-expanded":v,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":_,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},v&&{"aria-controls":this.getElementId("listbox")}),!d&&{"aria-readonly":!0}),this.hasValue()?(M==null?void 0:M.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return d?S.createElement(w,vt({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:T,innerRef:this.getInputRef,isDisabled:u,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:g,type:"text",value:p},O)):S.createElement(A7,vt({id:T,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Sm,onFocus:this.onInputFocus,disabled:u,tabIndex:m,inputMode:"none",form:g,value:""},O))}},{key:"renderPlaceholderOrValue",value:function(){var l=this,u=this.getComponents(),d=u.MultiValue,f=u.MultiValueContainer,p=u.MultiValueLabel,m=u.MultiValueRemove,g=u.SingleValue,v=u.Placeholder,_=this.commonProps,w=this.props,x=w.controlShouldRenderValue,b=w.isDisabled,M=w.isMulti,C=w.inputValue,T=w.placeholder,O=this.state,L=O.selectValue,D=O.focusedValue,I=O.isFocused;if(!this.hasValue()||!x)return C?null:S.createElement(v,vt({},_,{key:"placeholder",isDisabled:b,isFocused:I,innerProps:{id:this.getElementId("placeholder")}}),T);if(M)return L.map(function(R,N){var X=R===D,$="".concat(l.getOptionLabel(R),"-").concat(l.getOptionValue(R));return S.createElement(d,vt({},_,{components:{Container:f,Label:p,Remove:m},isFocused:X,isDisabled:b,key:$,index:N,removeProps:{onClick:function(){return l.removeValue(R)},onTouchEnd:function(){return l.removeValue(R)},onMouseDown:function(Z){Z.preventDefault()}},data:R}),l.formatOptionLabel(R,"value"))});if(C)return null;var A=L[0];return S.createElement(g,vt({},_,{data:A,isDisabled:b}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var l=this.getComponents().ClearIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,p=d.isLoading,m=this.state.isFocused;if(!this.isClearable()||!l||f||!this.hasValue()||p)return null;var g={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(l,vt({},u,{innerProps:g,isFocused:m}))}},{key:"renderLoadingIndicator",value:function(){var l=this.getComponents().LoadingIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,p=d.isLoading,m=this.state.isFocused;return l&&p?S.createElement(l,vt({},u,{innerProps:{"aria-hidden":"true"},isDisabled:f,isFocused:m})):null}},{key:"renderIndicatorSeparator",value:function(){var l=this.getComponents(),u=l.DropdownIndicator,d=l.IndicatorSeparator;if(!u||!d)return null;var f=this.commonProps,p=this.props.isDisabled,m=this.state.isFocused;return S.createElement(d,vt({},f,{isDisabled:p,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var l=this.getComponents().DropdownIndicator;if(!l)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(l,vt({},u,{innerProps:p,isDisabled:d,isFocused:f}))}},{key:"renderMenu",value:function(){var l=this,u=this.getComponents(),d=u.Group,f=u.GroupHeading,p=u.Menu,m=u.MenuList,g=u.MenuPortal,v=u.LoadingMessage,_=u.NoOptionsMessage,w=u.Option,x=this.commonProps,b=this.state.focusedOption,M=this.props,C=M.captureMenuScroll,T=M.inputValue,O=M.isLoading,L=M.loadingMessage,D=M.minMenuHeight,I=M.maxMenuHeight,A=M.menuIsOpen,R=M.menuPlacement,N=M.menuPosition,X=M.menuPortalTarget,$=M.menuShouldBlockScroll,Z=M.menuShouldScrollIntoView,K=M.noOptionsMessage,H=M.onMenuScrollToTop,Y=M.onMenuScrollToBottom;if(!A)return null;var G,te=function(V,W){var ue=V.type,le=V.data,he=V.isDisabled,Ae=V.isSelected,ge=V.label,Ne=V.value,nt=b===le,$e=he?void 0:function(){return l.onOptionHover(le)},Q=he?void 0:function(){return l.selectOption(le)},Je="".concat(l.getElementId("option"),"-").concat(W),mt={id:Je,onClick:Q,onMouseMove:$e,onMouseOver:$e,tabIndex:-1,role:"option","aria-selected":l.isAppleDevice?void 0:Ae};return S.createElement(w,vt({},x,{innerProps:mt,data:le,isDisabled:he,isSelected:Ae,key:Je,label:ge,type:ue,value:Ne,isFocused:nt,innerRef:nt?l.getFocusedOptionRef:void 0}),l.formatOptionLabel(V.data,"menu"))};if(this.hasOptions())G=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var W=V.data,ue=V.options,le=V.index,he="".concat(l.getElementId("group"),"-").concat(le),Ae="".concat(he,"-heading");return S.createElement(d,vt({},x,{key:he,data:W,options:ue,Heading:f,headingProps:{id:Ae,data:V.data},label:l.formatGroupLabel(V.data)}),V.options.map(function(ge){return te(ge,"".concat(le,"-").concat(ge.index))}))}if(V.type==="option")return te(V,"".concat(V.index))});else if(O){var F=L({inputValue:T});if(F===null)return null;G=S.createElement(v,x,F)}else{var ee=K({inputValue:T});if(ee===null)return null;G=S.createElement(_,x,ee)}var J={minMenuHeight:D,maxMenuHeight:I,menuPlacement:R,menuPosition:N,menuShouldScrollIntoView:Z},ie=S.createElement(n7,vt({},x,J),function(V){var W=V.ref,ue=V.placerProps,le=ue.placement,he=ue.maxHeight;return S.createElement(p,vt({},x,J,{innerRef:W,innerProps:{onMouseDown:l.onMenuMouseDown,onMouseMove:l.onMenuMouseMove},isLoading:O,placement:le}),S.createElement(L7,{captureEnabled:C,onTopArrive:H,onBottomArrive:Y,lockEnabled:$},function(Ae){return S.createElement(m,vt({},x,{innerRef:function(ge){l.getMenuListRef(ge),Ae(ge)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:l.getElementId("listbox")},isLoading:O,maxHeight:he,focusedOption:b}),G)}))});return X||N==="fixed"?S.createElement(g,vt({},x,{appendTo:X,controlElement:this.controlRef,menuPlacement:R,menuPosition:N}),ie):ie}},{key:"renderFormField",value:function(){var l=this,u=this.props,d=u.delimiter,f=u.isDisabled,p=u.isMulti,m=u.name,g=u.required,v=this.state.selectValue;if(g&&!this.hasValue()&&!f)return S.createElement(P7,{name:m,onFocus:this.onValueInputFocus});if(m&&!f){if(p){if(d){var _=v.map(function(b){return l.getOptionValue(b)}).join(d);return S.createElement("input",{name:m,type:"hidden",value:_})}var w=v.length>0?v.map(function(b,M){return S.createElement("input",{key:"i-".concat(M),name:m,type:"hidden",value:l.getOptionValue(b)})}):S.createElement("input",{name:m,type:"hidden",value:""});return S.createElement("div",null,w)}var x=v[0]?this.getOptionValue(v[0]):"";return S.createElement("input",{name:m,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var l=this.commonProps,u=this.state,d=u.ariaSelection,f=u.focusedOption,p=u.focusedValue,m=u.isFocused,g=u.selectValue,v=this.getFocusableOptions();return S.createElement(E7,vt({},l,{id:this.getElementId("live-region"),ariaSelection:d,focusedOption:f,focusedValue:p,isFocused:m,selectValue:g,focusableOptions:v,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var l=this.getComponents(),u=l.Control,d=l.IndicatorsContainer,f=l.SelectContainer,p=l.ValueContainer,m=this.props,g=m.className,v=m.id,_=m.isDisabled,w=m.menuIsOpen,x=this.state.isFocused,b=this.commonProps=this.getCommonProps();return S.createElement(f,vt({},b,{className:g,innerProps:{id:v,onKeyDown:this.onKeyDown},isDisabled:_,isFocused:x}),this.renderLiveRegion(),S.createElement(u,vt({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:_,isFocused:x,menuIsOpen:w}),S.createElement(p,vt({},b,{isDisabled:_}),this.renderPlaceholderOrValue(),this.renderInput()),S.createElement(d,vt({},b,{isDisabled:_}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],i=[{key:"getDerivedStateFromProps",value:function(l,u){var d=u.prevProps,f=u.clearFocusValueOnUpdate,p=u.inputIsHiddenAfterUpdate,m=u.ariaSelection,g=u.isFocused,v=u.prevWasFocused,_=u.instancePrefix,w=l.options,x=l.value,b=l.menuIsOpen,M=l.inputValue,C=l.isMulti,T=JT(x),O={};if(d&&(x!==d.value||w!==d.options||b!==d.menuIsOpen||M!==d.inputValue)){var L=b?function($,Z){return vC(rp($,Z))}(l,T):[],D=b?yC(rp(l,T),"".concat(_,"-option")):[],I=f?function($,Z){var K=$.focusedValue,H=$.selectValue.indexOf(K);if(H>-1){if(Z.indexOf(K)>-1)return K;if(H<Z.length)return Z[H]}return null}(u,T):null,A=function($,Z){var K=$.focusedOption;return K&&Z.indexOf(K)>-1?K:Z[0]}(u,L);O={selectValue:T,focusedOption:A,focusedOptionId:H0(D,A),focusableOptionsWithIds:D,focusedValue:I,clearFocusValueOnUpdate:!1}}var R=p!=null&&l!==d?{inputIsHidden:p,inputIsHiddenAfterUpdate:void 0}:{},N=m,X=g&&v;return g&&!X&&(N={value:ip(C,T,T[0]||null),options:T,action:"initial-input-focus"},X=!v),(m==null?void 0:m.action)==="initial-input-focus"&&(N=null),lt(lt(lt({},O),R),{},{prevProps:l,ariaSelection:N,prevWasFocused:X})}}],t&&IT(e.prototype,t),i&&IT(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}();fO.defaultProps=U7;var B7=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"],z7=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"],Lx=on(function(n){function e(t){return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}),H7=on(function(n){var e=Lx.default;n.exports=function(t,i){if(e(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,i||"default");if(e(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)},n.exports.__esModule=!0,n.exports.default=n.exports}),hO=on(function(n){var e=Lx.default;n.exports=function(t){var i=H7(t,"string");return e(i)==="symbol"?i:String(i)},n.exports.__esModule=!0,n.exports.default=n.exports}),V7=on(function(n){n.exports=function(e,t,i){return(t=hO(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},n.exports.__esModule=!0,n.exports.default=n.exports});on(function(n){function e(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,s)}return r}n.exports=function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?e(Object(r),!0).forEach(function(s){V7(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t},n.exports.__esModule=!0,n.exports.default=n.exports}),on(function(n){n.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.exports.__esModule=!0,n.exports.default=n.exports}),on(function(n){function e(t,i){for(var r=0;r<i.length;r++){var s=i[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,hO(s.key),s)}}n.exports=function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},n.exports.__esModule=!0,n.exports.default=n.exports});var G7=on(function(n){function e(t,i){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,i)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports});on(function(n){n.exports=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G7(e,t)},n.exports.__esModule=!0,n.exports.default=n.exports});var bC=on(function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}),j7=on(function(n){n.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},n.exports.__esModule=!0,n.exports.default=n.exports}),W7=on(function(n){n.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},n.exports.__esModule=!0,n.exports.default=n.exports}),Y7=on(function(n){var e=Lx.default;n.exports=function(t,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W7(t)},n.exports.__esModule=!0,n.exports.default=n.exports});on(function(n){n.exports=function(e){var t=j7();return function(){var i,r=bC(e);if(t){var s=bC(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Y7(this,i)}},n.exports.__esModule=!0,n.exports.default=n.exports});var bb=on(function(n){n.exports=function(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r},n.exports.__esModule=!0,n.exports.default=n.exports}),q7=on(function(n){n.exports=function(e){if(Array.isArray(e))return bb(e)},n.exports.__esModule=!0,n.exports.default=n.exports}),$7=on(function(n){n.exports=function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)},n.exports.__esModule=!0,n.exports.default=n.exports}),pO=on(function(n){n.exports=function(e,t){if(e){if(typeof e=="string")return bb(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?bb(e,t):void 0}},n.exports.__esModule=!0,n.exports.default=n.exports}),X7=on(function(n){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},n.exports.__esModule=!0,n.exports.default=n.exports});on(function(n){n.exports=function(e){return q7(e)||$7(e)||pO(e)||X7()},n.exports.__esModule=!0,n.exports.default=n.exports});var K7=on(function(n){n.exports=function(e){if(Array.isArray(e))return e},n.exports.__esModule=!0,n.exports.default=n.exports}),Z7=on(function(n){n.exports=function(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r,s,l,u,d=[],f=!0,p=!1;try{if(l=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;f=!1}else for(;!(f=(r=l.call(i)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(m){p=!0,s=m}finally{try{if(!f&&i.return!=null&&(u=i.return(),Object(u)!==u))return}finally{if(p)throw s}}return d}},n.exports.__esModule=!0,n.exports.default=n.exports}),Q7=on(function(n){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},n.exports.__esModule=!0,n.exports.default=n.exports});on(function(n){n.exports=function(e,t){return K7(e)||Z7(e,t)||pO(e,t)||Q7()},n.exports.__esModule=!0,n.exports.default=n.exports});var J7=on(function(n){n.exports=function(e,t){if(e==null)return{};var i,r,s={},l=Object.keys(e);for(r=0;r<l.length;r++)i=l[r],t.indexOf(i)>=0||(s[i]=e[i]);return s},n.exports.__esModule=!0,n.exports.default=n.exports});on(function(n){n.exports=function(e,t){if(e==null)return{};var i,r,s=J7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)i=l[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s},n.exports.__esModule=!0,n.exports.default=n.exports}),on(function(n){n.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},n.exports.__esModule=!0,n.exports.default=n.exports});var eW=S.forwardRef(function(n,e){var t=function(r){var s=r.defaultOptions,l=s!==void 0&&s,u=r.cacheOptions,d=u!==void 0&&u,f=r.loadOptions;r.options;var p=r.isLoading,m=p!==void 0&&p,g=r.onInputChange,v=r.filterOption,_=v===void 0?null:v,w=Jr(r,z7),x=w.inputValue,b=S.useRef(void 0),M=S.useRef(!1),C=ri(S.useState(Array.isArray(l)?l:void 0),2),T=C[0],O=C[1],L=ri(S.useState(x!==void 0?x:""),2),D=L[0],I=L[1],A=ri(S.useState(l===!0),2),R=A[0],N=A[1],X=ri(S.useState(void 0),2),$=X[0],Z=X[1],K=ri(S.useState([]),2),H=K[0],Y=K[1],G=ri(S.useState(!1),2),te=G[0],F=G[1],ee=ri(S.useState({}),2),J=ee[0],ie=ee[1],V=ri(S.useState(void 0),2),W=V[0],ue=V[1],le=ri(S.useState(void 0),2),he=le[0],Ae=le[1];d!==he&&(ie({}),Ae(d)),l!==W&&(O(Array.isArray(l)?l:void 0),ue(l)),S.useEffect(function(){return M.current=!0,function(){M.current=!1}},[]);var ge=S.useCallback(function($e,Q){if(!f)return Q();var Je=f($e,Q);Je&&typeof Je.then=="function"&&Je.then(Q,function(){return Q()})},[f]);S.useEffect(function(){l===!0&&ge(D,function($e){M.current&&(O($e||[]),N(!!b.current))})},[]);var Ne=S.useCallback(function($e,Q){var Je=function(pt,Ze,Lt){if(Lt){var Qe=Lt(pt,Ze);if(typeof Qe=="string")return Qe}return pt}($e,Q,g);if(!Je)return b.current=void 0,I(""),Z(""),Y([]),N(!1),void F(!1);if(d&&J[Je])I(Je),Z(Je),Y(J[Je]),N(!1),F(!1);else{var mt=b.current={};I(Je),N(!0),F(!$),ge(Je,function(pt){M&&mt===b.current&&(b.current=void 0,N(!1),Z(Je),Y(pt||[]),F(!1),ie(pt?lt(lt({},J),{},Su({},Je,pt)):J))})}},[d,ge,$,J,g]),nt=te?[]:D&&$?H:T||[];return lt(lt({},w),{},{options:nt,isLoading:R||m,onInputChange:Ne,filterOption:_})}(n),i=function(r){var s=r.defaultInputValue,l=s===void 0?"":s,u=r.defaultMenuIsOpen,d=u!==void 0&&u,f=r.defaultValue,p=f===void 0?null:f,m=r.inputValue,g=r.menuIsOpen,v=r.onChange,_=r.onInputChange,w=r.onMenuClose,x=r.onMenuOpen,b=r.value,M=Jr(r,B7),C=ri(S.useState(m!==void 0?m:l),2),T=C[0],O=C[1],L=ri(S.useState(g!==void 0?g:d),2),D=L[0],I=L[1],A=ri(S.useState(b!==void 0?b:p),2),R=A[0],N=A[1],X=S.useCallback(function(te,F){typeof v=="function"&&v(te,F),N(te)},[v]),$=S.useCallback(function(te,F){var ee;typeof _=="function"&&(ee=_(te,F)),O(ee!==void 0?ee:te)},[_]),Z=S.useCallback(function(){typeof x=="function"&&x(),I(!0)},[x]),K=S.useCallback(function(){typeof w=="function"&&w(),I(!1)},[w]),H=m!==void 0?m:T,Y=g!==void 0?g:D,G=b!==void 0?b:R;return lt(lt({},M),{},{inputValue:H,menuIsOpen:Y,onChange:X,onInputChange:$,onMenuClose:K,onMenuOpen:Z,value:G})}(t);return S.createElement(fO,vt({ref:e},i))}),tW=eW,nW=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if((i=e.length)!=t.length)return!1;for(r=i;r--!=0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((i=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=i;r--!=0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!=0;){var l=s[r];if(!n(e[l],t[l]))return!1}return!0}return e!=e&&t!=t},Eu;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(Eu||(Eu={}));class qo{constructor({apiKey:e,authReferrerPolicy:t,channel:i,client:r,id:s="__googleMapsScriptId",language:l,libraries:u=[],mapIds:d,nonce:f,region:p,retries:m=3,url:g="https://maps.googleapis.com/maps/api/js",version:v}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=i,this.client=r,this.id=s||"__googleMapsScriptId",this.language=l,this.libraries=u,this.mapIds=d,this.nonce=f,this.region=p,this.retries=m,this.url=g,this.version=v,qo.instance){if(!nW(this.options,qo.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(qo.instance.options)}`);return qo.instance}qo.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Eu.FAILURE:this.done?Eu.SUCCESS:this.loading?Eu.LOADING:Eu.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(i=>{i?t(i.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var iW=function(n,e,t){var i,r=n.bounds,s=n.location,l=function(d,f){var p={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&f.indexOf(m)<0&&(p[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function"){var g=0;for(m=Object.getOwnPropertySymbols(d);g<m.length;g++)f.indexOf(m[g])<0&&Object.prototype.propertyIsEnumerable.call(d,m[g])&&(p[m[g]]=d[m[g]])}return p}(n,["bounds","location"]),u=il({input:e},l);return t&&(u.sessionToken=t),r&&(u.bounds=new((i=google.maps.LatLngBounds).bind.apply(i,function(){for(var d=0,f=0,p=arguments.length;f<p;f++)d+=arguments[f].length;var m=Array(d),g=0;for(f=0;f<p;f++)for(var v=arguments[f],_=0,w=v.length;_<w;_++,g++)m[g]=v[_];return m}([void 0],r)))),s&&(u.location=new google.maps.LatLng(s)),u},rW=function(n){var e=n.autocompletionRequest,t=n.debounce,i=n.minLengthAutocomplete,r=n.placesService,s=n.sessionToken,l=n.withSessionToken,u=function(d,f,p){p===void 0&&(p={});var m=p.maxWait,g=S.useRef(null),v=S.useRef([]),_=p.leading,w=p.trailing===void 0||p.trailing,x=S.useRef(!1),b=S.useRef(null),M=S.useRef(!1),C=S.useRef(d);C.current=d;var T=S.useCallback(function(){clearTimeout(b.current),clearTimeout(g.current),g.current=null,v.current=[],b.current=null,x.current=!1},[]);S.useEffect(function(){return M.current=!1,function(){M.current=!0}},[]);var O=S.useCallback(function(){for(var D=[],I=0;I<arguments.length;I++)D[I]=arguments[I];v.current=D,clearTimeout(b.current),x.current&&(x.current=!1),b.current||!_||x.current||(C.current.apply(C,D),x.current=!0),b.current=setTimeout(function(){var A=!0;_&&x.current&&(A=!1),T(),!M.current&&w&&A&&C.current.apply(C,D)},f),m&&!g.current&&w&&(g.current=setTimeout(function(){var A=v.current;T(),M.current||C.current.apply(null,A)},m))},[m,f,T,_,w]),L=S.useCallback(function(){b.current&&(C.current.apply(null,v.current),T())},[T]);return[O,T,L]}(function(d,f){if(!r)return f([]);if(d.length<i)return f([]);var p=il({},e);r.getPlacePredictions(iW(p,d,l&&s),function(m){f((m||[]).map(function(g){return{label:g.description,value:g}}))})},t)[0];return u},aW=S.forwardRef(function(n,e){var t,i,r,s,l,u,d,f,p=function(w){var x=w.apiKey,b=w.apiOptions,M=w.onLoadFailed,C=S.useState(void 0),T=C[0],O=C[1],L=S.useState(void 0),D=L[0],I=L[1],A=function(){if(!window.google)throw new Error("[react-google-places-autocomplete]: Google script not loaded");if(!window.google.maps)throw new Error("[react-google-places-autocomplete]: Google maps script not loaded");if(!window.google.maps.places)throw new Error("[react-google-places-autocomplete]: Google maps places script not loaded");O(new window.google.maps.places.AutocompleteService),I(new google.maps.places.AutocompleteSessionToken)};return S.useEffect(function(){x?lj(void 0,void 0,void 0,function(){var R;return uj(this,function(N){switch(N.label){case 0:if(!x)return[2];N.label=1;case 1:return N.trys.push([1,4,,5]),window.google&&window.google.maps&&window.google.maps.places?[3,3]:[4,new qo(il({apiKey:x},il({libraries:["places"]},b))).load()];case 2:N.sent(),N.label=3;case 3:return A(),[3,5];case 4:return R=N.sent(),typeof M=="function"&&M(R),[3,5];case 5:return[2]}})}):A()},[]),{placesService:T,sessionToken:D,setSessionToken:I}}({apiKey:(t=n.apiKey)!==null&&t!==void 0?t:"",apiOptions:(i=n.apiOptions)!==null&&i!==void 0?i:{},onLoadFailed:(r=n.onLoadFailed)!==null&&r!==void 0?r:console.error}),m=p.placesService,g=p.sessionToken,v=p.setSessionToken,_=rW({autocompletionRequest:(s=n.autocompletionRequest)!==null&&s!==void 0?s:{},debounce:(l=n.debounce)!==null&&l!==void 0?l:300,minLengthAutocomplete:(u=n.minLengthAutocomplete)!==null&&u!==void 0?u:0,placesService:m,sessionToken:g,withSessionToken:(d=n.withSessionToken)!==null&&d!==void 0&&d});return S.useImperativeHandle(e,function(){return{getSessionToken:function(){return g},refreshSessionToken:function(){v(new google.maps.places.AutocompleteSessionToken)}}},[g]),ne.createElement(tW,il({},(f=n.selectProps)!==null&&f!==void 0?f:{},{loadOptions:_,getOptionValue:function(w){return w.value.place_id}}))});ai.string,ai.string,ai.func,ai.string;Sx.div`
  .input {
    width: 350px;
    background-color: #f5f5f5;
    color: #000000;
    padding: 8px 16px;
    min-height: 40px;
    border-radius: 8px;
    outline: none;
    border: 1px solid #555;
    line-height: 1.5;
    font-size: 16px;
    text-align: center;
  }

  input:focus {
    border-bottom: 2px solid #5b5fc7;
    border-radius: 8px;
  }

  input:hover {
    outline: 1px solid lightgrey;
  }`;const ap={tripType:[{id:1,label:"Solo Adventure",value:"solo"},{id:2,label:"Family Vacation",value:"family"},{id:3,label:"Romantic Getaway",value:"romantic"},{id:4,label:"Business Trip",value:"business"},{id:5,label:"Group Tour",value:"group"}],budget:[{id:1,label:"Budget Friendly",value:"budget",range:"Under $1000"},{id:2,label:"Mid-Range",value:"mid",range:"$1000-$3000"},{id:3,label:"Luxury",value:"luxury",range:"$3000-$5000"},{id:4,label:"Ultra Luxury",value:"ultra",range:"$5000+"}],interests:[{id:1,label:"Cultural & Historical",value:"cultural"},{id:2,label:"Adventure & Sports",value:"adventure"},{id:3,label:"Food & Cuisine",value:"food"},{id:4,label:"Nature & Wildlife",value:"nature"},{id:5,label:"Shopping & Entertainment",value:"shopping"},{id:6,label:"Relaxation & Wellness",value:"relaxation"}],pace:[{id:1,label:"Relaxed",value:"relaxed",description:"Plenty of free time"},{id:2,label:"Moderate",value:"moderate",description:"Balanced schedule"},{id:3,label:"Fast",value:"fast",description:"Action-packed"}]};function sW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2z"},child:[]}]})(n)}function oW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22.17 9.17c0-3.87-3.13-7-7-7s-7 3.13-7 7A6.98 6.98 0 0 0 14 16.06V20H6v-3h1v-4c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v4h1v5h16v-2h-3v-3.88a7 7 0 0 0 6.17-6.95zM4.5 11c.83 0 1.5-.67 1.5-1.5S5.33 8 4.5 8 3 8.67 3 9.5 3.67 11 4.5 11z"},child:[]}]})(n)}function lW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9 1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"},child:[]}]})(n)}function uW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9 7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"},child:[]}]})(n)}function cW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"},child:[]}]})(n)}function dW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"},child:[]}]})(n)}function fW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 11V9L12 2 2 9v2h2v9H2v2h20v-2h-2v-9h2zm-6 7h-2v-4l-2 3-2-3v4H8v-7h2l2 3 2-3h2v7z"},child:[]}]})(n)}function hW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(n)}function pW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0zm13.97 21.49c-.63.23-1.29.4-1.97.51.68-.12 1.33-.29 1.97-.51zM12 22z"},child:[]},{tag:"path",attr:{d:"M8.55 12zm10.43-1.61zM15.49 9.63c-.18-2.79-1.31-5.51-3.43-7.63a12.188 12.188 0 0 0-3.55 7.63c1.28.68 2.46 1.56 3.49 2.63 1.03-1.06 2.21-1.94 3.49-2.63zm-6.5 2.65c-.14-.1-.3-.19-.45-.29.15.11.31.19.45.29zm6.42-.25c-.13.09-.27.16-.4.26.13-.1.27-.17.4-.26zM12 15.45C9.85 12.17 6.18 10 2 10c0 5.32 3.36 9.82 8.03 11.49.63.23 1.29.4 1.97.51.68-.12 1.33-.29 1.97-.51C18.64 19.82 22 15.32 22 10c-4.18 0-7.85 2.17-10 5.45z"},child:[]}]})(n)}function mW(n){return Sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14.27 6c-.55.95-.22 2.18.73 2.73.95.55 2.18.22 2.73-.73.55-.95.22-2.18-.73-2.73-.95-.55-2.18-.22-2.73.73z"},child:[]},{tag:"path",attr:{d:"m15.84 10.41-2.6-1.5c-2.38-1.38-3.2-4.44-1.82-6.82l-1.73-1C8.1 3.83 8.6 7.21 10.66 9.4l-5.15 8.92 1.73 1 1.5-2.6 1.73 1-3 5.2 1.73 1 6.29-10.89a5.002 5.002 0 0 1 .31 5.46l1.73 1c1.6-2.75 1.28-6.58-1.69-9.08zM12.75 3.8c.72.41 1.63.17 2.05-.55.41-.72.17-1.63-.55-2.05a1.501 1.501 0 0 0-1.5 2.6z"},child:[]}]})(n)}var gW=n=>{switch(n){case"success":return _W;case"info":return xW;case"warning":return bW;case"error":return SW;default:return null}},vW=Array(12).fill(0),yW=({visible:n,className:e})=>ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ne.createElement("div",{className:"sonner-spinner"},vW.map((t,i)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),_W=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bW=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xW=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SW=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EW=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wW=()=>{let[n,e]=ne.useState(document.hidden);return ne.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},xb=1,MW=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...i}=n,r=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:xb++,s=this.toasts.find(u=>u.id===r),l=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(u=>u.id===r?(this.publish({...u,...n,id:r,title:t}),{...u,...n,id:r,dismissible:l,title:t}):u):this.addToast({title:t,...i,dismissible:l,id:r}),r},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=n instanceof Promise?n:n(),r=t!==void 0,s,l=i.then(async d=>{if(s=["resolve",d],ne.isValidElement(d))r=!1,this.create({id:t,type:"default",message:d});else if(CW(d)&&!d.ok){r=!1;let f=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,p=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description;this.create({id:t,type:"error",message:f,description:p})}else if(e.success!==void 0){r=!1;let f=typeof e.success=="function"?await e.success(d):e.success,p=typeof e.description=="function"?await e.description(d):e.description;this.create({id:t,type:"success",message:f,description:p})}}).catch(async d=>{if(s=["reject",d],e.error!==void 0){r=!1;let f=typeof e.error=="function"?await e.error(d):e.error,p=typeof e.description=="function"?await e.description(d):e.description;this.create({id:t,type:"error",message:f,description:p})}}).finally(()=>{var d;r&&(this.dismiss(t),t=void 0),(d=e.finally)==null||d.call(e)}),u=()=>new Promise((d,f)=>l.then(()=>s[0]==="reject"?f(s[1]):d(s[1])).catch(f));return typeof t!="string"&&typeof t!="number"?{unwrap:u}:Object.assign(t,{unwrap:u})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||xb++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ni=new MW,TW=(n,e)=>{let t=(e==null?void 0:e.id)||xb++;return Ni.addToast({title:n,...e,id:t}),t},CW=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",AW=TW,RW=()=>Ni.toasts,DW=()=>Ni.getActiveToasts(),V0=Object.assign(AW,{success:Ni.success,info:Ni.info,warning:Ni.warning,error:Ni.error,custom:Ni.custom,message:Ni.message,promise:Ni.promise,dismiss:Ni.dismiss,loading:Ni.loading},{getHistory:RW,getToasts:DW});function LW(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}LW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sp(n){return n.label!==void 0}var OW=3,PW="32px",IW="16px",xC=4e3,NW=356,kW=14,UW=20,FW=200;function Pr(...n){return n.filter(Boolean).join(" ")}function BW(n){let[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}var zW=n=>{var e,t,i,r,s,l,u,d,f,p,m;let{invert:g,toast:v,unstyled:_,interacting:w,setHeights:x,visibleToasts:b,heights:M,index:C,toasts:T,expanded:O,removeToast:L,defaultRichColors:D,closeButton:I,style:A,cancelButtonStyle:R,actionButtonStyle:N,className:X="",descriptionClassName:$="",duration:Z,position:K,gap:H,loadingIcon:Y,expandByDefault:G,classNames:te,icons:F,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:J}=n,[ie,V]=ne.useState(null),[W,ue]=ne.useState(null),[le,he]=ne.useState(!1),[Ae,ge]=ne.useState(!1),[Ne,nt]=ne.useState(!1),[$e,Q]=ne.useState(!1),[Je,mt]=ne.useState(!1),[pt,Ze]=ne.useState(0),[Lt,Qe]=ne.useState(0),j=ne.useRef(v.duration||Z||xC),U=ne.useRef(null),fe=ne.useRef(null),we=C===0,Re=C+1<=b,xe=v.type,Ye=v.dismissible!==!1,ke=v.className||"",He=v.descriptionClassName||"",wt=ne.useMemo(()=>M.findIndex(Le=>Le.toastId===v.id)||0,[M,v.id]),Oe=ne.useMemo(()=>{var Le;return(Le=v.closeButton)!=null?Le:I},[v.closeButton,I]),qe=ne.useMemo(()=>v.duration||Z||xC,[v.duration,Z]),et=ne.useRef(0),Xe=ne.useRef(0),Ve=ne.useRef(0),ft=ne.useRef(null),[it,jt]=K.split("-"),re=ne.useMemo(()=>M.reduce((Le,st,yt)=>yt>=wt?Le:Le+st.height,0),[M,wt]),Ue=wW(),be=v.invert||g,Te=xe==="loading";Xe.current=ne.useMemo(()=>wt*H+re,[wt,re]),ne.useEffect(()=>{j.current=qe},[qe]),ne.useEffect(()=>{he(!0)},[]),ne.useEffect(()=>{let Le=fe.current;if(Le){let st=Le.getBoundingClientRect().height;return Qe(st),x(yt=>[{toastId:v.id,height:st,position:v.position},...yt]),()=>x(yt=>yt.filter(bt=>bt.toastId!==v.id))}},[x,v.id]),ne.useLayoutEffect(()=>{if(!le)return;let Le=fe.current,st=Le.style.height;Le.style.height="auto";let yt=Le.getBoundingClientRect().height;Le.style.height=st,Qe(yt),x(bt=>bt.find(ln=>ln.toastId===v.id)?bt.map(ln=>ln.toastId===v.id?{...ln,height:yt}:ln):[{toastId:v.id,height:yt,position:v.position},...bt])},[le,v.title,v.description,x,v.id]);let Ie=ne.useCallback(()=>{ge(!0),Ze(Xe.current),x(Le=>Le.filter(st=>st.toastId!==v.id)),setTimeout(()=>{L(v)},FW)},[v,L,x,Xe]);ne.useEffect(()=>{if(v.promise&&xe==="loading"||v.duration===1/0||v.type==="loading")return;let Le;return O||w||J&&Ue?(()=>{if(Ve.current<et.current){let st=new Date().getTime()-et.current;j.current=j.current-st}Ve.current=new Date().getTime()})():j.current!==1/0&&(et.current=new Date().getTime(),Le=setTimeout(()=>{var st;(st=v.onAutoClose)==null||st.call(v,v),Ie()},j.current)),()=>clearTimeout(Le)},[O,w,v,xe,J,Ue,Ie]),ne.useEffect(()=>{v.delete&&Ie()},[Ie,v.delete]);function Fe(){var Le,st,yt;return F!=null&&F.loading?ne.createElement("div",{className:Pr(te==null?void 0:te.loader,(Le=v==null?void 0:v.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":xe==="loading"},F.loading):Y?ne.createElement("div",{className:Pr(te==null?void 0:te.loader,(st=v==null?void 0:v.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":xe==="loading"},Y):ne.createElement(yW,{className:Pr(te==null?void 0:te.loader,(yt=v==null?void 0:v.classNames)==null?void 0:yt.loader),visible:xe==="loading"})}return ne.createElement("li",{tabIndex:0,ref:fe,className:Pr(X,ke,te==null?void 0:te.toast,(e=v==null?void 0:v.classNames)==null?void 0:e.toast,te==null?void 0:te.default,te==null?void 0:te[xe],(t=v==null?void 0:v.classNames)==null?void 0:t[xe]),"data-sonner-toast":"","data-rich-colors":(i=v.richColors)!=null?i:D,"data-styled":!(v.jsx||v.unstyled||_),"data-mounted":le,"data-promise":!!v.promise,"data-swiped":Je,"data-removed":Ae,"data-visible":Re,"data-y-position":it,"data-x-position":jt,"data-index":C,"data-front":we,"data-swiping":Ne,"data-dismissible":Ye,"data-type":xe,"data-invert":be,"data-swipe-out":$e,"data-swipe-direction":W,"data-expanded":!!(O||G&&le),style:{"--index":C,"--toasts-before":C,"--z-index":T.length-C,"--offset":`${Ae?pt:Xe.current}px`,"--initial-height":G?"auto":`${Lt}px`,...A,...v.style},onDragEnd:()=>{nt(!1),V(null),ft.current=null},onPointerDown:Le=>{Te||!Ye||(U.current=new Date,Ze(Xe.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(nt(!0),ft.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,st,yt,bt;if($e||!Ye)return;ft.current=null;let ln=Number(((Le=fe.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),nn=Number(((st=fe.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ut=new Date().getTime()-((yt=U.current)==null?void 0:yt.getTime()),ui=ie==="x"?ln:nn,jn=Math.abs(ui)/ut;if(Math.abs(ui)>=UW||jn>.11){Ze(Xe.current),(bt=v.onDismiss)==null||bt.call(v,v),ue(ie==="x"?ln>0?"right":"left":nn>0?"down":"up"),Ie(),Q(!0),mt(!1);return}nt(!1),V(null)},onPointerMove:Le=>{var st,yt,bt,ln;if(!ft.current||!Ye||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;let nn=Le.clientY-ft.current.y,ut=Le.clientX-ft.current.x,ui=(yt=n.swipeDirections)!=null?yt:BW(K);!ie&&(Math.abs(ut)>1||Math.abs(nn)>1)&&V(Math.abs(ut)>Math.abs(nn)?"x":"y");let jn={x:0,y:0};ie==="y"?(ui.includes("top")||ui.includes("bottom"))&&(ui.includes("top")&&nn<0||ui.includes("bottom")&&nn>0)&&(jn.y=nn):ie==="x"&&(ui.includes("left")||ui.includes("right"))&&(ui.includes("left")&&ut<0||ui.includes("right")&&ut>0)&&(jn.x=ut),(Math.abs(jn.x)>0||Math.abs(jn.y)>0)&&mt(!0),(bt=fe.current)==null||bt.style.setProperty("--swipe-amount-x",`${jn.x}px`),(ln=fe.current)==null||ln.style.setProperty("--swipe-amount-y",`${jn.y}px`)}},Oe&&!v.jsx?ne.createElement("button",{"aria-label":ee,"data-disabled":Te,"data-close-button":!0,onClick:Te||!Ye?()=>{}:()=>{var Le;Ie(),(Le=v.onDismiss)==null||Le.call(v,v)},className:Pr(te==null?void 0:te.closeButton,(r=v==null?void 0:v.classNames)==null?void 0:r.closeButton)},(s=F==null?void 0:F.close)!=null?s:EW):null,v.jsx||S.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:ne.createElement(ne.Fragment,null,xe||v.icon||v.promise?ne.createElement("div",{"data-icon":"",className:Pr(te==null?void 0:te.icon,(l=v==null?void 0:v.classNames)==null?void 0:l.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Fe():null,v.type!=="loading"?v.icon||(F==null?void 0:F[xe])||gW(xe):null):null,ne.createElement("div",{"data-content":"",className:Pr(te==null?void 0:te.content,(u=v==null?void 0:v.classNames)==null?void 0:u.content)},ne.createElement("div",{"data-title":"",className:Pr(te==null?void 0:te.title,(d=v==null?void 0:v.classNames)==null?void 0:d.title)},typeof v.title=="function"?v.title():v.title),v.description?ne.createElement("div",{"data-description":"",className:Pr($,He,te==null?void 0:te.description,(f=v==null?void 0:v.classNames)==null?void 0:f.description)},typeof v.description=="function"?v.description():v.description):null),S.isValidElement(v.cancel)?v.cancel:v.cancel&&sp(v.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||R,onClick:Le=>{var st,yt;sp(v.cancel)&&Ye&&((yt=(st=v.cancel).onClick)==null||yt.call(st,Le),Ie())},className:Pr(te==null?void 0:te.cancelButton,(p=v==null?void 0:v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,S.isValidElement(v.action)?v.action:v.action&&sp(v.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||N,onClick:Le=>{var st,yt;sp(v.action)&&((yt=(st=v.action).onClick)==null||yt.call(st,Le),!Le.defaultPrevented&&Ie())},className:Pr(te==null?void 0:te.actionButton,(m=v==null?void 0:v.classNames)==null?void 0:m.actionButton)},v.action.label):null))};function SC(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function HW(n,e){let t={};return[n,e].forEach((i,r)=>{let s=r===1,l=s?"--mobile-offset":"--offset",u=s?IW:PW;function d(f){["top","right","bottom","left"].forEach(p=>{t[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof i=="number"||typeof i=="string"?d(i):typeof i=="object"?["top","right","bottom","left"].forEach(f=>{i[f]===void 0?t[`${l}-${f}`]=u:t[`${l}-${f}`]=typeof i[f]=="number"?`${i[f]}px`:i[f]}):d(u)}),t}var VW=S.forwardRef(function(n,e){let{invert:t,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:l,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:m,duration:g,style:v,visibleToasts:_=OW,toastOptions:w,dir:x=SC(),gap:b=kW,loadingIcon:M,icons:C,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:O}=n,[L,D]=ne.useState([]),I=ne.useMemo(()=>Array.from(new Set([i].concat(L.filter(J=>J.position).map(J=>J.position)))),[L,i]),[A,R]=ne.useState([]),[N,X]=ne.useState(!1),[$,Z]=ne.useState(!1),[K,H]=ne.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=ne.useRef(null),G=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=ne.useRef(null),F=ne.useRef(!1),ee=ne.useCallback(J=>{D(ie=>{var V;return(V=ie.find(W=>W.id===J.id))!=null&&V.delete||Ni.dismiss(J.id),ie.filter(({id:W})=>W!==J.id)})},[]);return ne.useEffect(()=>Ni.subscribe(J=>{if(J.dismiss){D(ie=>ie.map(V=>V.id===J.id?{...V,delete:!0}:V));return}setTimeout(()=>{tD.flushSync(()=>{D(ie=>{let V=ie.findIndex(W=>W.id===J.id);return V!==-1?[...ie.slice(0,V),{...ie[V],...J},...ie.slice(V+1)]:[J,...ie]})})})}),[]),ne.useEffect(()=>{if(p!=="system"){H(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:ie})=>{H(ie?"dark":"light")})}catch{J.addListener(({matches:V})=>{try{H(V?"dark":"light")}catch(W){console.error(W)}})}},[p]),ne.useEffect(()=>{L.length<=1&&X(!1)},[L]),ne.useEffect(()=>{let J=ie=>{var V,W;r.every(ue=>ie[ue]||ie.code===ue)&&(X(!0),(V=Y.current)==null||V.focus()),ie.code==="Escape"&&(document.activeElement===Y.current||(W=Y.current)!=null&&W.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[r]),ne.useEffect(()=>{if(Y.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,F.current=!1)}},[Y.current]),ne.createElement("section",{ref:e,"aria-label":`${T} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((J,ie)=>{var V;let[W,ue]=J.split("-");return L.length?ne.createElement("ol",{key:J,dir:x==="auto"?SC():x,tabIndex:-1,ref:Y,className:u,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":W,"data-lifted":N&&L.length>1&&!s,"data-x-position":ue,style:{"--front-toast-height":`${((V=A[0])==null?void 0:V.height)||0}px`,"--width":`${NW}px`,"--gap":`${b}px`,...v,...HW(d,f)},onBlur:le=>{F.current&&!le.currentTarget.contains(le.relatedTarget)&&(F.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||F.current||(F.current=!0,te.current=le.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{$||X(!1)},onDragEnd:()=>X(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},L.filter(le=>!le.position&&ie===0||le.position===J).map((le,he)=>{var Ae,ge;return ne.createElement(zW,{key:le.id,icons:C,index:he,toast:le,defaultRichColors:m,duration:(Ae=w==null?void 0:w.duration)!=null?Ae:g,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:t,visibleToasts:_,closeButton:(ge=w==null?void 0:w.closeButton)!=null?ge:l,interacting:$,position:J,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:ee,toasts:L.filter(Ne=>Ne.position==le.position),heights:A.filter(Ne=>Ne.position==le.position),setHeights:R,expandByDefault:s,gap:b,loadingIcon:M,expanded:N,pauseWhenPageIsHidden:O,swipeDirections:n.swipeDirections})})):null}))}),EC;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(EC||(EC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wC;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(wC||(wC={}));var MC;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(MC||(MC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=["user","model","function","system"];var CC;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(CC||(CC={}));var AC;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(AC||(AC={}));var RC;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(RC||(RC={}));var DC;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(DC||(DC={}));var Id;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER"})(Id||(Id={}));var LC;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(LC||(LC={}));var OC;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(OC||(OC={}));var PC;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(PC||(PC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class gu extends ki{constructor(e,t){super(e),this.response=t}}class mO extends ki{constructor(e,t,i,r){super(e),this.status=t,this.statusText=i,this.errorDetails=r}}class eo extends ki{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW="https://generativelanguage.googleapis.com",jW="v1beta",WW="0.21.0",YW="genai-js";var gl;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(gl||(gl={}));class qW{constructor(e,t,i,r,s){this.model=e,this.task=t,this.apiKey=i,this.stream=r,this.requestOptions=s}toString(){var e,t;const i=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||jW;let s=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||GW}/${i}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function $W(n){const e=[];return n!=null&&n.apiClient&&e.push(n.apiClient),e.push(`${YW}/${WW}`),e.join(" ")}async function XW(n){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",$W(n.requestOptions)),t.append("x-goog-api-key",n.apiKey);let i=(e=n.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(r){throw new eo(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${r.message}`)}for(const[r,s]of i.entries()){if(r==="x-goog-api-key")throw new eo(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new eo(`Header name ${r} can only be set using the apiClient field`);t.append(r,s)}}return t}async function KW(n,e,t,i,r,s){const l=new qW(n,e,t,i,s);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},eY(s)),{method:"POST",headers:await XW(l),body:r})}}async function mf(n,e,t,i,r,s={},l=fetch){const{url:u,fetchOptions:d}=await KW(n,e,t,i,r,s);return ZW(u,d,l)}async function ZW(n,e,t=fetch){let i;try{i=await t(n,e)}catch(r){QW(r,n)}return i.ok||await JW(i,n),i}function QW(n,e){let t=n;throw n instanceof mO||n instanceof eo||(t=new ki(`Error fetching from ${e.toString()}: ${n.message}`),t.stack=n.stack),t}async function JW(n,e){let t="",i;try{const r=await n.json();t=r.error.message,r.error.details&&(t+=` ${JSON.stringify(r.error.details)}`,i=r.error.details)}catch{}throw new mO(`Error fetching from ${e.toString()}: [${n.status} ${n.statusText}] ${t}`,n.status,n.statusText,i)}function eY(n){const e={};if((n==null?void 0:n.signal)!==void 0||(n==null?void 0:n.timeout)>=0){const t=new AbortController;(n==null?void 0:n.timeout)>=0&&setTimeout(()=>t.abort(),n.timeout),n!=null&&n.signal&&n.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),$p(n.candidates[0]))throw new gu(`${Gs(n)}`,n);return tY(n)}else if(n.promptFeedback)throw new gu(`Text not available. ${Gs(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),$p(n.candidates[0]))throw new gu(`${Gs(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),IC(n)[0]}else if(n.promptFeedback)throw new gu(`Function call not available. ${Gs(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),$p(n.candidates[0]))throw new gu(`${Gs(n)}`,n);return IC(n)}else if(n.promptFeedback)throw new gu(`Function call not available. ${Gs(n)}`,n)},n}function tY(n){var e,t,i,r;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const l of(r=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)l.text&&s.push(l.text),l.executableCode&&s.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&s.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function IC(n){var e,t,i,r;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const l of(r=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)l.functionCall&&s.push(l.functionCall);if(s.length>0)return s}const nY=[Id.RECITATION,Id.SAFETY,Id.LANGUAGE];function $p(n){return!!n.finishReason&&nY.includes(n.finishReason)}function Gs(n){var e,t,i;let r="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)r+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(r+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(r+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((i=n.candidates)===null||i===void 0)&&i[0]){const s=n.candidates[0];$p(s)&&(r+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(r+=`: ${s.finishMessage}`))}return r}function Wd(n){return this instanceof Wd?(this.v=n,this):new Wd(n)}function iY(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(g){i[g]&&(r[g]=function(v){return new Promise(function(_,w){s.push([g,v,_,w])>1||u(g,v)})})}function u(g,v){try{d(i[g](v))}catch(_){m(s[0][3],_)}}function d(g){g.value instanceof Wd?Promise.resolve(g.value.v).then(f,p):m(s[0][2],g)}function f(g){u("next",g)}function p(g){u("throw",g)}function m(g,v){g(v),s.shift(),s.length&&u(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function rY(n){const e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=oY(e),[i,r]=t.tee();return{stream:sY(i),response:aY(r)}}async function aY(n){const e=[],t=n.getReader();for(;;){const{done:i,value:r}=await t.read();if(i)return Ox(lY(e));e.push(r)}}function sY(n){return iY(this,arguments,function*(){const t=n.getReader();for(;;){const{value:i,done:r}=yield Wd(t.read());if(r)break;yield yield Wd(Ox(i))}})}function oY(n){const e=n.getReader();return new ReadableStream({start(i){let r="";return s();function s(){return e.read().then(({value:l,done:u})=>{if(u){if(r.trim()){i.error(new ki("Failed to parse stream"));return}i.close();return}r+=l;let d=r.match(NC),f;for(;d;){try{f=JSON.parse(d[1])}catch{i.error(new ki(`Error parsing JSON response: "${d[1]}"`));return}i.enqueue(f),r=r.substring(d[0].length),d=r.match(NC)}return s()})}}})}function lY(n){const e=n[n.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const i of n){if(i.candidates)for(const r of i.candidates){const s=r.index;if(t.candidates||(t.candidates=[]),t.candidates[s]||(t.candidates[s]={index:r.index}),t.candidates[s].citationMetadata=r.citationMetadata,t.candidates[s].groundingMetadata=r.groundingMetadata,t.candidates[s].finishReason=r.finishReason,t.candidates[s].finishMessage=r.finishMessage,t.candidates[s].safetyRatings=r.safetyRatings,r.content&&r.content.parts){t.candidates[s].content||(t.candidates[s].content={role:r.content.role||"user",parts:[]});const l={};for(const u of r.content.parts)u.text&&(l.text=u.text),u.functionCall&&(l.functionCall=u.functionCall),u.executableCode&&(l.executableCode=u.executableCode),u.codeExecutionResult&&(l.codeExecutionResult=u.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),t.candidates[s].content.parts.push(l)}}i.usageMetadata&&(t.usageMetadata=i.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(n,e,t,i){const r=await mf(e,gl.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),i);return rY(r)}async function vO(n,e,t,i){const s=await(await mf(e,gl.GENERATE_CONTENT,n,!1,JSON.stringify(t),i)).json();return{response:Ox(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function Yd(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(const t of n)typeof t=="string"?e.push({text:t}):e.push(t);return uY(e)}function uY(n){const e={role:"user",parts:[]},t={role:"function",parts:[]};let i=!1,r=!1;for(const s of n)"functionResponse"in s?(t.parts.push(s),r=!0):(e.parts.push(s),i=!0);if(i&&r)throw new ki("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!r)throw new ki("No content is provided for sending chat message.");return i?e:t}function cY(n,e){var t;let i={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const r=n.generateContentRequest!=null;if(n.contents){if(r)throw new eo("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=n.contents}else if(r)i=Object.assign(Object.assign({},i),n.generateContentRequest);else{const s=Yd(n);i.contents=[s]}return{generateContentRequest:i}}function kC(n){let e;return n.contents?e=n:e={contents:[Yd(n)]},n.systemInstruction&&(e.systemInstruction=yO(n.systemInstruction)),e}function dY(n){return typeof n=="string"||Array.isArray(n)?{content:Yd(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],fY={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function hY(n){let e=!1;for(const t of n){const{role:i,parts:r}=t;if(!e&&i!=="user")throw new ki(`First content should be with role 'user', got ${i}`);if(!TC.includes(i))throw new ki(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(TC)}`);if(!Array.isArray(r))throw new ki("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new ki("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of r)for(const d of UC)d in u&&(s[d]+=1);const l=fY[i];for(const u of UC)if(!l.includes(u)&&s[u]>0)throw new ki(`Content with role '${i}' can't contain '${u}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="SILENT_ERROR";class pY{constructor(e,t,i,r={}){this.model=t,this.params=i,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,i!=null&&i.history&&(hY(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var i,r,s,l,u,d;await this._sendPromise;const f=Yd(e),p={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,f]},m=Object.assign(Object.assign({},this._requestOptions),t);let g;return this._sendPromise=this._sendPromise.then(()=>vO(this._apiKey,this.model,p,m)).then(v=>{var _;if(v.response.candidates&&v.response.candidates.length>0){this._history.push(f);const w=Object.assign({parts:[],role:"model"},(_=v.response.candidates)===null||_===void 0?void 0:_[0].content);this._history.push(w)}else{const w=Gs(v.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}g=v}),await this._sendPromise,g}async sendMessageStream(e,t={}){var i,r,s,l,u,d;await this._sendPromise;const f=Yd(e),p={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,f]},m=Object.assign(Object.assign({},this._requestOptions),t),g=gO(this._apiKey,this.model,p,m);return this._sendPromise=this._sendPromise.then(()=>g).catch(v=>{throw new Error(FC)}).then(v=>v.response).then(v=>{if(v.candidates&&v.candidates.length>0){this._history.push(f);const _=Object.assign({},v.candidates[0].content);_.role||(_.role="model"),this._history.push(_)}else{const _=Gs(v);_&&console.warn(`sendMessageStream() was unsuccessful. ${_}. Inspect response object for details.`)}}).catch(v=>{v.message!==FC&&console.error(v)}),g}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mY(n,e,t,i){return(await mf(e,gl.COUNT_TOKENS,n,!1,JSON.stringify(t),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gY(n,e,t,i){return(await mf(e,gl.EMBED_CONTENT,n,!1,JSON.stringify(t),i)).json()}async function vY(n,e,t,i){const r=t.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await mf(e,gl.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:r}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,i={}){this.apiKey=e,this._requestOptions=i,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=yO(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var i;const r=kC(e),s=Object.assign(Object.assign({},this._requestOptions),t);return vO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}async generateContentStream(e,t={}){var i;const r=kC(e),s=Object.assign(Object.assign({},this._requestOptions),t);return gO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}startChat(e){var t;return new pY(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const i=cY(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return mY(this.apiKey,this.model,i,r)}async embedContent(e,t={}){const i=dY(e),r=Object.assign(Object.assign({},this._requestOptions),t);return gY(this.apiKey,this.model,i,r)}async batchEmbedContents(e,t={}){const i=Object.assign(Object.assign({},this._requestOptions),t);return vY(this.apiKey,this.model,e,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new ki("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new BC(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,i){if(!e.name)throw new eo("Cached content must contain a `name` field.");if(!e.model)throw new eo("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const l of r)if(t!=null&&t[l]&&e[l]&&(t==null?void 0:t[l])!==e[l]){if(l==="model"){const u=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,d=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(u===d)continue}throw new eo(`Different value for "${l}" specified in modelParams (${t[l]}) and cachedContent (${e[l]})`)}const s=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new BC(this.apiKey,s,i)}}const _Y=new yY("AIzaSyDCWd9jVXkwijwZRGogLR58N5kIcgu-_5k"),Px=({formData:n})=>{var g;const[e,t]=S.useState(null),[i,r]=S.useState(!1),[s,l]=S.useState(null),[u,d]=S.useState(0),f=3,p=2e3,m=async()=>{var v;if(!(!n||Object.keys(n).length===0)){r(!0),l(null);try{const _=JSON.stringify({destination:n.destination,days:n.days,budget:n.budget,type:n.type}),w=localStorage.getItem(_);if(w){const D=JSON.parse(w);t(D),n.onResponse&&n.onResponse(D),r(!1);return}const x=_Y.getGenerativeModel({model:"gemini-pro",generationConfig:{temperature:.7,topP:.8,maxOutputTokens:8192}}),b=`Create a travel plan for ${((v=n.destination)==null?void 0:v.label)||n.destination} 
        for ${n.days} days with a ${n.budget} budget.
        Return a JSON object with this exact structure:
        {
          "hotelOptions": [
            {
              "name": "Hotel Name",
              "address": "Hotel Address",
              "price": "Price Range",
              "rating": 4.5
            }
          ],
          "itinerary": {
            "day1": {
              "morning": {
                "activity": "Activity Description",
                "duration": "2 hours",
                "location": "Location Name"
              },
              "afternoon": {
                "activity": "Activity Description",
                "duration": "3 hours",
                "location": "Location Name"
              },
              "evening": {
                "activity": "Activity Description",
                "duration": "2 hours",
                "location": "Location Name"
              }
            }
          }
        }`,C=await(await x.generateContent(b)).response.text();d(0);const O=C.replace(/```json\s*|\s*```/g,"").replace(/[\u201C\u201D\u2018\u2019]/g,'"').trim().match(/\{[\s\S]*\}/);if(!O)throw new Error("Invalid response format");const L=JSON.parse(O[0]);if(!L.hotelOptions||!L.itinerary)throw new Error("Missing required data");localStorage.setItem(_,JSON.stringify(L)),t(L),n.onResponse&&n.onResponse(L)}catch(_){console.error("Error:",_),_.message.includes("429")||_.message.includes("quota")?(l("API rate limit reached. Please try again in a few moments."),u<f&&(d(w=>w+1),setTimeout(()=>{m()},p*(u+1)))):l("Failed to generate travel plan. Please try again.")}finally{r(!1)}}};return S.useEffect(()=>{m()},[n.destination,n.days,n.budget,n.type]),i?k.jsxs("div",{className:"loading-container",children:[k.jsx("div",{className:"loading-spinner"}),k.jsx("p",{className:"loading-text",children:u>0?`Rate limit reached. Retrying in a moment... (Attempt ${u}/${f})`:"Creating your perfect travel plan..."})]}):s?k.jsxs("div",{className:"error",children:[k.jsx("p",{children:s}),s.includes("rate limit")&&k.jsx("p",{className:"error-hint",children:"Please wait a moment before trying again. The API has a limit on how many requests it can handle at once."}),k.jsx("button",{onClick:()=>{d(0),m()},className:"retry-button",children:"Try Again"})]}):e?k.jsxs("div",{className:"response",children:[k.jsx("h2",{children:"Your Travel Plan"}),k.jsxs("div",{className:"hotels",children:[k.jsx("h3",{children:"Recommended Hotels"}),k.jsx("div",{className:"hotel-grid",children:(g=e.hotelOptions)==null?void 0:g.map((v,_)=>k.jsxs("div",{className:"hotel-card",children:[v.HotelImageUrl&&k.jsx("img",{src:v.HotelImageUrl,alt:v.name,className:"hotel-image",onError:w=>{w.target.src="https://via.placeholder.com/300x200?text=Hotel+Image"}}),k.jsxs("div",{className:"hotel-info",children:[k.jsx("h4",{children:v.name}),k.jsx("p",{children:v.address}),k.jsxs("p",{children:[k.jsx("strong",{children:"Price:"})," ",v.price]}),v.rating&&k.jsxs("p",{children:[k.jsx("strong",{children:"Rating:"})," ",v.rating,"/5"]})]})]},_))})]}),k.jsxs("div",{className:"itinerary",children:[k.jsx("h3",{children:"Daily Itinerary"}),Object.entries(e.itinerary||{}).map(([v,_],w)=>k.jsxs("div",{className:"day-plan",children:[k.jsxs("h4",{children:["Day ",w+1]}),["morning","afternoon","evening"].map(x=>_[x]&&k.jsxs("div",{className:"activity-card",children:[k.jsx("h5",{children:x.toUpperCase()}),k.jsx("p",{children:_[x].activity}),_[x].duration&&k.jsxs("p",{children:["Duration: ",_[x].duration]}),_[x].location&&k.jsxs("p",{children:["Location: ",_[x].location]})]},x))]},v))]})]}):null};Px.propTypes={formData:ai.shape({destination:ai.oneOfType([ai.string,ai.shape({label:ai.string,value:ai.any})]).isRequired,days:ai.oneOfType([ai.number,ai.string]).isRequired,budget:ai.string.isRequired,type:ai.string.isRequired}).isRequired};function _O(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=_O(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function mi(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=_O(n))&&(i&&(i+=" "),i+=e);return i}const bO=6048e5,bY=864e5,vg=6e4,yg=36e5,xY=1e3,zC=Symbol.for("constructDateFrom");function cn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&zC in n?n[zC](e):n instanceof Date?new n.constructor(e):new Date(e)}function rt(n,e){return cn(e||n,n)}function Br(n,e,t){const i=rt(n,t==null?void 0:t.in);return isNaN(e)?cn((t==null?void 0:t.in)||n,NaN):(e&&i.setDate(i.getDate()+e),i)}function zr(n,e,t){const i=rt(n,t==null?void 0:t.in);if(isNaN(e))return cn(n,NaN);if(!e)return i;const r=i.getDate(),s=cn(n,i.getTime());s.setMonth(i.getMonth()+e+1,0);const l=s.getDate();return r>=l?s:(i.setFullYear(s.getFullYear(),s.getMonth(),r),i)}function xO(n,e,t){return cn(n,+rt(n)+e)}function SY(n,e,t){return xO(n,e*yg)}let EY={};function xl(){return EY}function ls(n,e){var u,d,f,p;const t=xl(),i=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,r=rt(n,e==null?void 0:e.in),s=r.getDay(),l=(s<i?7:0)+s-i;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function qu(n,e){return ls(n,{...e,weekStartsOn:1})}function SO(n,e){const t=rt(n,e==null?void 0:e.in),i=t.getFullYear(),r=cn(t,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=qu(r),l=cn(t,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const u=qu(l);return t.getTime()>=s.getTime()?i+1:t.getTime()>=u.getTime()?i:i-1}function Mm(n){const e=rt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function ds(n,...e){const t=cn.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function vl(n,e){const t=rt(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function $u(n,e,t){const[i,r]=ds(t==null?void 0:t.in,n,e),s=vl(i),l=vl(r),u=+s-Mm(s),d=+l-Mm(l);return Math.round((u-d)/bY)}function wY(n,e){const t=SO(n,e),i=cn(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),qu(i)}function Sb(n,e,t){const i=rt(n,t==null?void 0:t.in);return i.setTime(i.getTime()+e*vg),i}function Ix(n,e,t){return zr(n,e*3,t)}function MY(n,e,t){return xO(n,e*1e3)}function Tm(n,e,t){return Br(n,e*7,t)}function Ja(n,e,t){return zr(n,e*12,t)}function HC(n,e){let t,i=e==null?void 0:e.in;return n.forEach(r=>{!i&&typeof r=="object"&&(i=cn.bind(null,r));const s=rt(r,i);(!t||t<s||isNaN(+s))&&(t=s)}),cn(i,t||NaN)}function VC(n,e){let t,i=e==null?void 0:e.in;return n.forEach(r=>{!i&&typeof r=="object"&&(i=cn.bind(null,r));const s=rt(r,i);(!t||t>s||isNaN(+s))&&(t=s)}),cn(i,t||NaN)}function TY(n,e,t){const[i,r]=ds(t==null?void 0:t.in,n,e);return+vl(i)==+vl(r)}function es(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Cm(n){return!(!es(n)&&typeof n!="number"||isNaN(+rt(n)))}function Am(n,e,t){const[i,r]=ds(t==null?void 0:t.in,n,e),s=i.getFullYear()-r.getFullYear(),l=i.getMonth()-r.getMonth();return s*12+l}function sl(n,e){const t=rt(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Rm(n,e,t){const[i,r]=ds(t==null?void 0:t.in,n,e),s=i.getFullYear()-r.getFullYear(),l=sl(i)-sl(r);return s*4+l}function Dm(n,e,t){const[i,r]=ds(t==null?void 0:t.in,n,e);return i.getFullYear()-r.getFullYear()}function CY(n,e,t){const[i,r]=ds(t==null?void 0:t.in,n,e),s=GC(i,r),l=Math.abs($u(i,r));i.setDate(i.getDate()-s*l);const u=+(GC(i,r)===-s),d=s*(l-u);return d===0?0:d}function GC(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function EO(n,e){const t=rt(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function wO(n,e){const t=rt(n,e==null?void 0:e.in),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function Eb(n,e){const t=rt(n,e==null?void 0:e.in),i=t.getMonth(),r=i-i%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function MO(n,e){const t=rt(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function TO(n,e){const t=rt(n,e==null?void 0:e.in),i=t.getFullYear();return t.setFullYear(i+1,0,0),t.setHours(23,59,59,999),t}function _g(n,e){const t=rt(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function AY(n,e){var u,d;const t=xl(),i=t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=rt(n,e==null?void 0:e.in),s=r.getDay(),l=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+l),r.setHours(23,59,59,999),r}const RY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DY=(n,e,t)=>{let i;const r=RY[n];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function G0(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const LY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IY={date:G0({formats:LY,defaultWidth:"full"}),time:G0({formats:OY,defaultWidth:"full"}),dateTime:G0({formats:PY,defaultWidth:"full"})},NY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kY=(n,e,t,i)=>NY[n];function md(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;r=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;r=n.values[u]||n.values[l]}const s=n.argumentCallback?n.argumentCallback(e):e;return r[s]}}const UY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},HY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GY=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},jY={ordinalNumber:GY,era:md({values:UY,defaultWidth:"wide"}),quarter:md({values:FY,defaultWidth:"wide",argumentCallback:n=>n-1}),month:md({values:BY,defaultWidth:"wide"}),day:md({values:zY,defaultWidth:"wide"}),dayPeriod:md({values:HY,defaultWidth:"wide",formattingValues:VY,defaultFormattingWidth:"wide"})};function gd(n){return(e,t={})=>{const i=t.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],s=e.match(r);if(!s)return null;const l=s[0],u=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(u)?YY(u,m=>m.test(l)):WY(u,m=>m.test(l));let f;f=n.valueCallback?n.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function WY(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function YY(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function qY(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const r=i[0],s=e.match(n.parsePattern);if(!s)return null;let l=n.valueCallback?n.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(r.length);return{value:l,rest:u}}}const $Y=/^(\d+)(th|st|nd|rd)?/i,XY=/\d+/i,KY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZY={any:[/^b/i,/^(a|c)/i]},QY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JY={any:[/1/i,/2/i,/3/i,/4/i]},eq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sq={ordinalNumber:qY({matchPattern:$Y,parsePattern:XY,valueCallback:n=>parseInt(n,10)}),era:gd({matchPatterns:KY,defaultMatchWidth:"wide",parsePatterns:ZY,defaultParseWidth:"any"}),quarter:gd({matchPatterns:QY,defaultMatchWidth:"wide",parsePatterns:JY,defaultParseWidth:"any",valueCallback:n=>n+1}),month:gd({matchPatterns:eq,defaultMatchWidth:"wide",parsePatterns:tq,defaultParseWidth:"any"}),day:gd({matchPatterns:nq,defaultMatchWidth:"wide",parsePatterns:iq,defaultParseWidth:"any"}),dayPeriod:gd({matchPatterns:rq,defaultMatchWidth:"any",parsePatterns:aq,defaultParseWidth:"any"})},CO={code:"en-US",formatDistance:DY,formatLong:IY,formatRelative:kY,localize:jY,match:sq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oq(n,e){const t=rt(n,e==null?void 0:e.in);return $u(t,_g(t))+1}function Nx(n,e){const t=rt(n,e==null?void 0:e.in),i=+qu(t)-+wY(t);return Math.round(i/bO)+1}function kx(n,e){var p,m,g,v;const t=rt(n,e==null?void 0:e.in),i=t.getFullYear(),r=xl(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,l=cn((e==null?void 0:e.in)||n,0);l.setFullYear(i+1,0,s),l.setHours(0,0,0,0);const u=ls(l,e),d=cn((e==null?void 0:e.in)||n,0);d.setFullYear(i,0,s),d.setHours(0,0,0,0);const f=ls(d,e);return+t>=+u?i+1:+t>=+f?i:i-1}function lq(n,e){var u,d,f,p;const t=xl(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,r=kx(n,e),s=cn((e==null?void 0:e.in)||n,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),ls(s,e)}function AO(n,e){const t=rt(n,e==null?void 0:e.in),i=+ls(t,e)-+lq(t,e);return Math.round(i/bO)+1}function un(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const zs={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return un(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):un(t+1,2)},d(n,e){return un(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return un(n.getHours()%12||12,e.length)},H(n,e){return un(n.getHours(),e.length)},m(n,e){return un(n.getMinutes(),e.length)},s(n,e){return un(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,t-3));return un(r,e.length)}},vu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jC={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return t.ordinalNumber(r,{unit:"year"})}return zs.y(n,e)},Y:function(n,e,t,i){const r=kx(n,i),s=r>0?r:1-r;if(e==="YY"){const l=s%100;return un(l,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):un(s,e.length)},R:function(n,e){const t=SO(n);return un(t,e.length)},u:function(n,e){const t=n.getFullYear();return un(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return un(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return un(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return zs.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return un(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const r=AO(n,i);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):un(r,e.length)},I:function(n,e,t){const i=Nx(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):un(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):zs.d(n,e)},D:function(n,e,t){const i=oq(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):un(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const r=n.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return un(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const r=n.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return un(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return un(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let r;switch(i===12?r=vu.noon:i===0?r=vu.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let r;switch(i>=17?r=vu.evening:i>=12?r=vu.afternoon:i>=4?r=vu.morning:r=vu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return zs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):zs.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):un(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):un(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):zs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):zs.s(n,e)},S:function(n,e){return zs.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return YC(i);case"XXXX":case"XX":return jo(i);case"XXXXX":case"XXX":default:return jo(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return YC(i);case"xxxx":case"xx":return jo(i);case"xxxxx":case"xxx":default:return jo(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WC(i,":");case"OOOO":default:return"GMT"+jo(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WC(i,":");case"zzzz":default:return"GMT"+jo(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return un(i,e.length)},T:function(n,e,t){return un(+n,e.length)}};function WC(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),s=i%60;return s===0?t+String(r):t+String(r)+e+un(s,2)}function YC(n,e){return n%60===0?(n>0?"-":"+")+un(Math.abs(n)/60,2):jo(n,e)}function jo(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),r=un(Math.trunc(i/60),2),s=un(i%60,2);return t+r+e+s}const qC=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RO=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},uq=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],r=t[2];if(!r)return qC(n,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",qC(i,e)).replace("{{time}}",RO(r,e))},wb={p:RO,P:uq},cq=/^D+$/,dq=/^Y+$/,fq=["D","DD","YY","YYYY"];function hq(n){return cq.test(n)}function pq(n){return dq.test(n)}function mq(n,e,t){const i=gq(n,e,t);if(console.warn(i),fq.includes(n))throw new RangeError(i)}function gq(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_q=/^'([^]*?)'?$/,bq=/''/g,xq=/[a-zA-Z]/;function $C(n,e,t){var p,m,g,v,_,w,x,b;const i=xl(),r=(t==null?void 0:t.locale)??i.locale??CO,s=(t==null?void 0:t.firstWeekContainsDate)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((w=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:w.weekStartsOn)??i.weekStartsOn??((b=(x=i.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,u=rt(n,t==null?void 0:t.in);if(!Cm(u))throw new RangeError("Invalid time value");let d=e.match(yq).map(M=>{const C=M[0];if(C==="p"||C==="P"){const T=wb[C];return T(M,r.formatLong)}return M}).join("").match(vq).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const C=M[0];if(C==="'")return{isToken:!1,value:Sq(M)};if(jC[C])return{isToken:!0,value:M};if(C.match(xq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:M}});r.localize.preprocessor&&(d=r.localize.preprocessor(u,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:r};return d.map(M=>{if(!M.isToken)return M.value;const C=M.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&pq(C)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&hq(C))&&mq(C,e,String(n));const T=jC[C[0]];return T(u,C,r.localize,f)}).join("")}function Sq(n){const e=n.match(_q);return e?e[1].replace(bq,"'"):n}function XC(n,e){return rt(n,e==null?void 0:e.in).getDate()}function Eq(n,e){return rt(n,e==null?void 0:e.in).getDay()}function wq(n,e){const t=rt(n,e==null?void 0:e.in),i=t.getFullYear(),r=t.getMonth(),s=cn(t,0);return s.setFullYear(i,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Mq(){return Object.assign({},xl())}function ts(n,e){return rt(n,e==null?void 0:e.in).getHours()}function Tq(n,e){const t=rt(n,e==null?void 0:e.in).getDay();return t===0?7:t}function ns(n,e){return rt(n,e==null?void 0:e.in).getMinutes()}function Ci(n,e){return rt(n,e==null?void 0:e.in).getMonth()}function to(n){return rt(n).getSeconds()}function Mb(n){return+rt(n)}function It(n,e){return rt(n,e==null?void 0:e.in).getFullYear()}function so(n,e){return+rt(n)>+rt(e)}function yl(n,e){return+rt(n)<+rt(e)}function Cq(n,e){return+rt(n)==+rt(e)}function Aq(n,e){const t=Rq(e)?new e(0):cn(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function Rq(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const Dq=10;class DO{constructor(){Ke(this,"subPriority",0)}validate(e,t){return!0}}class Lq extends DO{constructor(e,t,i,r,s){super(),this.value=e,this.validateValue=t,this.setValue=i,this.priority=r,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,i){return this.setValue(e,t,this.value,i)}}class Oq extends DO{constructor(t,i){super();Ke(this,"priority",Dq);Ke(this,"subPriority",-1);this.context=t||(r=>cn(i,r))}set(t,i){return i.timestampIsSet?t:cn(t,Aq(t,this.context))}}class tn{run(e,t,i,r){const s=this.parse(e,t,i,r);return s?{setter:new Lq(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,i){return!0}}class Pq extends tn{constructor(){super(...arguments);Ke(this,"priority",140);Ke(this,"incompatibleTokens",["R","u","t","T"])}parse(t,i,r){switch(i){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,i,r){return i.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}const kn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ea={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Un(n,e){return n&&{value:e(n.value),rest:n.rest}}function Tn(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ta(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const i=t[1]==="+"?1:-1,r=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:i*(r*yg+s*vg+l*xY),rest:e.slice(t[0].length)}}function LO(n){return Tn(kn.anyDigitsSigned,n)}function In(n,e){switch(n){case 1:return Tn(kn.singleDigit,e);case 2:return Tn(kn.twoDigits,e);case 3:return Tn(kn.threeDigits,e);case 4:return Tn(kn.fourDigits,e);default:return Tn(new RegExp("^\\d{1,"+n+"}"),e)}}function Lm(n,e){switch(n){case 1:return Tn(kn.singleDigitSigned,e);case 2:return Tn(kn.twoDigitsSigned,e);case 3:return Tn(kn.threeDigitsSigned,e);case 4:return Tn(kn.fourDigitsSigned,e);default:return Tn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Ux(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function OO(n,e){const t=e>0,i=t?e:1-e;let r;if(i<=50)r=n||100;else{const s=i+50,l=Math.trunc(s/100)*100,u=n>=s%100;r=n+l-(u?100:0)}return t?r:1-r}function PO(n){return n%400===0||n%4===0&&n%100!==0}class Iq extends tn{constructor(){super(...arguments);Ke(this,"priority",130);Ke(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,i,r){const s=l=>({year:l,isTwoDigitYear:i==="yy"});switch(i){case"y":return Un(In(4,t),s);case"yo":return Un(r.ordinalNumber(t,{unit:"year"}),s);default:return Un(In(i.length,t),s)}}validate(t,i){return i.isTwoDigitYear||i.year>0}set(t,i,r){const s=t.getFullYear();if(r.isTwoDigitYear){const u=OO(r.year,s);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in i)||i.era===1?r.year:1-r.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class Nq extends tn{constructor(){super(...arguments);Ke(this,"priority",130);Ke(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,i,r){const s=l=>({year:l,isTwoDigitYear:i==="YY"});switch(i){case"Y":return Un(In(4,t),s);case"Yo":return Un(r.ordinalNumber(t,{unit:"year"}),s);default:return Un(In(i.length,t),s)}}validate(t,i){return i.isTwoDigitYear||i.year>0}set(t,i,r,s){const l=kx(t,s);if(r.isTwoDigitYear){const d=OO(r.year,l);return t.setFullYear(d,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),ls(t,s)}const u=!("era"in i)||i.era===1?r.year:1-r.year;return t.setFullYear(u,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),ls(t,s)}}class kq extends tn{constructor(){super(...arguments);Ke(this,"priority",130);Ke(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,i){return Lm(i==="R"?4:i.length,t)}set(t,i,r){const s=cn(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),qu(s)}}class Uq extends tn{constructor(){super(...arguments);Ke(this,"priority",130);Ke(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,i){return Lm(i==="u"?4:i.length,t)}set(t,i,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class Fq extends tn{constructor(){super(...arguments);Ke(this,"priority",120);Ke(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,i,r){switch(i){case"Q":case"QQ":return In(i.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=1&&i<=4}set(t,i,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class Bq extends tn{constructor(){super(...arguments);Ke(this,"priority",120);Ke(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,i,r){switch(i){case"q":case"qq":return In(i.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=1&&i<=4}set(t,i,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class zq extends tn{constructor(){super(...arguments);Ke(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ke(this,"priority",110)}parse(t,i,r){const s=l=>l-1;switch(i){case"M":return Un(Tn(kn.month,t),s);case"MM":return Un(In(2,t),s);case"Mo":return Un(r.ordinalNumber(t,{unit:"month"}),s);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=11}set(t,i,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class Hq extends tn{constructor(){super(...arguments);Ke(this,"priority",110);Ke(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,i,r){const s=l=>l-1;switch(i){case"L":return Un(Tn(kn.month,t),s);case"LL":return Un(In(2,t),s);case"Lo":return Un(r.ordinalNumber(t,{unit:"month"}),s);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=0&&i<=11}set(t,i,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}function Vq(n,e,t){const i=rt(n,t==null?void 0:t.in),r=AO(i,t)-e;return i.setDate(i.getDate()-r*7),rt(i,t==null?void 0:t.in)}class Gq extends tn{constructor(){super(...arguments);Ke(this,"priority",100);Ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,i,r){switch(i){case"w":return Tn(kn.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return In(i.length,t)}}validate(t,i){return i>=1&&i<=53}set(t,i,r,s){return ls(Vq(t,r,s),s)}}function jq(n,e,t){const i=rt(n,t==null?void 0:t.in),r=Nx(i,t)-e;return i.setDate(i.getDate()-r*7),i}class Wq extends tn{constructor(){super(...arguments);Ke(this,"priority",100);Ke(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,i,r){switch(i){case"I":return Tn(kn.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return In(i.length,t)}}validate(t,i){return i>=1&&i<=53}set(t,i,r){return qu(jq(t,r))}}const Yq=[31,28,31,30,31,30,31,31,30,31,30,31],qq=[31,29,31,30,31,30,31,31,30,31,30,31];class $q extends tn{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"subPriority",1);Ke(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,i,r){switch(i){case"d":return Tn(kn.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return In(i.length,t)}}validate(t,i){const r=t.getFullYear(),s=PO(r),l=t.getMonth();return s?i>=1&&i<=qq[l]:i>=1&&i<=Yq[l]}set(t,i,r){return t.setDate(r),t.setHours(0,0,0,0),t}}class Xq extends tn{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"subpriority",1);Ke(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,i,r){switch(i){case"D":case"DD":return Tn(kn.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return In(i.length,t)}}validate(t,i){const r=t.getFullYear();return PO(r)?i>=1&&i<=366:i>=1&&i<=365}set(t,i,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}}function Fx(n,e,t){var m,g,v,_;const i=xl(),r=(t==null?void 0:t.weekStartsOn)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??i.weekStartsOn??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??0,s=rt(n,t==null?void 0:t.in),l=s.getDay(),d=(e%7+7)%7,f=7-r,p=e<0||e>6?e-(l+f)%7:(d+f)%7-(l+f)%7;return Br(s,p,t)}class Kq extends tn{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,i,r){switch(i){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=6}set(t,i,r,s){return t=Fx(t,r,s),t.setHours(0,0,0,0),t}}class Zq extends tn{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,i,r,s){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+d};switch(i){case"e":case"ee":return Un(In(i.length,t),l);case"eo":return Un(r.ordinalNumber(t,{unit:"day"}),l);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=6}set(t,i,r,s){return t=Fx(t,r,s),t.setHours(0,0,0,0),t}}class Qq extends tn{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,i,r,s){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+d};switch(i){case"c":case"cc":return Un(In(i.length,t),l);case"co":return Un(r.ordinalNumber(t,{unit:"day"}),l);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=0&&i<=6}set(t,i,r,s){return t=Fx(t,r,s),t.setHours(0,0,0,0),t}}function Jq(n,e,t){const i=rt(n,t==null?void 0:t.in),r=Tq(i,t),s=e-r;return Br(i,s,t)}class e$ extends tn{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,i,r){const s=l=>l===0?7:l;switch(i){case"i":case"ii":return In(i.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return Un(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return Un(r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Un(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Un(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,i){return i>=1&&i<=7}set(t,i,r){return t=Jq(t,r),t.setHours(0,0,0,0),t}}class t$ extends tn{constructor(){super(...arguments);Ke(this,"priority",80);Ke(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,i,r){switch(i){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,r){return t.setHours(Ux(r),0,0,0),t}}class n$ extends tn{constructor(){super(...arguments);Ke(this,"priority",80);Ke(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,i,r){switch(i){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,r){return t.setHours(Ux(r),0,0,0),t}}class i$ extends tn{constructor(){super(...arguments);Ke(this,"priority",80);Ke(this,"incompatibleTokens",["a","b","t","T"])}parse(t,i,r){switch(i){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,r){return t.setHours(Ux(r),0,0,0),t}}class r$ extends tn{constructor(){super(...arguments);Ke(this,"priority",70);Ke(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,i,r){switch(i){case"h":return Tn(kn.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return In(i.length,t)}}validate(t,i){return i>=1&&i<=12}set(t,i,r){const s=t.getHours()>=12;return s&&r<12?t.setHours(r+12,0,0,0):!s&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}}class a$ extends tn{constructor(){super(...arguments);Ke(this,"priority",70);Ke(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,i,r){switch(i){case"H":return Tn(kn.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return In(i.length,t)}}validate(t,i){return i>=0&&i<=23}set(t,i,r){return t.setHours(r,0,0,0),t}}class s$ extends tn{constructor(){super(...arguments);Ke(this,"priority",70);Ke(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,i,r){switch(i){case"K":return Tn(kn.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return In(i.length,t)}}validate(t,i){return i>=0&&i<=11}set(t,i,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}}class o$ extends tn{constructor(){super(...arguments);Ke(this,"priority",70);Ke(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,i,r){switch(i){case"k":return Tn(kn.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return In(i.length,t)}}validate(t,i){return i>=1&&i<=24}set(t,i,r){const s=r<=24?r%24:r;return t.setHours(s,0,0,0),t}}class l$ extends tn{constructor(){super(...arguments);Ke(this,"priority",60);Ke(this,"incompatibleTokens",["t","T"])}parse(t,i,r){switch(i){case"m":return Tn(kn.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return In(i.length,t)}}validate(t,i){return i>=0&&i<=59}set(t,i,r){return t.setMinutes(r,0,0),t}}class u$ extends tn{constructor(){super(...arguments);Ke(this,"priority",50);Ke(this,"incompatibleTokens",["t","T"])}parse(t,i,r){switch(i){case"s":return Tn(kn.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return In(i.length,t)}}validate(t,i){return i>=0&&i<=59}set(t,i,r){return t.setSeconds(r,0),t}}class c$ extends tn{constructor(){super(...arguments);Ke(this,"priority",30);Ke(this,"incompatibleTokens",["t","T"])}parse(t,i){const r=s=>Math.trunc(s*Math.pow(10,-i.length+3));return Un(In(i.length,t),r)}set(t,i,r){return t.setMilliseconds(r),t}}class d$ extends tn{constructor(){super(...arguments);Ke(this,"priority",10);Ke(this,"incompatibleTokens",["t","T","x"])}parse(t,i){switch(i){case"X":return ta(ea.basicOptionalMinutes,t);case"XX":return ta(ea.basic,t);case"XXXX":return ta(ea.basicOptionalSeconds,t);case"XXXXX":return ta(ea.extendedOptionalSeconds,t);case"XXX":default:return ta(ea.extended,t)}}set(t,i,r){return i.timestampIsSet?t:cn(t,t.getTime()-Mm(t)-r)}}class f$ extends tn{constructor(){super(...arguments);Ke(this,"priority",10);Ke(this,"incompatibleTokens",["t","T","X"])}parse(t,i){switch(i){case"x":return ta(ea.basicOptionalMinutes,t);case"xx":return ta(ea.basic,t);case"xxxx":return ta(ea.basicOptionalSeconds,t);case"xxxxx":return ta(ea.extendedOptionalSeconds,t);case"xxx":default:return ta(ea.extended,t)}}set(t,i,r){return i.timestampIsSet?t:cn(t,t.getTime()-Mm(t)-r)}}class h$ extends tn{constructor(){super(...arguments);Ke(this,"priority",40);Ke(this,"incompatibleTokens","*")}parse(t){return LO(t)}set(t,i,r){return[cn(t,r*1e3),{timestampIsSet:!0}]}}class p$ extends tn{constructor(){super(...arguments);Ke(this,"priority",20);Ke(this,"incompatibleTokens","*")}parse(t){return LO(t)}set(t,i,r){return[cn(t,r),{timestampIsSet:!0}]}}const m$={G:new Pq,y:new Iq,Y:new Nq,R:new kq,u:new Uq,Q:new Fq,q:new Bq,M:new zq,L:new Hq,w:new Gq,I:new Wq,d:new $q,D:new Xq,E:new Kq,e:new Zq,c:new Qq,i:new e$,a:new t$,b:new n$,B:new i$,h:new r$,H:new a$,K:new s$,k:new o$,m:new l$,s:new u$,S:new c$,X:new d$,x:new f$,t:new h$,T:new p$},g$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y$=/^'([^]*?)'?$/,_$=/''/g,b$=/\S/,x$=/[a-zA-Z]/;function S$(n,e,t,i){var x,b,M,C,T,O,L,D;const r=()=>cn((i==null?void 0:i.in)||t,NaN),s=Mq(),l=(i==null?void 0:i.locale)??s.locale??CO,u=(i==null?void 0:i.firstWeekContainsDate)??((b=(x=i==null?void 0:i.locale)==null?void 0:x.options)==null?void 0:b.firstWeekContainsDate)??s.firstWeekContainsDate??((C=(M=s.locale)==null?void 0:M.options)==null?void 0:C.firstWeekContainsDate)??1,d=(i==null?void 0:i.weekStartsOn)??((O=(T=i==null?void 0:i.locale)==null?void 0:T.options)==null?void 0:O.weekStartsOn)??s.weekStartsOn??((D=(L=s.locale)==null?void 0:L.options)==null?void 0:D.weekStartsOn)??0;if(!e)return n?r():rt(t,i==null?void 0:i.in);const f={firstWeekContainsDate:u,weekStartsOn:d,locale:l},p=[new Oq(i==null?void 0:i.in,t)],m=e.match(v$).map(I=>{const A=I[0];if(A in wb){const R=wb[A];return R(I,l.formatLong)}return I}).join("").match(g$),g=[];for(let I of m){const A=I[0],R=m$[A];if(R){const{incompatibleTokens:N}=R;if(Array.isArray(N)){const $=g.find(Z=>N.includes(Z.token)||Z.token===A);if($)throw new RangeError(`The format string mustn't contain \`${$.fullToken}\` and \`${I}\` at the same time`)}else if(R.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);g.push({token:A,fullToken:I});const X=R.run(n,I,l.match,f);if(!X)return r();p.push(X.setter),n=X.rest}else{if(A.match(x$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");if(I==="''"?I="'":A==="'"&&(I=E$(I)),n.indexOf(I)===0)n=n.slice(I.length);else return r()}}if(n.length>0&&b$.test(n))return r();const v=p.map(I=>I.priority).sort((I,A)=>A-I).filter((I,A,R)=>R.indexOf(I)===A).map(I=>p.filter(A=>A.priority===I).sort((A,R)=>R.subPriority-A.subPriority)).map(I=>I[0]);let _=rt(t,i==null?void 0:i.in);if(isNaN(+_))return r();const w={};for(const I of v){if(!I.validate(_,f))return r();const A=I.set(_,w,f);Array.isArray(A)?(_=A[0],Object.assign(w,A[1])):_=A}return _}function E$(n){return n.match(y$)[1].replace(_$,"'")}function w$(n,e,t){const[i,r]=ds(t==null?void 0:t.in,n,e);return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()}function M$(n,e,t){const[i,r]=ds(t==null?void 0:t.in,n,e);return+Eb(i)==+Eb(r)}function T$(n,e,t){const[i,r]=ds(t==null?void 0:t.in,n,e);return i.getFullYear()===r.getFullYear()}function qd(n,e,t){const i=+rt(n,t==null?void 0:t.in),[r,s]=[+rt(e.start,t==null?void 0:t.in),+rt(e.end,t==null?void 0:t.in)].sort((l,u)=>l-u);return i>=r&&i<=s}function C$(n,e,t){return Br(n,-1,t)}function A$(n,e){const t=()=>cn(e==null?void 0:e.in,NaN),r=O$(n);let s;if(r.date){const f=P$(r.date,2);s=I$(f.restDateString,f.year)}if(!s||isNaN(+s))return t();const l=+s;let u=0,d;if(r.time&&(u=N$(r.time),isNaN(u)))return t();if(r.timezone){if(d=k$(r.timezone),isNaN(d))return t()}else{const f=new Date(l+u),p=rt(0,e==null?void 0:e.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return rt(l+u+d,e==null?void 0:e.in)}const op={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},R$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,D$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,L$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function O$(n){const e={},t=n.split(op.dateTimeDelimiter);let i;if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],op.timeZoneDelimiter.test(e.date)&&(e.date=n.split(op.timeZoneDelimiter)[0],i=n.substr(e.date.length,n.length))),i){const r=op.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function P$(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=n.match(t);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((i[1]||i[2]).length)}}function I$(n,e){if(e===null)return new Date(NaN);const t=n.match(R$);if(!t)return new Date(NaN);const i=!!t[4],r=vd(t[1]),s=vd(t[2])-1,l=vd(t[3]),u=vd(t[4]),d=vd(t[5])-1;if(i)return H$(e,u,d)?U$(e,u,d):new Date(NaN);{const f=new Date(0);return!B$(e,s,l)||!z$(e,r)?new Date(NaN):(f.setUTCFullYear(e,s,Math.max(r,l)),f)}}function vd(n){return n?parseInt(n):1}function N$(n){const e=n.match(D$);if(!e)return NaN;const t=j0(e[1]),i=j0(e[2]),r=j0(e[3]);return V$(t,i,r)?t*yg+i*vg+r*1e3:NaN}function j0(n){return n&&parseFloat(n.replace(",","."))||0}function k$(n){if(n==="Z")return 0;const e=n.match(L$);if(!e)return 0;const t=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return G$(i,r)?t*(i*yg+r*vg):NaN}function U$(n,e,t){const i=new Date(0);i.setUTCFullYear(n,0,4);const r=i.getUTCDay()||7,s=(e-1)*7+t+1-r;return i.setUTCDate(i.getUTCDate()+s),i}const F$=[31,null,31,30,31,30,31,31,30,31,30,31];function IO(n){return n%400===0||n%4===0&&n%100!==0}function B$(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(F$[e]||(IO(n)?29:28))}function z$(n,e){return e>=1&&e<=(IO(n)?366:365)}function H$(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function V$(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function G$(n,e){return e>=0&&e<=59}function _r(n,e,t){const i=rt(n,t==null?void 0:t.in),r=i.getFullYear(),s=i.getDate(),l=cn(n,0);l.setFullYear(r,e,15),l.setHours(0,0,0,0);const u=wq(l);return i.setMonth(e,Math.min(s,u)),i}function Xp(n,e,t){const i=rt(n,t==null?void 0:t.in);return i.setHours(e),i}function Kp(n,e,t){const i=rt(n,t==null?void 0:t.in);return i.setMinutes(e),i}function _u(n,e,t){const i=rt(n,t==null?void 0:t.in),r=Math.trunc(i.getMonth()/3)+1,s=e-r;return _r(i,i.getMonth()+s*3)}function Zp(n,e,t){const i=rt(n,t==null?void 0:t.in);return i.setSeconds(e),i}function qr(n,e,t){const i=rt(n,t==null?void 0:t.in);return isNaN(+i)?cn(n,NaN):(i.setFullYear(e),i)}function ol(n,e,t){return zr(n,-e,t)}function NO(n,e,t){return Ix(n,-1,t)}function KC(n,e,t){return Tm(n,-1,t)}function Xu(n,e,t){return Ja(n,-e,t)}function bg(){return typeof window<"u"}function lc(n){return kO(n)?(n.nodeName||"").toLowerCase():"#document"}function ir(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function va(n){var e;return(e=(kO(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function kO(n){return bg()?n instanceof Node||n instanceof ir(n).Node:!1}function Ai(n){return bg()?n instanceof Element||n instanceof ir(n).Element:!1}function pa(n){return bg()?n instanceof HTMLElement||n instanceof ir(n).HTMLElement:!1}function ZC(n){return!bg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ir(n).ShadowRoot}function gf(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=wr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function j$(n){return["table","td","th"].includes(lc(n))}function xg(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Bx(n){const e=zx(),t=Ai(n)?wr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function W$(n){let e=oo(n);for(;pa(e)&&!Ku(e);){if(Bx(e))return e;if(xg(e))return null;e=oo(e)}return null}function zx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ku(n){return["html","body","#document"].includes(lc(n))}function wr(n){return ir(n).getComputedStyle(n)}function Sg(n){return Ai(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function oo(n){if(lc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ZC(n)&&n.host||va(n);return ZC(e)?e.host:e}function UO(n){const e=oo(n);return Ku(e)?n.ownerDocument?n.ownerDocument.body:n.body:pa(e)&&gf(e)?e:UO(e)}function $d(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=UO(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),l=ir(r);if(s){const u=Tb(l);return e.concat(l,l.visualViewport||[],gf(r)?r:[],u&&t?$d(u):[])}return e.concat(r,$d(r,[],t))}function Tb(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Zu=Math.min,ll=Math.max,Om=Math.round,lp=Math.floor,ca=n=>({x:n,y:n}),Y$={left:"right",right:"left",bottom:"top",top:"bottom"},q$={start:"end",end:"start"};function $$(n,e,t){return ll(n,Zu(e,t))}function Eg(n,e){return typeof n=="function"?n(e):n}function Qu(n){return n.split("-")[0]}function vf(n){return n.split("-")[1]}function X$(n){return n==="x"?"y":"x"}function Hx(n){return n==="y"?"height":"width"}function Xd(n){return["top","bottom"].includes(Qu(n))?"y":"x"}function Vx(n){return X$(Xd(n))}function K$(n,e,t){t===void 0&&(t=!1);const i=vf(n),r=Vx(n),s=Hx(r);let l=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Pm(l)),[l,Pm(l)]}function Z$(n){const e=Pm(n);return[Cb(n),e,Cb(e)]}function Cb(n){return n.replace(/start|end/g,e=>q$[e])}function Q$(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:l;default:return[]}}function J$(n,e,t,i){const r=vf(n);let s=Q$(Qu(n),t==="start",i);return r&&(s=s.map(l=>l+"-"+r),e&&(s=s.concat(s.map(Cb)))),s}function Pm(n){return n.replace(/left|right|bottom|top/g,e=>Y$[e])}function eX(n){return{top:0,right:0,bottom:0,left:0,...n}}function FO(n){return typeof n!="number"?eX(n):{top:n,right:n,bottom:n,left:n}}function Im(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function QC(n,e,t){let{reference:i,floating:r}=n;const s=Xd(e),l=Vx(e),u=Hx(l),d=Qu(e),f=s==="y",p=i.x+i.width/2-r.width/2,m=i.y+i.height/2-r.height/2,g=i[u]/2-r[u]/2;let v;switch(d){case"top":v={x:p,y:i.y-r.height};break;case"bottom":v={x:p,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:m};break;case"left":v={x:i.x-r.width,y:m};break;default:v={x:i.x,y:i.y}}switch(vf(e)){case"start":v[l]-=g*(t&&f?-1:1);break;case"end":v[l]+=g*(t&&f?-1:1);break}return v}const tX=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:l}=t,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:n,floating:e,strategy:r}),{x:p,y:m}=QC(f,i,d),g=i,v={},_=0;for(let w=0;w<u.length;w++){const{name:x,fn:b}=u[w],{x:M,y:C,data:T,reset:O}=await b({x:p,y:m,initialPlacement:i,placement:g,strategy:r,middlewareData:v,rects:f,platform:l,elements:{reference:n,floating:e}});p=M??p,m=C??m,v={...v,[x]:{...v[x],...T}},O&&_<=50&&(_++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(f=O.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:r}):O.rects),{x:p,y:m}=QC(f,g,d)),w=-1)}return{x:p,y:m,placement:g,strategy:r,middlewareData:v}};async function nX(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:l,elements:u,strategy:d}=n,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=Eg(e,n),_=FO(v),x=u[g?m==="floating"?"reference":"floating":m],b=Im(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),M=m==="floating"?{x:i,y:r,width:l.floating.width,height:l.floating.height}:l.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),T=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},O=Im(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:C,strategy:d}):M);return{top:(b.top-O.top+_.top)/T.y,bottom:(O.bottom-b.bottom+_.bottom)/T.y,left:(b.left-O.left+_.left)/T.x,right:(O.right-b.right+_.right)/T.x}}const iX=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:l,elements:u,middlewareData:d}=e,{element:f,padding:p=0}=Eg(n,e)||{};if(f==null)return{};const m=FO(p),g={x:t,y:i},v=Vx(r),_=Hx(v),w=await l.getDimensions(f),x=v==="y",b=x?"top":"left",M=x?"bottom":"right",C=x?"clientHeight":"clientWidth",T=s.reference[_]+s.reference[v]-g[v]-s.floating[_],O=g[v]-s.reference[v],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let D=L?L[C]:0;(!D||!await(l.isElement==null?void 0:l.isElement(L)))&&(D=u.floating[C]||s.floating[_]);const I=T/2-O/2,A=D/2-w[_]/2-1,R=Zu(m[b],A),N=Zu(m[M],A),X=R,$=D-w[_]-N,Z=D/2-w[_]/2+I,K=$$(X,Z,$),H=!d.arrow&&vf(r)!=null&&Z!==K&&s.reference[_]/2-(Z<X?R:N)-w[_]/2<0,Y=H?Z<X?Z-X:Z-$:0;return{[v]:g[v]+Y,data:{[v]:K,centerOffset:Z-K-Y,...H&&{alignmentOffset:Y}},reset:H}}}),rX=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...x}=Eg(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const b=Qu(r),M=Xd(u),C=Qu(u)===u,T=await(d.isRTL==null?void 0:d.isRTL(f.floating)),O=g||(C||!w?[Pm(u)]:Z$(u)),L=_!=="none";!g&&L&&O.push(...J$(u,w,_,T));const D=[u,...O],I=await nX(e,x),A=[];let R=((i=s.flip)==null?void 0:i.overflows)||[];if(p&&A.push(I[b]),m){const Z=K$(r,l,T);A.push(I[Z[0]],I[Z[1]])}if(R=[...R,{placement:r,overflows:A}],!A.every(Z=>Z<=0)){var N,X;const Z=(((N=s.flip)==null?void 0:N.index)||0)+1,K=D[Z];if(K)return{data:{index:Z,overflows:R},reset:{placement:K}};let H=(X=R.filter(Y=>Y.overflows[0]<=0).sort((Y,G)=>Y.overflows[1]-G.overflows[1])[0])==null?void 0:X.placement;if(!H)switch(v){case"bestFit":{var $;const Y=($=R.filter(G=>{if(L){const te=Xd(G.placement);return te===M||te==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(te=>te>0).reduce((te,F)=>te+F,0)]).sort((G,te)=>G[1]-te[1])[0])==null?void 0:$[0];Y&&(H=Y);break}case"initialPlacement":H=u;break}if(r!==H)return{reset:{placement:H}}}return{}}}};async function aX(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),l=Qu(t),u=vf(t),d=Xd(t)==="y",f=["left","top"].includes(l)?-1:1,p=s&&d?-1:1,m=Eg(e,n);let{mainAxis:g,crossAxis:v,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof _=="number"&&(v=u==="end"?_*-1:_),d?{x:v*p,y:g*f}:{x:g*f,y:v*p}}const sX=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:l,middlewareData:u}=e,d=await aX(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:r+d.x,y:s+d.y,data:{...d,placement:l}}}}};function BO(n){const e=wr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=pa(n),s=r?n.offsetWidth:t,l=r?n.offsetHeight:i,u=Om(t)!==s||Om(i)!==l;return u&&(t=s,i=l),{width:t,height:i,$:u}}function Gx(n){return Ai(n)?n:n.contextElement}function Lu(n){const e=Gx(n);if(!pa(e))return ca(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=BO(e);let l=(s?Om(t.width):t.width)/i,u=(s?Om(t.height):t.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const oX=ca(0);function zO(n){const e=ir(n);return!zx()||!e.visualViewport?oX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lX(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ir(n)?!1:e}function _l(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=Gx(n);let l=ca(1);e&&(i?Ai(i)&&(l=Lu(i)):l=Lu(n));const u=lX(s,t,i)?zO(s):ca(0);let d=(r.left+u.x)/l.x,f=(r.top+u.y)/l.y,p=r.width/l.x,m=r.height/l.y;if(s){const g=ir(s),v=i&&Ai(i)?ir(i):i;let _=g,w=Tb(_);for(;w&&i&&v!==_;){const x=Lu(w),b=w.getBoundingClientRect(),M=wr(w),C=b.left+(w.clientLeft+parseFloat(M.paddingLeft))*x.x,T=b.top+(w.clientTop+parseFloat(M.paddingTop))*x.y;d*=x.x,f*=x.y,p*=x.x,m*=x.y,d+=C,f+=T,_=ir(w),w=Tb(_)}}return Im({width:p,height:m,x:d,y:f})}function jx(n,e){const t=Sg(n).scrollLeft;return e?e.left+t:_l(va(n)).left+t}function HO(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),r=i.left+e.scrollLeft-(t?0:jx(n,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function uX(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",l=va(i),u=e?xg(e.floating):!1;if(i===l||u&&s)return t;let d={scrollLeft:0,scrollTop:0},f=ca(1);const p=ca(0),m=pa(i);if((m||!m&&!s)&&((lc(i)!=="body"||gf(l))&&(d=Sg(i)),pa(i))){const v=_l(i);f=Lu(i),p.x=v.x+i.clientLeft,p.y=v.y+i.clientTop}const g=l&&!m&&!s?HO(l,d,!0):ca(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+g.x,y:t.y*f.y-d.scrollTop*f.y+p.y+g.y}}function cX(n){return Array.from(n.getClientRects())}function dX(n){const e=va(n),t=Sg(n),i=n.ownerDocument.body,r=ll(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=ll(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let l=-t.scrollLeft+jx(n);const u=-t.scrollTop;return wr(i).direction==="rtl"&&(l+=ll(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:l,y:u}}function fX(n,e){const t=ir(n),i=va(n),r=t.visualViewport;let s=i.clientWidth,l=i.clientHeight,u=0,d=0;if(r){s=r.width,l=r.height;const f=zx();(!f||f&&e==="fixed")&&(u=r.offsetLeft,d=r.offsetTop)}return{width:s,height:l,x:u,y:d}}function hX(n,e){const t=_l(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=pa(n)?Lu(n):ca(1),l=n.clientWidth*s.x,u=n.clientHeight*s.y,d=r*s.x,f=i*s.y;return{width:l,height:u,x:d,y:f}}function JC(n,e,t){let i;if(e==="viewport")i=fX(n,t);else if(e==="document")i=dX(va(n));else if(Ai(e))i=hX(e,t);else{const r=zO(n);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Im(i)}function VO(n,e){const t=oo(n);return t===e||!Ai(t)||Ku(t)?!1:wr(t).position==="fixed"||VO(t,e)}function pX(n,e){const t=e.get(n);if(t)return t;let i=$d(n,[],!1).filter(u=>Ai(u)&&lc(u)!=="body"),r=null;const s=wr(n).position==="fixed";let l=s?oo(n):n;for(;Ai(l)&&!Ku(l);){const u=wr(l),d=Bx(l);!d&&u.position==="fixed"&&(r=null),(s?!d&&!r:!d&&u.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||gf(l)&&!d&&VO(n,l))?i=i.filter(p=>p!==l):r=u,l=oo(l)}return e.set(n,i),i}function mX(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const l=[...t==="clippingAncestors"?xg(e)?[]:pX(e,this._c):[].concat(t),i],u=l[0],d=l.reduce((f,p)=>{const m=JC(e,p,r);return f.top=ll(m.top,f.top),f.right=Zu(m.right,f.right),f.bottom=Zu(m.bottom,f.bottom),f.left=ll(m.left,f.left),f},JC(e,u,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function gX(n){const{width:e,height:t}=BO(n);return{width:e,height:t}}function vX(n,e,t){const i=pa(e),r=va(e),s=t==="fixed",l=_l(n,!0,s,e);let u={scrollLeft:0,scrollTop:0};const d=ca(0);if(i||!i&&!s)if((lc(e)!=="body"||gf(r))&&(u=Sg(e)),i){const g=_l(e,!0,s,e);d.x=g.x+e.clientLeft,d.y=g.y+e.clientTop}else r&&(d.x=jx(r));const f=r&&!i&&!s?HO(r,u):ca(0),p=l.left+u.scrollLeft-d.x-f.x,m=l.top+u.scrollTop-d.y-f.y;return{x:p,y:m,width:l.width,height:l.height}}function W0(n){return wr(n).position==="static"}function eA(n,e){if(!pa(n)||wr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return va(n)===t&&(t=t.ownerDocument.body),t}function GO(n,e){const t=ir(n);if(xg(n))return t;if(!pa(n)){let r=oo(n);for(;r&&!Ku(r);){if(Ai(r)&&!W0(r))return r;r=oo(r)}return t}let i=eA(n,e);for(;i&&j$(i)&&W0(i);)i=eA(i,e);return i&&Ku(i)&&W0(i)&&!Bx(i)?t:i||W$(n)||t}const yX=async function(n){const e=this.getOffsetParent||GO,t=this.getDimensions,i=await t(n.floating);return{reference:vX(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function _X(n){return wr(n).direction==="rtl"}const bX={convertOffsetParentRelativeRectToViewportRelativeRect:uX,getDocumentElement:va,getClippingRect:mX,getOffsetParent:GO,getElementRects:yX,getClientRects:cX,getDimensions:gX,getScale:Lu,isElement:Ai,isRTL:_X};function jO(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function xX(n,e){let t=null,i;const r=va(n);function s(){var u;clearTimeout(i),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const f=n.getBoundingClientRect(),{left:p,top:m,width:g,height:v}=f;if(u||e(),!g||!v)return;const _=lp(m),w=lp(r.clientWidth-(p+g)),x=lp(r.clientHeight-(m+v)),b=lp(p),C={rootMargin:-_+"px "+-w+"px "+-x+"px "+-b+"px",threshold:ll(0,Zu(1,d))||1};let T=!0;function O(L){const D=L[0].intersectionRatio;if(D!==d){if(!T)return l();D?l(!1,D):i=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!jO(f,n.getBoundingClientRect())&&l(),T=!1}try{t=new IntersectionObserver(O,{...C,root:r.ownerDocument})}catch{t=new IntersectionObserver(O,C)}t.observe(n)}return l(!0),s}function SX(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,f=Gx(n),p=r||s?[...f?$d(f):[],...$d(e)]:[];p.forEach(b=>{r&&b.addEventListener("scroll",t,{passive:!0}),s&&b.addEventListener("resize",t)});const m=f&&u?xX(f,t):null;let g=-1,v=null;l&&(v=new ResizeObserver(b=>{let[M]=b;M&&M.target===f&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(e)})),t()}),f&&!d&&v.observe(f),v.observe(e));let _,w=d?_l(n):null;d&&x();function x(){const b=_l(n);w&&!jO(w,b)&&t(),w=b,_=requestAnimationFrame(x)}return t(),()=>{var b;p.forEach(M=>{r&&M.removeEventListener("scroll",t),s&&M.removeEventListener("resize",t)}),m==null||m(),(b=v)==null||b.disconnect(),v=null,d&&cancelAnimationFrame(_)}}const EX=sX,wX=rX,tA=iX,MX=(n,e,t)=>{const i=new Map,r={platform:bX,...t},s={...r.platform,_c:i};return tX(n,e,{...r,platform:s})};var Qp=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Nm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Nm(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!Nm(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function WO(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function nA(n,e){const t=WO(n);return Math.round(e*t)/t}function Y0(n){const e=S.useRef(n);return Qp(()=>{e.current=n}),e}function TX(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=n,[p,m]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=S.useState(i);Nm(g,i)||v(i);const[_,w]=S.useState(null),[x,b]=S.useState(null),M=S.useCallback(G=>{G!==L.current&&(L.current=G,w(G))},[]),C=S.useCallback(G=>{G!==D.current&&(D.current=G,b(G))},[]),T=s||_,O=l||x,L=S.useRef(null),D=S.useRef(null),I=S.useRef(p),A=d!=null,R=Y0(d),N=Y0(r),X=Y0(f),$=S.useCallback(()=>{if(!L.current||!D.current)return;const G={placement:e,strategy:t,middleware:g};N.current&&(G.platform=N.current),MX(L.current,D.current,G).then(te=>{const F={...te,isPositioned:X.current!==!1};Z.current&&!Nm(I.current,F)&&(I.current=F,cs.flushSync(()=>{m(F)}))})},[g,e,t,N,X]);Qp(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,m(G=>({...G,isPositioned:!1})))},[f]);const Z=S.useRef(!1);Qp(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Qp(()=>{if(T&&(L.current=T),O&&(D.current=O),T&&O){if(R.current)return R.current(T,O,$);$()}},[T,O,$,R,A]);const K=S.useMemo(()=>({reference:L,floating:D,setReference:M,setFloating:C}),[M,C]),H=S.useMemo(()=>({reference:T,floating:O}),[T,O]),Y=S.useMemo(()=>{const G={position:t,left:0,top:0};if(!H.floating)return G;const te=nA(H.floating,p.x),F=nA(H.floating,p.y);return u?{...G,transform:"translate("+te+"px, "+F+"px)",...WO(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:F}},[t,u,H.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:$,refs:K,elements:H,floatingStyles:Y}),[p,$,K,H,Y])}const CX=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?tA({element:i.current,padding:r}).fn(t):{}:i?tA({element:i,padding:r}).fn(t):{}}}},AX=(n,e)=>({...EX(n),options:[n,e]}),RX=(n,e)=>({...wX(n),options:[n,e]}),DX=(n,e)=>({...CX(n),options:[n,e]}),YO={...AN},LX=YO.useInsertionEffect,OX=LX||(n=>n());function PX(n){const e=S.useRef(()=>{});return OX(()=>{e.current=n}),S.useCallback(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}var km=typeof document<"u"?S.useLayoutEffect:S.useEffect;let iA=!1,IX=0;const rA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+IX++;function NX(){const[n,e]=S.useState(()=>iA?rA():void 0);return km(()=>{n==null&&e(rA())},[]),S.useEffect(()=>{iA=!0},[]),n}const kX=YO.useId,qO=kX||NX,UX=S.forwardRef(function(e,t){const{context:{placement:i,elements:{floating:r},middlewareData:{arrow:s,shift:l}},width:u=14,height:d=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:m,stroke:g,d:v,style:{transform:_,...w}={},...x}=e,b=qO(),[M,C]=S.useState(!1);if(km(()=>{if(!r)return;wr(r).direction==="rtl"&&C(!0)},[r]),!r)return null;const[T,O]=i.split("-"),L=T==="top"||T==="bottom";let D=m;(L&&l!=null&&l.x||!L&&l!=null&&l.y)&&(D=null);const I=p*2,A=I/2,R=u/2*(f/-8+1),N=d/2*f/4,X=!!v,$=D&&O==="end"?"bottom":"top";let Z=D&&O==="end"?"right":"left";D&&M&&(Z=O==="end"?"left":"right");const K=(s==null?void 0:s.x)!=null?D||s.x:"",H=(s==null?void 0:s.y)!=null?D||s.y:"",Y=v||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(d-N))+(" Q"+u/2+","+d+" "+R+","+(d-N))+" Z",G={top:X?"rotate(180deg)":"",left:X?"rotate(90deg)":"rotate(-90deg)",bottom:X?"":"rotate(180deg)",right:X?"rotate(-90deg)":"rotate(90deg)"}[T];return k.jsxs("svg",{...x,"aria-hidden":!0,ref:t,width:X?u:u+I,height:u,viewBox:"0 0 "+u+" "+(d>u?d:u),style:{position:"absolute",pointerEvents:"none",[Z]:K,[$]:H,[T]:L||X?"100%":"calc(100% - "+I/2+"px)",transform:[G,_].filter(te=>!!te).join(" "),...w},children:[I>0&&k.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:g,strokeWidth:I+(v?0:1),d:Y}),k.jsx("path",{stroke:I&&!v?x.fill:"none",d:Y}),k.jsx("clipPath",{id:b,children:k.jsx("rect",{x:-A,y:A*(X?-1:1),width:u+I,height:u})})]})});function FX(){const n=new Map;return{emit(e,t){var i;(i=n.get(e))==null||i.forEach(r=>r(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var i;n.set(e,((i=n.get(e))==null?void 0:i.filter(r=>r!==t))||[])}}}const BX=S.createContext(null),zX=S.createContext(null),HX=()=>{var n;return((n=S.useContext(BX))==null?void 0:n.id)||null},VX=()=>S.useContext(zX);function GX(n){const{open:e=!1,onOpenChange:t,elements:i}=n,r=qO(),s=S.useRef({}),[l]=S.useState(()=>FX()),u=HX()!=null,[d,f]=S.useState(i.reference),p=PX((v,_,w)=>{s.current.openEvent=v?_:void 0,l.emit("openchange",{open:v,event:_,reason:w,nested:u}),t==null||t(v,_,w)}),m=S.useMemo(()=>({setPositionReference:f}),[]),g=S.useMemo(()=>({reference:d||i.reference||null,floating:i.floating||null,domReference:i.reference}),[d,i.reference,i.floating]);return S.useMemo(()=>({dataRef:s,open:e,onOpenChange:p,elements:g,events:l,floatingId:r,refs:m}),[e,p,g,l,r,m])}function jX(n){n===void 0&&(n={});const{nodeId:e}=n,t=GX({...n,elements:{reference:null,floating:null,...n.elements}}),i=n.rootContext||t,r=i.elements,[s,l]=S.useState(null),[u,d]=S.useState(null),p=(r==null?void 0:r.domReference)||s,m=S.useRef(null),g=VX();km(()=>{p&&(m.current=p)},[p]);const v=TX({...n,elements:{...r,...u&&{reference:u}}}),_=S.useCallback(C=>{const T=Ai(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;d(T),v.refs.setReference(T)},[v.refs]),w=S.useCallback(C=>{(Ai(C)||C===null)&&(m.current=C,l(C)),(Ai(v.refs.reference.current)||v.refs.reference.current===null||C!==null&&!Ai(C))&&v.refs.setReference(C)},[v.refs]),x=S.useMemo(()=>({...v.refs,setReference:w,setPositionReference:_,domReference:m}),[v.refs,w,_]),b=S.useMemo(()=>({...v.elements,domReference:p}),[v.elements,p]),M=S.useMemo(()=>({...v,...i,refs:x,elements:b,nodeId:e}),[v,x,b,e,i]);return km(()=>{i.dataRef.current.floatingContext=M;const C=g==null?void 0:g.nodesRef.current.find(T=>T.id===e);C&&(C.context=M)}),S.useMemo(()=>({...v,context:M,refs:x,elements:b}),[v,x,b,M])}/*!
  react-datepicker v8.0.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Ab=function(e,t){return Ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},Ab(e,t)};function li(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ab(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Yt=function(){return Yt=Object.assign||function(t){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(t[l]=i[l])}return t},Yt.apply(this,arguments)};function ra(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var WX=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,i=n.showTime,r=i===void 0?!1:i,s=n.className,l=n.children,u=t?"Choose Time":"Choose Date".concat(r?" and Time":"");return ne.createElement("div",{className:s,role:"dialog","aria-label":u,"aria-modal":"true"},l)},YX=function(n,e){var t=S.useRef(null),i=S.useRef(n);i.current=n;var r=S.useCallback(function(s){var l,u=s.composed&&s.composedPath&&s.composedPath().find(function(d){return d instanceof Node})||s.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=i.current)===null||l===void 0||l.call(i,s))},[e]);return S.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),t},wg=function(n){var e=n.children,t=n.onClickOutside,i=n.className,r=n.containerRef,s=n.style,l=n.ignoreClass,u=YX(t,l);return ne.createElement("div",{className:i,style:s,ref:function(d){u.current=d,r&&(r.current=d)}},e)},je;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(je||(je={}));function $O(){var n=typeof window<"u"?window:globalThis;return n}var yf=12;function sn(n){if(n==null)return new Date;var e=typeof n=="string"?A$(n):rt(n);return Mg(e)?e:new Date}function q0(n,e,t,i,r){r===void 0&&(r=sn());for(var s=Ju(t)||Ju(Wx()),l=Array.isArray(e)?e:[e],u=0,d=l;u<d.length;u++){var f=d[u],p=S$(n,f,r,{locale:s});if(Mg(p)&&(!i||n===En(p,f,t)))return p}return null}function Mg(n,e){return Cm(n)&&!yl(n,new Date("1/1/1800"))}function En(n,e,t){if(t==="en")return $C(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var i=t?Ju(t):void 0;return t&&!i&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),i=i||Ju(Wx()),$C(n,e,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function vr(n,e){var t=e.dateFormat,i=e.locale,r=Array.isArray(t)&&t.length>0?t[0]:t;return n&&En(n,r,i)||""}function qX(n,e,t){if(!n)return"";var i=vr(n,t),r=e?vr(e,t):"";return"".concat(i," - ").concat(r)}function $X(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?vr(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var i=vr(n[1],e);return"".concat(t,", ").concat(i)}var r=n.length-1;return"".concat(t," (+").concat(r,")")}function $0(n,e){var t=e.hour,i=t===void 0?0:t,r=e.minute,s=r===void 0?0:r,l=e.second,u=l===void 0?0:l;return Xp(Kp(Zp(n,u),s),i)}function XX(n){return Nx(n)}function KX(n,e){return En(n,"ddd",e)}function Jp(n){return vl(n)}function no(n,e,t){var i=Ju(e||Wx());return ls(n,{locale:i,weekStartsOn:t})}function is(n){return MO(n)}function Cd(n){return _g(n)}function aA(n){return Eb(n)}function sA(){return vl(sn())}function oA(n){return EO(n)}function ZX(n){return AY(n)}function QX(n){return wO(n)}function Qr(n,e){return n&&e?T$(n,e):!n&&!e}function Ti(n,e){return n&&e?w$(n,e):!n&&!e}function Um(n,e){return n&&e?M$(n,e):!n&&!e}function Wt(n,e){return n&&e?TY(n,e):!n&&!e}function Jo(n,e){return n&&e?Cq(n,e):!n&&!e}function Ad(n,e,t){var i,r=vl(e),s=EO(t);try{i=qd(n,{start:r,end:s})}catch{i=!1}return i}function Wx(){var n=$O();return n.__localeId__}function Ju(n){if(typeof n=="string"){var e=$O();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function JX(n,e,t){return e(En(n,"EEEE",t))}function eK(n,e){return En(n,"EEEEEE",e)}function tK(n,e){return En(n,"EEE",e)}function Yx(n,e){return En(_r(sn(),n),"LLLL",e)}function XO(n,e){return En(_r(sn(),n),"LLL",e)}function nK(n,e){return En(_u(sn(),n),"QQQ",e)}function br(n,e){var t=e===void 0?{}:e,i=t.minDate,r=t.maxDate,s=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,d=t.includeDateIntervals,f=t.filterDate;return _f(n,{minDate:i,maxDate:r})||s&&s.some(function(p){return p instanceof Date?Wt(n,p):Wt(n,p.date)})||l&&l.some(function(p){var m=p.start,g=p.end;return qd(n,{start:m,end:g})})||u&&!u.some(function(p){return Wt(n,p)})||d&&!d.some(function(p){var m=p.start,g=p.end;return qd(n,{start:m,end:g})})||f&&!f(sn(n))||!1}function qx(n,e){var t=e===void 0?{}:e,i=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var l=s.start,u=s.end;return qd(n,{start:l,end:u})}):i&&i.some(function(s){var l;return s instanceof Date?Wt(n,s):Wt(n,(l=s.date)!==null&&l!==void 0?l:new Date)})||!1}function KO(n,e){var t=e===void 0?{}:e,i=t.minDate,r=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate;return _f(n,{minDate:i?MO(i):void 0,maxDate:r?wO(r):void 0})||(s==null?void 0:s.some(function(d){return Ti(n,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Ti(n,d)})||u&&!u(sn(n))||!1}function up(n,e,t,i){var r=It(n),s=Ci(n),l=It(e),u=Ci(e),d=It(i);return r===l&&r===d?s<=t&&t<=u:r<l?d===r&&s<=t||d===l&&u>=t||d<l&&d>r:!1}function iK(n,e){var t=e===void 0?{}:e,i=t.minDate,r=t.maxDate,s=t.excludeDates,l=t.includeDates;return _f(n,{minDate:i,maxDate:r})||s&&s.some(function(u){return Ti(u instanceof Date?u:u.date,n)})||l&&!l.some(function(u){return Ti(u,n)})||!1}function cp(n,e){var t=e===void 0?{}:e,i=t.minDate,r=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate;return _f(n,{minDate:i,maxDate:r})||(s==null?void 0:s.some(function(d){return Um(n,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Um(n,d)})||u&&!u(sn(n))||!1}function dp(n,e,t){if(!e||!t||!Cm(e)||!Cm(t))return!1;var i=It(e),r=It(t);return i<=n&&r>=n}function em(n,e){var t=e===void 0?{}:e,i=t.minDate,r=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate,d=new Date(n,0,1);return _f(d,{minDate:i?_g(i):void 0,maxDate:r?TO(r):void 0})||(s==null?void 0:s.some(function(f){return Qr(d,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Qr(d,f)})||u&&!u(sn(d))||!1}function fp(n,e,t,i){var r=It(n),s=sl(n),l=It(e),u=sl(e),d=It(i);return r===l&&r===d?s<=t&&t<=u:r<l?d===r&&s<=t||d===l&&u>=t||d<l&&d>r:!1}function _f(n,e){var t,i=e===void 0?{}:e,r=i.minDate,s=i.maxDate;return(t=r&&$u(n,r)<0||s&&$u(n,s)>0)!==null&&t!==void 0?t:!1}function lA(n,e){return e.some(function(t){return ts(t)===ts(n)&&ns(t)===ns(n)&&to(t)===to(n)})}function uA(n,e){var t=e===void 0?{}:e,i=t.excludeTimes,r=t.includeTimes,s=t.filterTime;return i&&lA(n,i)||r&&!lA(n,r)||s&&!s(n)||!1}function cA(n,e){var t=e.minTime,i=e.maxTime;if(!t||!i)throw new Error("Both minTime and maxTime props required");var r=sn();r=Xp(r,ts(n)),r=Kp(r,ns(n)),r=Zp(r,to(n));var s=sn();s=Xp(s,ts(t)),s=Kp(s,ns(t)),s=Zp(s,to(t));var l=sn();l=Xp(l,ts(i)),l=Kp(l,ns(i)),l=Zp(l,to(i));var u;try{u=!qd(r,{start:s,end:l})}catch{u=!1}return u}function dA(n,e){var t=e===void 0?{}:e,i=t.minDate,r=t.includeDates,s=ol(n,1);return i&&Am(i,s)>0||r&&r.every(function(l){return Am(l,s)>0})||!1}function fA(n,e){var t=e===void 0?{}:e,i=t.maxDate,r=t.includeDates,s=zr(n,1);return i&&Am(s,i)>0||r&&r.every(function(l){return Am(s,l)>0})||!1}function rK(n,e){var t=e===void 0?{}:e,i=t.minDate,r=t.includeDates,s=_g(n),l=NO(s);return i&&Rm(i,l)>0||r&&r.every(function(u){return Rm(u,l)>0})||!1}function aK(n,e){var t=e===void 0?{}:e,i=t.maxDate,r=t.includeDates,s=TO(n),l=Ix(s,1);return i&&Rm(l,i)>0||r&&r.every(function(u){return Rm(l,u)>0})||!1}function hA(n,e){var t=e===void 0?{}:e,i=t.minDate,r=t.includeDates,s=Xu(n,1);return i&&Dm(i,s)>0||r&&r.every(function(l){return Dm(l,s)>0})||!1}function sK(n,e){var t=e===void 0?{}:e,i=t.minDate,r=t.yearItemNumber,s=r===void 0?yf:r,l=Cd(Xu(n,s)),u=Xs(l,s).endPeriod,d=i&&It(i);return d&&d>u||!1}function pA(n,e){var t=e===void 0?{}:e,i=t.maxDate,r=t.includeDates,s=Ja(n,1);return i&&Dm(s,i)>0||r&&r.every(function(l){return Dm(s,l)>0})||!1}function oK(n,e){var t=e===void 0?{}:e,i=t.maxDate,r=t.yearItemNumber,s=r===void 0?yf:r,l=Ja(n,s),u=Xs(l,s).startPeriod,d=i&&It(i);return d&&d<u||!1}function ZO(n){var e=n.minDate,t=n.includeDates;if(t&&e){var i=t.filter(function(r){return $u(r,e)>=0});return VC(i)}else return t?VC(t):e}function QO(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var i=t.filter(function(r){return $u(r,e)<=0});return HC(i)}else return t?HC(t):e}function mA(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var i=new Map,r=0,s=n.length;r<s;r++){var l=n[r];if(es(l)){var u=En(l,"MM.dd.yyyy"),d=i.get(u)||[];d.includes(e)||(d.push(e),i.set(u,d))}else if(typeof l=="object"){var f=Object.keys(l),p=(t=f[0])!==null&&t!==void 0?t:"",m=l[p];if(typeof p=="string"&&Array.isArray(m))for(var g=0,v=m.length;g<v;g++){var _=m[g];if(_){var u=En(_,"MM.dd.yyyy"),d=i.get(u)||[];d.includes(p)||(d.push(p),i.set(u,d))}}}}return i}function lK(n,e){return n.length!==e.length?!1:n.every(function(t,i){return t===e[i]})}function uK(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(i){var r=i.date,s=i.holidayName;if(es(r)){var l=En(r,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&lK(u.holidayNames,[s]))){u.className=e;var d=u.holidayNames;u.holidayNames=d?ra(ra([],d,!0),[s],!1):[s],t.set(l,u)}}}),t}function cK(n,e,t,i,r){for(var s=r.length,l=[],u=0;u<s;u++){var d=n,f=r[u];f&&(d=SY(d,ts(f)),d=Sb(d,ns(f)),d=MY(d,to(f)));var p=Sb(n,(t+1)*i);so(d,e)&&yl(d,p)&&f!=null&&l.push(f)}return l}function gA(n){return n<10?"0".concat(n):"".concat(n)}function Xs(n,e){e===void 0&&(e=yf);var t=Math.ceil(It(n)/e)*e,i=t-(e-1);return{startPeriod:i,endPeriod:t}}function dK(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function vA(n){var e=n.getSeconds(),t=n.getMilliseconds();return rt(n.getTime()-e*1e3-t)}function fK(n,e){return vA(n).getTime()===vA(e).getTime()}function yA(n){if(!es(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function _A(n,e){if(!es(n)||!es(e))throw new Error("Invalid date received");var t=yA(n),i=yA(e);return yl(t,i)}function JO(n){return n.key===je.Space}var hK=function(n){li(e,n);function e(t){var i=n.call(this,t)||this;return i.inputRef=ne.createRef(),i.onTimeChange=function(r){var s,l;i.setState({time:r});var u=i.props.date,d=u instanceof Date&&!isNaN(+u),f=d?u:new Date;if(r!=null&&r.includes(":")){var p=r.split(":"),m=p[0],g=p[1];f.setHours(Number(m)),f.setMinutes(Number(g))}(l=(s=i.props).onChange)===null||l===void 0||l.call(s,f)},i.renderTimeInput=function(){var r=i.state.time,s=i.props,l=s.date,u=s.timeString,d=s.customTimeInput;return d?S.cloneElement(d,{date:l,value:r,onChange:i.onTimeChange}):ne.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:i.inputRef,onClick:function(){var f;(f=i.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:r,onChange:function(f){i.onTimeChange(f.target.value||u)}})},i.state={time:i.props.timeString},i}return e.getDerivedStateFromProps=function(t,i){return t.timeString!==i.time?{time:t.timeString}:null},e.prototype.render=function(){return ne.createElement("div",{className:"react-datepicker__input-time-container"},ne.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ne.createElement("div",{className:"react-datepicker-time__input-container"},ne.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(S.Component),pK=function(n){li(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=S.createRef(),t.handleClick=function(i){!t.isDisabled()&&t.props.onClick&&t.props.onClick(i)},t.handleMouseEnter=function(i){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(i)},t.handleOnKeyDown=function(i){var r,s,l=i.key;l===je.Space&&(i.preventDefault(),i.key=je.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,i)},t.isSameDay=function(i){return Wt(t.props.day,i)},t.isKeyboardSelected=function(){var i;if(t.props.disabledKeyboardNavigation)return!1;var r=t.props.selectsMultiple?(i=t.props.selectedDates)===null||i===void 0?void 0:i.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!r&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(i){return i===void 0&&(i=t.props.day),br(i,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return qx(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Wt(t.props.day,no(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(i){return t.props.showWeekPicker&&Wt(i,no(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(i){return t.isSameDay(i)||t.isSameWeek(i)},t.getHighLightedClass=function(){var i=t.props,r=i.day,s=i.highlightDates;if(!s)return!1;var l=En(r,"MM.dd.yyyy");return s.get(l)},t.getHolidaysClass=function(){var i,r=t.props,s=r.day,l=r.holidays;if(!l)return[void 0];var u=En(s,"MM.dd.yyyy");return l.has(u)?[(i=l.get(u))===null||i===void 0?void 0:i.className]:[void 0]},t.isInRange=function(){var i=t.props,r=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Ad(r,s,l)},t.isInSelectingRange=function(){var i,r=t.props,s=r.day,l=r.selectsStart,u=r.selectsEnd,d=r.selectsRange,f=r.selectsDisabledDaysInRange,p=r.startDate,m=r.endDate,g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||u||d)||!g||!f&&t.isDisabled()?!1:l&&m&&(yl(g,m)||Jo(g,m))?Ad(s,g,m):u&&p&&(so(g,p)||Jo(g,p))||d&&p&&!m&&(so(g,p)||Jo(g,p))?Ad(s,p,g):!1},t.isSelectingRangeStart=function(){var i;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,l=r.startDate,u=r.selectsStart,d=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u?Wt(s,d):Wt(s,l)},t.isSelectingRangeEnd=function(){var i;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,l=r.endDate,u=r.selectsEnd,d=r.selectsRange,f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u||d?Wt(s,f):Wt(s,l)},t.isRangeStart=function(){var i=t.props,r=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Wt(s,r)},t.isRangeEnd=function(){var i=t.props,r=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Wt(l,r)},t.isWeekend=function(){var i=Eq(t.props.day);return i===0||i===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Ci(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Ci(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(sn())},t.isSelected=function(){var i;return t.props.selectsMultiple?(i=t.props.selectedDates)===null||i===void 0?void 0:i.some(function(r){return t.isSameDayOrWeek(r)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(i){var r=t.props.dayClassName?t.props.dayClassName(i):void 0;return mi("react-datepicker__day",r,"react-datepicker__day--"+KX(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var i=t.props,r=i.day,s=i.ariaLabelPrefixWhenEnabled,l=s===void 0?"Choose":s,u=i.ariaLabelPrefixWhenDisabled,d=u===void 0?"Not available":u,f=t.isDisabled()||t.isExcluded()?d:l;return"".concat(f," ").concat(En(r,"PPPP",t.props.locale))},t.getTitle=function(){var i=t.props,r=i.day,s=i.holidays,l=s===void 0?new Map:s,u=i.excludeDates,d=En(r,"MM.dd.yyyy"),f=[];return l.has(d)&&f.push.apply(f,l.get(d).holidayNames),t.isExcluded()&&f.push(u==null?void 0:u.filter(function(p){return p instanceof Date?Wt(p,r):Wt(p==null?void 0:p.date,r)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),f.join(", ")},t.getTabIndex=function(){var i=t.props.selected,r=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(i)&&Wt(r,i))?0:-1;return s},t.handleFocusDay=function(){var i;t.shouldFocusDay()&&((i=t.dayEl.current)===null||i===void 0||i.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(XC(t.props.day),t.props.day):XC(t.props.day)},t.render=function(){return ne.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ne.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,i,r;return((i=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||i===void 0?void 0:i.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(S.Component),mK=function(n){li(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=S.createRef(),t.handleClick=function(i){t.props.onClick&&t.props.onClick(i)},t.handleOnKeyDown=function(i){var r,s,l=i.key;l===je.Space&&(i.preventDefault(),i.key=je.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,i)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Wt(t.props.date,t.props.selected)&&Wt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Wt(t.props.date,t.props.selected)&&Wt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(i){var r=!1;t.getTabIndex()===0&&!(i!=null&&i.isInputFocused)&&Wt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(r=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,i=t.weekNumber,r=t.isWeekDisabled,s=t.ariaLabelPrefix,l=s===void 0?e.defaultProps.ariaLabelPrefix:s,u=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!r,"react-datepicker__week-number--selected":!!u&&Wt(this.props.date,this.props.selected)};return ne.createElement("div",{ref:this.weekNumberEl,className:mi(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},i)},e}(S.Component),gK=function(n){li(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(i){return br(i,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(i,r){t.props.onDayClick&&t.props.onDayClick(i,r)},t.handleDayMouseEnter=function(i){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(i)},t.handleWeekClick=function(i,r,s){for(var l,u,d,f=new Date(i),p=0;p<7;p++){var m=new Date(i);m.setDate(m.getDate()+p);var g=!t.isDisabled(m);if(g){f=m;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(f,r,s),t.props.showWeekPicker&&t.handleDayClick(f,s),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(u=t.props).setOpen)===null||d===void 0||d.call(u,!1))},t.formatWeekNumber=function(i){return t.props.formatWeekNumber?t.props.formatWeekNumber(i):XX(i)},t.isWeekDisabled=function(){for(var i=t.startOfWeek(),r=Br(i,6),s=new Date(i);s<=r;){if(!t.isDisabled(s))return!1;s=Br(s,1)}return!0},t.renderDays=function(){var i=t.startOfWeek(),r=[],s=t.formatWeekNumber(i);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,i,s):void 0;r.push(ne.createElement(mK,Yt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:i,onClick:l})))}return r.concat([0,1,2,3,4,5,6].map(function(u){var d=Br(i,u);return ne.createElement(pK,Yt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return no(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Wt(t.startOfWeek(),t.props.selected)&&Wt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Wt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ne.createElement("div",{className:mi(t)},this.renderDays())},e}(S.Component),yd,vK=6,Ou={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},X0=(yd={},yd[Ou.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},yd[Ou.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},yd[Ou.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},yd),hp=1;function bA(n,e){return n?Ou.FOUR_COLUMNS:e?Ou.TWO_COLUMNS:Ou.THREE_COLUMNS}var yK=function(n){li(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ra([],Array(12),!0).map(function(){return S.createRef()}),t.QUARTER_REFS=ra([],Array(4),!0).map(function(){return S.createRef()}),t.isDisabled=function(i){return br(i,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(i){return qx(i,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(i,r){var s,l;(l=(s=t.props).onDayClick)===null||l===void 0||l.call(s,i,r,t.props.orderInDisplay)},t.handleDayMouseEnter=function(i){var r,s;(s=(r=t.props).onDayMouseEnter)===null||s===void 0||s.call(r,i)},t.handleMouseLeave=function(){var i,r;(r=(i=t.props).onMouseLeave)===null||r===void 0||r.call(i)},t.isRangeStartMonth=function(i){var r=t.props,s=r.day,l=r.startDate,u=r.endDate;return!l||!u?!1:Ti(_r(s,i),l)},t.isRangeStartQuarter=function(i){var r=t.props,s=r.day,l=r.startDate,u=r.endDate;return!l||!u?!1:Um(_u(s,i),l)},t.isRangeEndMonth=function(i){var r=t.props,s=r.day,l=r.startDate,u=r.endDate;return!l||!u?!1:Ti(_r(s,i),u)},t.isRangeEndQuarter=function(i){var r=t.props,s=r.day,l=r.startDate,u=r.endDate;return!l||!u?!1:Um(_u(s,i),u)},t.isInSelectingRangeMonth=function(i){var r,s=t.props,l=s.day,u=s.selectsStart,d=s.selectsEnd,f=s.selectsRange,p=s.startDate,m=s.endDate,g=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(u||d||f)||!g?!1:u&&m?up(g,m,i,l):d&&p||f&&p&&!m?up(p,g,i,l):!1},t.isSelectingMonthRangeStart=function(i){var r;if(!t.isInSelectingRangeMonth(i))return!1;var s=t.props,l=s.day,u=s.startDate,d=s.selectsStart,f=_r(l,i),p=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return d?Ti(f,p):Ti(f,u)},t.isSelectingMonthRangeEnd=function(i){var r;if(!t.isInSelectingRangeMonth(i))return!1;var s=t.props,l=s.day,u=s.endDate,d=s.selectsEnd,f=s.selectsRange,p=_r(l,i),m=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return d||f?Ti(p,m):Ti(p,u)},t.isInSelectingRangeQuarter=function(i){var r,s=t.props,l=s.day,u=s.selectsStart,d=s.selectsEnd,f=s.selectsRange,p=s.startDate,m=s.endDate,g=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(u||d||f)||!g?!1:u&&m?fp(g,m,i,l):d&&p||f&&p&&!m?fp(p,g,i,l):!1},t.isWeekInMonth=function(i){var r=t.props.day,s=Br(i,6);return Ti(i,r)||Ti(s,r)},t.isCurrentMonth=function(i,r){return It(i)===It(sn())&&r===Ci(sn())},t.isCurrentQuarter=function(i,r){return It(i)===It(sn())&&r===sl(sn())},t.isSelectedMonth=function(i,r,s){return Ci(s)===r&&It(i)===It(s)},t.isSelectMonthInList=function(i,r,s){return s.some(function(l){return t.isSelectedMonth(i,r,l)})},t.isSelectedQuarter=function(i,r,s){return sl(i)===r&&It(i)===It(s)},t.renderWeeks=function(){for(var i=[],r=t.props.fixedHeight,s=0,l=!1,u=no(is(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(_){return t.props.showWeekPicker?no(_,t.props.locale,t.props.calendarStartDay):t.props.preSelection},f=function(_){return t.props.showWeekPicker?no(_,t.props.locale,t.props.calendarStartDay):t.props.selected},p=t.props.selected?f(t.props.selected):void 0,m=t.props.preSelection?d(t.props.preSelection):void 0;i.push(ne.createElement(gK,Yt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:u,month:Ci(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:p,preSelection:m,showWeekNumber:t.props.showWeekNumbers}))),!l;){s++,u=Tm(u,1);var g=r&&s>=vK,v=!r&&!t.isWeekInMonth(u);if(g||v)if(t.props.peekNextMonth)l=!0;else break}return i},t.onMonthClick=function(i,r){var s=t.isMonthDisabledForLabelDate(r),l=s.isDisabled,u=s.labelDate;l||t.handleDayClick(is(u),i)},t.onMonthMouseEnter=function(i){var r=t.isMonthDisabledForLabelDate(i),s=r.isDisabled,l=r.labelDate;s||t.handleDayMouseEnter(is(l))},t.handleMonthNavigation=function(i,r){var s,l,u,d;(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,r),(d=(u=t.MONTH_REFS[i])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(i,r,s){var l,u=t.props,d=u.selected,f=u.preSelection,p=u.setPreSelection,m=u.minDate,g=u.maxDate,v=u.showFourColumnMonthYearPicker,_=u.showTwoColumnMonthYearPicker;if(f){var w=bA(v,_),x=t.getVerticalOffset(w),b=(l=X0[w])===null||l===void 0?void 0:l.grid,M=function(D,I,A){var R,N,X=I,$=A;switch(D){case je.ArrowRight:X=zr(I,hp),$=A===11?0:A+hp;break;case je.ArrowLeft:X=ol(I,hp),$=A===0?11:A-hp;break;case je.ArrowUp:X=ol(I,x),$=!((R=b==null?void 0:b[0])===null||R===void 0)&&R.includes(A)?A+12-x:A-x;break;case je.ArrowDown:X=zr(I,x),$=!((N=b==null?void 0:b[b.length-1])===null||N===void 0)&&N.includes(A)?A-12+x:A+x;break}return{newCalculatedDate:X,newCalculatedMonth:$}},C=function(D,I,A){for(var R=40,N=D,X=!1,$=0,Z=M(N,I,A),K=Z.newCalculatedDate,H=Z.newCalculatedMonth;!X;){if($>=R){K=I,H=A;break}if(m&&K<m){N=je.ArrowRight;var Y=M(N,K,H);K=Y.newCalculatedDate,H=Y.newCalculatedMonth}if(g&&K>g){N=je.ArrowLeft;var Y=M(N,K,H);K=Y.newCalculatedDate,H=Y.newCalculatedMonth}if(iK(K,t.props)){var Y=M(N,K,H);K=Y.newCalculatedDate,H=Y.newCalculatedMonth}else X=!0;$++}return{newCalculatedDate:K,newCalculatedMonth:H}};if(r===je.Enter){t.isMonthDisabled(s)||(t.onMonthClick(i,s),p==null||p(d));return}var T=C(r,f,s),O=T.newCalculatedDate,L=T.newCalculatedMonth;switch(r){case je.ArrowRight:case je.ArrowLeft:case je.ArrowUp:case je.ArrowDown:t.handleMonthNavigation(L,O);break}}},t.getVerticalOffset=function(i){var r,s;return(s=(r=X0[i])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(i,r){var s=t.props,l=s.disabledKeyboardNavigation,u=s.handleOnMonthKeyDown,d=i.key;d!==je.Tab&&i.preventDefault(),l||t.handleKeyboardNavigation(i,d,r),u&&u(i)},t.onQuarterClick=function(i,r){var s=_u(t.props.day,r);cp(s,t.props)||t.handleDayClick(aA(s),i)},t.onQuarterMouseEnter=function(i){var r=_u(t.props.day,i);cp(r,t.props)||t.handleDayMouseEnter(aA(r))},t.handleQuarterNavigation=function(i,r){var s,l,u,d;t.isDisabled(r)||t.isExcluded(r)||((l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,r),(d=(u=t.QUARTER_REFS[i-1])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(i,r){var s,l,u=i.key;if(!t.props.disabledKeyboardNavigation)switch(u){case je.Enter:t.onQuarterClick(i,r),(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,t.props.selected);break;case je.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===4?1:r+1,Ix(t.props.preSelection,1));break;case je.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===1?4:r-1,NO(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(i){var r,s=t.props,l=s.day,u=s.minDate,d=s.maxDate,f=s.excludeDates,p=s.includeDates,m=_r(l,i);return{isDisabled:(r=(u||d||f||p)&&KO(m,t.props))!==null&&r!==void 0?r:!1,labelDate:m}},t.isMonthDisabled=function(i){var r=t.isMonthDisabledForLabelDate(i).isDisabled;return r},t.getMonthClassNames=function(i){var r=t.props,s=r.day,l=r.startDate,u=r.endDate,d=r.preSelection,f=r.monthClassName,p=f?f(_r(s,i)):void 0,m=t.getSelection();return mi("react-datepicker__month-text","react-datepicker__month-".concat(i),p,{"react-datepicker__month-text--disabled":t.isMonthDisabled(i),"react-datepicker__month-text--selected":m?t.isSelectMonthInList(s,i,m):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(s,i,d)&&!t.isMonthDisabled(i),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(i),"react-datepicker__month-text--in-range":l&&u?up(l,u,i,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(i),"react-datepicker__month-text--range-end":t.isRangeEndMonth(i),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(i),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(i),"react-datepicker__month-text--today":t.isCurrentMonth(s,i)})},t.getTabIndex=function(i){if(t.props.preSelection==null)return"-1";var r=Ci(t.props.preSelection),s=t.isMonthDisabledForLabelDate(r).isDisabled,l=i===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(i){if(t.props.preSelection==null)return"-1";var r=sl(t.props.preSelection),s=cp(t.props.day,t.props),l=i===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(i){var r=t.props,s=r.chooseDayAriaLabelPrefix,l=s===void 0?"Choose":s,u=r.disabledDayAriaLabelPrefix,d=u===void 0?"Not available":u,f=r.day,p=r.locale,m=_r(f,i),g=t.isDisabled(m)||t.isExcluded(m)?d:l;return"".concat(g," ").concat(En(m,"MMMM yyyy",p))},t.getQuarterClassNames=function(i){var r=t.props,s=r.day,l=r.startDate,u=r.endDate,d=r.selected,f=r.minDate,p=r.maxDate,m=r.excludeDates,g=r.includeDates,v=r.filterDate,_=r.preSelection,w=r.disabledKeyboardNavigation,x=(f||p||m||g||v)&&cp(_u(s,i),t.props);return mi("react-datepicker__quarter-text","react-datepicker__quarter-".concat(i),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(s,i,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&_&&t.isSelectedQuarter(s,i,_)&&!x,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(i),"react-datepicker__quarter-text--in-range":l&&u?fp(l,u,i,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(i),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(i)})},t.getMonthContent=function(i){var r=t.props,s=r.showFullMonthYearPicker,l=r.renderMonthContent,u=r.locale,d=r.day,f=XO(i,u),p=Yx(i,u);return l?l(i,f,p,d):s?p:f},t.getQuarterContent=function(i){var r,s=t.props,l=s.renderQuarterContent,u=s.locale,d=nK(i,u);return(r=l==null?void 0:l(i,d))!==null&&r!==void 0?r:d},t.renderMonths=function(){var i,r=t.props,s=r.showTwoColumnMonthYearPicker,l=r.showFourColumnMonthYearPicker,u=r.day,d=r.selected,f=(i=X0[bA(l,s)])===null||i===void 0?void 0:i.grid;return f==null?void 0:f.map(function(p,m){return ne.createElement("div",{className:"react-datepicker__month-wrapper",key:m},p.map(function(g,v){return ne.createElement("div",{ref:t.MONTH_REFS[g],key:v,onClick:function(_){t.onMonthClick(_,g)},onKeyDown:function(_){JO(_)&&(_.preventDefault(),_.key=je.Enter),t.onMonthKeyDown(_,g)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(g)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(g)}:void 0,tabIndex:Number(t.getTabIndex(g)),className:t.getMonthClassNames(g),"aria-disabled":t.isMonthDisabled(g),role:"option","aria-label":t.getAriaLabel(g),"aria-current":t.isCurrentMonth(u,g)?"date":void 0,"aria-selected":d?t.isSelectedMonth(u,g,d):void 0},t.getMonthContent(g))}))})},t.renderQuarters=function(){var i=t.props,r=i.day,s=i.selected,l=[1,2,3,4];return ne.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,d){return ne.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(f){t.onQuarterClick(f,u)},onKeyDown:function(f){t.onQuarterKeyDown(f,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":s?t.isSelectedQuarter(r,u,s):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(r,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var i=t.props,r=i.selectingDate,s=i.selectsStart,l=i.selectsEnd,u=i.showMonthYearPicker,d=i.showQuarterYearPicker,f=i.showWeekPicker;return mi("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(s||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":f})},t}return e.prototype.getSelection=function(){var t=this.props,i=t.selected,r=t.selectedDates,s=t.selectsMultiple;if(s)return r;if(i)return[i]},e.prototype.render=function(){var t=this.props,i=t.showMonthYearPicker,r=t.showQuarterYearPicker,s=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,d=u?u.trim()+" ":"";return ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(En(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},i?this.renderMonths():r?this.renderQuarters():this.renderWeeks())},e}(S.Component),_K=function(n){li(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(i){return t.props.month===i},t.renderOptions=function(){return t.props.monthNames.map(function(i,r){return ne.createElement("div",{className:t.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:i,onClick:t.onChange.bind(t,r),"aria-selected":t.isSelectedMonth(r)?"true":void 0},t.isSelectedMonth(r)?ne.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",i)})},t.onChange=function(i){return t.props.onChange(i)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ne.createElement(wg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(S.Component),bK=function(n){li(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(i){return i.map(function(r,s){return ne.createElement("option",{key:r,value:s},r)})},t.renderSelectMode=function(i){return ne.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(r){return t.onChange(parseInt(r.target.value))}},t.renderSelectOptions(i))},t.renderReadView=function(i,r){return ne.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[t.props.month]))},t.renderDropdown=function(i){return ne.createElement(_K,Yt({key:"dropdown"},t.props,{monthNames:i,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(i){var r=t.state.dropdownVisible,s=[t.renderReadView(!r,i)];return r&&s.unshift(t.renderDropdown(i)),s},t.onChange=function(i){t.toggleDropdown(),i!==t.props.month&&t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return XO(s,t.props.locale)}:function(s){return Yx(s,t.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(i);break;case"select":r=this.renderSelectMode(i);break}return ne.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},e}(S.Component);function xK(n,e){for(var t=[],i=is(n),r=is(e);!so(i,r);)t.push(sn(i)),i=zr(i,1);return t}var SK=function(n){li(e,n);function e(t){var i=n.call(this,t)||this;return i.renderOptions=function(){return i.state.monthYearsList.map(function(r){var s=Mb(r),l=Qr(i.props.date,r)&&Ti(i.props.date,r);return ne.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:i.onChange.bind(i,s),"aria-selected":l?"true":void 0},l?ne.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",En(r,i.props.dateFormat,i.props.locale))})},i.onChange=function(r){return i.props.onChange(r)},i.handleClickOutside=function(){i.props.onCancel()},i.state={monthYearsList:xK(i.props.minDate,i.props.maxDate)},i}return e.prototype.render=function(){var t=mi({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ne.createElement(wg,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(S.Component),EK=function(n){li(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var i=is(t.props.minDate),r=is(t.props.maxDate),s=[];!so(i,r);){var l=Mb(i);s.push(ne.createElement("option",{key:l,value:l},En(i,t.props.dateFormat,t.props.locale))),i=zr(i,1)}return s},t.onSelectChange=function(i){t.onChange(parseInt(i.target.value))},t.renderSelectMode=function(){return ne.createElement("select",{value:Mb(is(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(i){var r=En(t.props.date,t.props.dateFormat,t.props.locale);return ne.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},t.renderDropdown=function(){return ne.createElement(SK,Yt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var i=t.state.dropdownVisible,r=[t.renderReadView(!i)];return i&&r.unshift(t.renderDropdown()),r},t.onChange=function(i){t.toggleDropdown();var r=sn(i);Qr(t.props.date,r)&&Ti(t.props.date,r)||t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(S.Component),wK=function(n){li(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var i,r,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((r=(i=t.header)===null||i===void 0?void 0:i.clientHeight)!==null&&r!==void 0?r:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(i){var r,s;(t.props.minTime||t.props.maxTime)&&cA(i,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&uA(i,t.props)||(s=(r=t.props).onChange)===null||s===void 0||s.call(r,i)},t.isSelectedTime=function(i){return t.props.selected&&fK(t.props.selected,i)},t.isDisabledTime=function(i){return(t.props.minTime||t.props.maxTime)&&cA(i,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&uA(i,t.props)},t.liClasses=function(i){var r,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(i):void 0];return t.isSelectedTime(i)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(i)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ts(i)*3600+ns(i)*60+to(i))%(((r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(i,r){var s,l;i.key===je.Space&&(i.preventDefault(),i.key=je.Enter),(i.key===je.ArrowUp||i.key===je.ArrowLeft)&&i.target instanceof HTMLElement&&i.target.previousSibling&&(i.preventDefault(),i.target.previousSibling instanceof HTMLElement&&i.target.previousSibling.focus()),(i.key===je.ArrowDown||i.key===je.ArrowRight)&&i.target instanceof HTMLElement&&i.target.nextSibling&&(i.preventDefault(),i.target.nextSibling instanceof HTMLElement&&i.target.nextSibling.focus()),i.key===je.Enter&&t.handleClick(r),(l=(s=t.props).handleOnKeyDown)===null||l===void 0||l.call(s,i)},t.renderTimes=function(){for(var i,r=[],s=typeof t.props.format=="string"?t.props.format:"p",l=(i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||sn(),d=Jp(u),f=t.props.injectTimes&&t.props.injectTimes.sort(function(x,b){return x.getTime()-b.getTime()}),p=60*dK(u),m=p/l,g=0;g<m;g++){var v=Sb(d,g*l);if(r.push(v),f){var _=cK(d,v,g,l,f);r=r.concat(_)}}var w=r.reduce(function(x,b){return b.getTime()<=u.getTime()?b:x},r[0]);return r.map(function(x){return ne.createElement("li",{key:x.valueOf(),onClick:t.handleClick.bind(t,x),className:t.liClasses(x),ref:function(b){x===w&&(t.centerLi=b)},onKeyDown:function(b){t.handleOnKeyDown(b,x)},tabIndex:x===w?0:-1,role:"option","aria-selected":t.isSelectedTime(x)?"true":void 0,"aria-disabled":t.isDisabledTime(x)?"true":void 0},En(x,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ne.createElement(ne.Fragment,null):ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(i){t.header=i}},ne.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,i,r=this.state.height;return ne.createElement("div",{className:"react-datepicker__time-container ".concat(((i=this.props.todayButton)!==null&&i!==void 0?i:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ne.createElement("div",{className:"react-datepicker__time"},ne.createElement("div",{className:"react-datepicker__time-box"},ne.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,i){return i.offsetTop-(t/2-i.clientHeight/2)},e}(S.Component),xA=3,MK=function(n){li(e,n);function e(t){var i=n.call(this,t)||this;return i.YEAR_REFS=ra([],Array(i.props.yearItemNumber),!0).map(function(){return S.createRef()}),i.isDisabled=function(r){return br(r,{minDate:i.props.minDate,maxDate:i.props.maxDate,excludeDates:i.props.excludeDates,includeDates:i.props.includeDates,filterDate:i.props.filterDate})},i.isExcluded=function(r){return qx(r,{excludeDates:i.props.excludeDates})},i.selectingDate=function(){var r;return(r=i.props.selectingDate)!==null&&r!==void 0?r:i.props.preSelection},i.updateFocusOnPaginate=function(r){var s=function(){var l,u;(u=(l=i.YEAR_REFS[r])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(s)},i.handleYearClick=function(r,s){i.props.onDayClick&&i.props.onDayClick(r,s)},i.handleYearNavigation=function(r,s){var l,u,d,f,p=i.props,m=p.date,g=p.yearItemNumber;if(!(m===void 0||g===void 0)){var v=Xs(m,g).startPeriod;i.isDisabled(s)||i.isExcluded(s)||((u=(l=i.props).setPreSelection)===null||u===void 0||u.call(l,s),r-v<0?i.updateFocusOnPaginate(g-(v-r)):r-v>=g?i.updateFocusOnPaginate(Math.abs(g-(r-v))):(f=(d=i.YEAR_REFS[r-v])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())}},i.isSameDay=function(r,s){return Wt(r,s)},i.isCurrentYear=function(r){return r===It(sn())},i.isRangeStart=function(r){return i.props.startDate&&i.props.endDate&&Qr(qr(sn(),r),i.props.startDate)},i.isRangeEnd=function(r){return i.props.startDate&&i.props.endDate&&Qr(qr(sn(),r),i.props.endDate)},i.isInRange=function(r){return dp(r,i.props.startDate,i.props.endDate)},i.isInSelectingRange=function(r){var s=i.props,l=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,p=s.endDate;return!(l||u||d)||!i.selectingDate()?!1:l&&p?dp(r,i.selectingDate(),p):u&&f||d&&f&&!p?dp(r,f,i.selectingDate()):!1},i.isSelectingRangeStart=function(r){var s;if(!i.isInSelectingRange(r))return!1;var l=i.props,u=l.startDate,d=l.selectsStart,f=qr(sn(),r);return d?Qr(f,(s=i.selectingDate())!==null&&s!==void 0?s:null):Qr(f,u??null)},i.isSelectingRangeEnd=function(r){var s;if(!i.isInSelectingRange(r))return!1;var l=i.props,u=l.endDate,d=l.selectsEnd,f=l.selectsRange,p=qr(sn(),r);return d||f?Qr(p,(s=i.selectingDate())!==null&&s!==void 0?s:null):Qr(p,u??null)},i.isKeyboardSelected=function(r){if(!(i.props.date===void 0||i.props.selected==null||i.props.preSelection==null)){var s=i.props,l=s.minDate,u=s.maxDate,d=s.excludeDates,f=s.includeDates,p=s.filterDate,m=Cd(qr(i.props.date,r)),g=(l||u||d||f||p)&&em(r,i.props);return!i.props.disabledKeyboardNavigation&&!i.props.inline&&!Wt(m,Cd(i.props.selected))&&Wt(m,Cd(i.props.preSelection))&&!g}},i.onYearClick=function(r,s){var l=i.props.date;l!==void 0&&i.handleYearClick(Cd(qr(l,s)),r)},i.onYearKeyDown=function(r,s){var l,u,d=r.key,f=i.props,p=f.date,m=f.yearItemNumber,g=f.handleOnKeyDown;if(d!==je.Tab&&r.preventDefault(),!i.props.disabledKeyboardNavigation)switch(d){case je.Enter:if(i.props.selected==null)break;i.onYearClick(r,s),(u=(l=i.props).setPreSelection)===null||u===void 0||u.call(l,i.props.selected);break;case je.ArrowRight:if(i.props.preSelection==null)break;i.handleYearNavigation(s+1,Ja(i.props.preSelection,1));break;case je.ArrowLeft:if(i.props.preSelection==null)break;i.handleYearNavigation(s-1,Xu(i.props.preSelection,1));break;case je.ArrowUp:{if(p===void 0||m===void 0||i.props.preSelection==null)break;var v=Xs(p,m).startPeriod,_=xA,w=s-_;if(w<v){var x=m%_;s>=v&&s<v+x?_=x:_+=x,w=s-_}i.handleYearNavigation(w,Xu(i.props.preSelection,_));break}case je.ArrowDown:{if(p===void 0||m===void 0||i.props.preSelection==null)break;var b=Xs(p,m).endPeriod,_=xA,w=s+_;if(w>b){var x=m%_;s<=b&&s>b-x?_=x:_+=x,w=s+_}i.handleYearNavigation(w,Ja(i.props.preSelection,_));break}}g&&g(r)},i.getYearClassNames=function(r){var s=i.props,l=s.date,u=s.minDate,d=s.maxDate,f=s.selected,p=s.excludeDates,m=s.includeDates,g=s.filterDate,v=s.yearClassName;return mi("react-datepicker__year-text","react-datepicker__year-".concat(r),l?v==null?void 0:v(qr(l,r)):void 0,{"react-datepicker__year-text--selected":f?r===It(f):void 0,"react-datepicker__year-text--disabled":(u||d||p||m||g)&&em(r,i.props),"react-datepicker__year-text--keyboard-selected":i.isKeyboardSelected(r),"react-datepicker__year-text--range-start":i.isRangeStart(r),"react-datepicker__year-text--range-end":i.isRangeEnd(r),"react-datepicker__year-text--in-range":i.isInRange(r),"react-datepicker__year-text--in-selecting-range":i.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":i.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":i.isSelectingRangeEnd(r),"react-datepicker__year-text--today":i.isCurrentYear(r)})},i.getYearTabIndex=function(r){if(i.props.disabledKeyboardNavigation||i.props.preSelection==null)return"-1";var s=It(i.props.preSelection),l=em(r,i.props);return r===s&&!l?"0":"-1"},i.getYearContent=function(r){return i.props.renderYearContent?i.props.renderYearContent(r):r},i}return e.prototype.render=function(){var t=this,i=[],r=this.props,s=r.date,l=r.yearItemNumber,u=r.onYearMouseEnter,d=r.onYearMouseLeave;if(s===void 0)return null;for(var f=Xs(s,l),p=f.startPeriod,m=f.endPeriod,g=function(w){i.push(ne.createElement("div",{ref:v.YEAR_REFS[w-p],onClick:function(x){t.onYearClick(x,w)},onKeyDown:function(x){JO(x)&&(x.preventDefault(),x.key=je.Enter),t.onYearKeyDown(x,w)},tabIndex:Number(v.getYearTabIndex(w)),className:v.getYearClassNames(w),onMouseEnter:v.props.usePointerEvent?void 0:function(x){return u(x,w)},onPointerEnter:v.props.usePointerEvent?function(x){return u(x,w)}:void 0,onMouseLeave:v.props.usePointerEvent?void 0:function(x){return d(x,w)},onPointerLeave:v.props.usePointerEvent?function(x){return d(x,w)}:void 0,key:w,"aria-current":v.isCurrentYear(w)?"date":void 0},v.getYearContent(w)))},v=this,_=p;_<=m;_++)g(_);return ne.createElement("div",{className:"react-datepicker__year"},ne.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},i))},e}(S.Component);function TK(n,e,t,i){for(var r=[],s=0;s<2*e+1;s++){var l=n+e-s,u=!0;t&&(u=It(t)<=l),i&&u&&(u=It(i)>=l),u&&r.push(l)}return r}var CK=function(n){li(e,n);function e(t){var i=n.call(this,t)||this;i.renderOptions=function(){var u=i.props.year,d=i.state.yearsList.map(function(m){return ne.createElement("div",{className:u===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:i.onChange.bind(i,m),"aria-selected":u===m?"true":void 0},u===m?ne.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",m)}),f=i.props.minDate?It(i.props.minDate):null,p=i.props.maxDate?It(i.props.maxDate):null;return(!p||!i.state.yearsList.find(function(m){return m===p}))&&d.unshift(ne.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:i.incrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!i.state.yearsList.find(function(m){return m===f}))&&d.push(ne.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:i.decrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},i.onChange=function(u){i.props.onChange(u)},i.handleClickOutside=function(){i.props.onCancel()},i.shiftYears=function(u){var d=i.state.yearsList.map(function(f){return f+u});i.setState({yearsList:d})},i.incrementYears=function(){return i.shiftYears(1)},i.decrementYears=function(){return i.shiftYears(-1)};var r=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,l=r||(s?10:5);return i.state={yearsList:TK(i.props.year,l,i.props.minDate,i.props.maxDate)},i.dropdownRef=S.createRef(),i}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var i=t.children?Array.from(t.children):null,r=i?i.find(function(s){return s.ariaSelected}):null;t.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=mi({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ne.createElement(wg,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(S.Component),AK=function(n){li(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var i=t.props.minDate?It(t.props.minDate):1900,r=t.props.maxDate?It(t.props.maxDate):2100,s=[],l=i;l<=r;l++)s.push(ne.createElement("option",{key:l,value:l},l));return s},t.onSelectChange=function(i){t.onChange(parseInt(i.target.value))},t.renderSelectMode=function(){return ne.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(i){return ne.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(r){return t.toggleDropdown(r)}},ne.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ne.createElement(CK,Yt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var i=t.state.dropdownVisible,r=[t.renderReadView(!i)];return i&&r.unshift(t.renderDropdown()),r},t.onChange=function(i){t.toggleDropdown(),i!==t.props.year&&t.props.onChange(i)},t.toggleDropdown=function(i){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,i)})},t.handleYearChange=function(i,r){var s;(s=t.onSelect)===null||s===void 0||s.call(t,i,r),t.setOpen()},t.onSelect=function(i,r){var s,l;(l=(s=t.props).onSelect)===null||l===void 0||l.call(s,i,r)},t.setOpen=function(){var i,r;(r=(i=t.props).setOpen)===null||r===void 0||r.call(i,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(S.Component),RK=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],DK=function(n){var e=(n.className||"").split(/\s+/);return RK.some(function(t){return e.indexOf(t)>=0})},LK=function(n){li(e,n);function e(t){var i=n.call(this,t)||this;return i.monthContainer=void 0,i.handleClickOutside=function(r){i.props.onClickOutside(r)},i.setClickOutsideRef=function(){return i.containerRef.current},i.handleDropdownFocus=function(r){var s,l;DK(r.target)&&((l=(s=i.props).onDropdownFocus)===null||l===void 0||l.call(s,r))},i.getDateInView=function(){var r=i.props,s=r.preSelection,l=r.selected,u=r.openToDate,d=ZO(i.props),f=QO(i.props),p=sn(),m=u||l||s;return m||(d&&yl(p,d)?d:f&&so(p,f)?f:p)},i.increaseMonth=function(){i.setState(function(r){var s=r.date;return{date:zr(s,1)}},function(){return i.handleMonthChange(i.state.date)})},i.decreaseMonth=function(){i.setState(function(r){var s=r.date;return{date:ol(s,1)}},function(){return i.handleMonthChange(i.state.date)})},i.handleDayClick=function(r,s,l){i.props.onSelect(r,s,l),i.props.setPreSelection&&i.props.setPreSelection(r)},i.handleDayMouseEnter=function(r){i.setState({selectingDate:r}),i.props.onDayMouseEnter&&i.props.onDayMouseEnter(r)},i.handleMonthMouseLeave=function(){i.setState({selectingDate:void 0}),i.props.onMonthMouseLeave&&i.props.onMonthMouseLeave()},i.handleYearMouseEnter=function(r,s){i.setState({selectingDate:qr(sn(),s)}),i.props.onYearMouseEnter&&i.props.onYearMouseEnter(r,s)},i.handleYearMouseLeave=function(r,s){i.props.onYearMouseLeave&&i.props.onYearMouseLeave(r,s)},i.handleYearChange=function(r){var s,l,u,d;(l=(s=i.props).onYearChange)===null||l===void 0||l.call(s,r),i.setState({isRenderAriaLiveMessage:!0}),i.props.adjustDateOnChange&&(i.props.onSelect(r),(d=(u=i.props).setOpen)===null||d===void 0||d.call(u,!0)),i.props.setPreSelection&&i.props.setPreSelection(r)},i.getEnabledPreSelectionDateForMonth=function(r){if(!br(r,i.props))return r;for(var s=is(r),l=QX(r),u=CY(l,s),d=null,f=0;f<=u;f++){var p=Br(s,f);if(!br(p,i.props)){d=p;break}}return d},i.handleMonthChange=function(r){var s,l,u,d=(s=i.getEnabledPreSelectionDateForMonth(r))!==null&&s!==void 0?s:r;i.handleCustomMonthChange(d),i.props.adjustDateOnChange&&(i.props.onSelect(d),(u=(l=i.props).setOpen)===null||u===void 0||u.call(l,!0)),i.props.setPreSelection&&i.props.setPreSelection(d)},i.handleCustomMonthChange=function(r){var s,l;(l=(s=i.props).onMonthChange)===null||l===void 0||l.call(s,r),i.setState({isRenderAriaLiveMessage:!0})},i.handleMonthYearChange=function(r){i.handleYearChange(r),i.handleMonthChange(r)},i.changeYear=function(r){i.setState(function(s){var l=s.date;return{date:qr(l,Number(r))}},function(){return i.handleYearChange(i.state.date)})},i.changeMonth=function(r){i.setState(function(s){var l=s.date;return{date:_r(l,Number(r))}},function(){return i.handleMonthChange(i.state.date)})},i.changeMonthYear=function(r){i.setState(function(s){var l=s.date;return{date:qr(_r(l,Ci(r)),It(r))}},function(){return i.handleMonthYearChange(i.state.date)})},i.header=function(r){r===void 0&&(r=i.state.date);var s=no(r,i.props.locale,i.props.calendarStartDay),l=[];return i.props.showWeekNumbers&&l.push(ne.createElement("div",{key:"W",className:"react-datepicker__day-name"},i.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var d=Br(s,u),f=i.formatWeekday(d,i.props.locale),p=i.props.weekDayClassName?i.props.weekDayClassName(d):void 0;return ne.createElement("div",{key:u,"aria-label":En(d,"EEEE",i.props.locale),className:mi("react-datepicker__day-name",p)},f)}))},i.formatWeekday=function(r,s){return i.props.formatWeekDay?JX(r,i.props.formatWeekDay,s):i.props.useWeekdaysShort?tK(r,s):eK(r,s)},i.decreaseYear=function(){i.setState(function(r){var s,l=r.date;return{date:Xu(l,i.props.showYearPicker?(s=i.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})},i.clearSelectingDate=function(){i.setState({selectingDate:void 0})},i.renderPreviousButton=function(){var r,s,l;if(!i.props.renderCustomHeader){var u=(r=i.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,d=i.props.showPreviousMonths?u-1:0,f=(s=i.props.monthSelectedIn)!==null&&s!==void 0?s:d,p=ol(i.state.date,f),m;switch(!0){case i.props.showMonthYearPicker:m=hA(i.state.date,i.props);break;case i.props.showYearPicker:m=sK(i.state.date,i.props);break;case i.props.showQuarterYearPicker:m=rK(i.state.date,i.props);break;default:m=dA(p,i.props);break}if(!(!((l=i.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!i.props.showDisabledMonthNavigation&&m||i.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],v=["react-datepicker__navigation","react-datepicker__navigation--previous"],_=i.decreaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(_=i.decreaseYear),m&&i.props.showDisabledMonthNavigation&&(v.push("react-datepicker__navigation--previous--disabled"),_=void 0);var w=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,x=i.props,b=x.previousMonthButtonLabel,M=b===void 0?e.defaultProps.previousMonthButtonLabel:b,C=x.previousYearButtonLabel,T=C===void 0?e.defaultProps.previousYearButtonLabel:C,O=i.props,L=O.previousMonthAriaLabel,D=L===void 0?typeof M=="string"?M:"Previous Month":L,I=O.previousYearAriaLabel,A=I===void 0?typeof T=="string"?T:"Previous Year":I;return ne.createElement("button",{type:"button",className:v.join(" "),onClick:_,onKeyDown:i.props.handleOnKeyDown,"aria-label":w?A:D},ne.createElement("span",{className:g.join(" ")},w?T:M))}}},i.increaseYear=function(){i.setState(function(r){var s,l=r.date;return{date:Ja(l,i.props.showYearPicker?(s=i.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})},i.renderNextButton=function(){var r;if(!i.props.renderCustomHeader){var s;switch(!0){case i.props.showMonthYearPicker:s=pA(i.state.date,i.props);break;case i.props.showYearPicker:s=oK(i.state.date,i.props);break;case i.props.showQuarterYearPicker:s=aK(i.state.date,i.props);break;default:s=fA(i.state.date,i.props);break}if(!(!((r=i.props.forceShowMonthNavigation)!==null&&r!==void 0?r:e.defaultProps.forceShowMonthNavigation)&&!i.props.showDisabledMonthNavigation&&s||i.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];i.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),i.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=i.increaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(d=i.increaseYear),s&&i.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var f=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,p=i.props,m=p.nextMonthButtonLabel,g=m===void 0?e.defaultProps.nextMonthButtonLabel:m,v=p.nextYearButtonLabel,_=v===void 0?e.defaultProps.nextYearButtonLabel:v,w=i.props,x=w.nextMonthAriaLabel,b=x===void 0?typeof g=="string"?g:"Next Month":x,M=w.nextYearAriaLabel,C=M===void 0?typeof _=="string"?_:"Next Year":M;return ne.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:i.props.handleOnKeyDown,"aria-label":f?C:b},ne.createElement("span",{className:u.join(" ")},f?_:g))}}},i.renderCurrentMonth=function(r){r===void 0&&(r=i.state.date);var s=["react-datepicker__current-month"];return i.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),i.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),i.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ne.createElement("h2",{className:s.join(" ")},En(r,i.props.dateFormat,i.props.locale))},i.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showYearDropdown||r))return ne.createElement(AK,Yt({},e.defaultProps,i.props,{date:i.state.date,onChange:i.changeYear,year:It(i.state.date)}))},i.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showMonthDropdown||r))return ne.createElement(bK,Yt({},e.defaultProps,i.props,{month:Ci(i.state.date),onChange:i.changeMonth}))},i.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showMonthYearDropdown||r))return ne.createElement(EK,Yt({},e.defaultProps,i.props,{date:i.state.date,onChange:i.changeMonthYear}))},i.handleTodayButtonClick=function(r){i.props.onSelect(sA(),r),i.props.setPreSelection&&i.props.setPreSelection(sA())},i.renderTodayButton=function(){if(!(!i.props.todayButton||i.props.showTimeSelectOnly))return ne.createElement("div",{className:"react-datepicker__today-button",onClick:i.handleTodayButtonClick},i.props.todayButton)},i.renderDefaultHeader=function(r){var s=r.monthDate,l=r.i;return ne.createElement("div",{className:"react-datepicker__header ".concat(i.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},i.renderCurrentMonth(s),ne.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(i.props.dropdownMode),onFocus:i.handleDropdownFocus},i.renderMonthDropdown(l!==0),i.renderMonthYearDropdown(l!==0),i.renderYearDropdown(l!==0)),ne.createElement("div",{className:"react-datepicker__day-names"},i.header(s)))},i.renderCustomHeader=function(r){var s,l,u=r.monthDate,d=r.i;if(i.props.showTimeSelect&&!i.state.monthContainer||i.props.showTimeSelectOnly)return null;var f=dA(i.state.date,i.props),p=fA(i.state.date,i.props),m=hA(i.state.date,i.props),g=pA(i.state.date,i.props),v=!i.props.showMonthYearPicker&&!i.props.showQuarterYearPicker&&!i.props.showYearPicker;return ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:i.props.onDropdownFocus},(l=(s=i.props).renderCustomHeader)===null||l===void 0?void 0:l.call(s,Yt(Yt({},i.state),{customHeaderCount:d,monthDate:u,changeMonth:i.changeMonth,changeYear:i.changeYear,decreaseMonth:i.decreaseMonth,increaseMonth:i.increaseMonth,decreaseYear:i.decreaseYear,increaseYear:i.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:p,prevYearButtonDisabled:m,nextYearButtonDisabled:g})),v&&ne.createElement("div",{className:"react-datepicker__day-names"},i.header(u)))},i.renderYearHeader=function(r){var s=r.monthDate,l=i.props,u=l.showYearPicker,d=l.yearItemNumber,f=d===void 0?e.defaultProps.yearItemNumber:d,p=Xs(s,f),m=p.startPeriod,g=p.endPeriod;return ne.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(m," - ").concat(g):It(s))},i.renderHeader=function(r){var s=r.monthDate,l=r.i,u=l===void 0?0:l,d={monthDate:s,i:u};switch(!0){case i.props.renderCustomHeader!==void 0:return i.renderCustomHeader(d);case(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker):return i.renderYearHeader(d);default:return i.renderDefaultHeader(d)}},i.renderMonths=function(){var r,s;if(!(i.props.showTimeSelectOnly||i.props.showYearPicker)){for(var l=[],u=(r=i.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,d=i.props.showPreviousMonths?u-1:0,f=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?Ja(i.state.date,d):ol(i.state.date,d),p=(s=i.props.monthSelectedIn)!==null&&s!==void 0?s:d,m=0;m<u;++m){var g=m-p+d,v=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?Ja(f,g):zr(f,g),_="month-".concat(m),w=m<u-1,x=m>0;l.push(ne.createElement("div",{key:_,ref:function(b){i.monthContainer=b??void 0},className:"react-datepicker__month-container"},i.renderHeader({monthDate:v,i:m}),ne.createElement(yK,Yt({},e.defaultProps,i.props,{ariaLabelPrefix:i.props.monthAriaLabelPrefix,day:v,onDayClick:i.handleDayClick,handleOnKeyDown:i.props.handleOnDayKeyDown,handleOnMonthKeyDown:i.props.handleOnKeyDown,onDayMouseEnter:i.handleDayMouseEnter,onMouseLeave:i.handleMonthMouseLeave,orderInDisplay:m,selectingDate:i.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:x}))))}return l}},i.renderYears=function(){if(!i.props.showTimeSelectOnly&&i.props.showYearPicker)return ne.createElement("div",{className:"react-datepicker__year--container"},i.renderHeader({monthDate:i.state.date}),ne.createElement(MK,Yt({},e.defaultProps,i.props,{selectingDate:i.state.selectingDate,date:i.state.date,onDayClick:i.handleDayClick,clearSelectingDate:i.clearSelectingDate,onYearMouseEnter:i.handleYearMouseEnter,onYearMouseLeave:i.handleYearMouseLeave})))},i.renderTimeSection=function(){if(i.props.showTimeSelect&&(i.state.monthContainer||i.props.showTimeSelectOnly))return ne.createElement(wK,Yt({},e.defaultProps,i.props,{onChange:i.props.onTimeChange,format:i.props.timeFormat,intervals:i.props.timeIntervals,monthRef:i.state.monthContainer}))},i.renderInputTimeSection=function(){var r=i.props.selected?new Date(i.props.selected):void 0,s=r&&Mg(r)&&!!i.props.selected,l=s?"".concat(gA(r.getHours()),":").concat(gA(r.getMinutes())):"";if(i.props.showTimeInput)return ne.createElement(hK,Yt({},e.defaultProps,i.props,{date:r,timeString:l,onChange:i.props.onTimeChange}))},i.renderAriaLiveRegion=function(){var r,s=Xs(i.state.date,(r=i.props.yearItemNumber)!==null&&r!==void 0?r:e.defaultProps.yearItemNumber),l=s.startPeriod,u=s.endPeriod,d;return i.props.showYearPicker?d="".concat(l," - ").concat(u):i.props.showMonthYearPicker||i.props.showQuarterYearPicker?d=It(i.state.date):d="".concat(Yx(Ci(i.state.date),i.props.locale)," ").concat(It(i.state.date)),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},i.state.isRenderAriaLiveMessage&&d)},i.renderChildren=function(){if(i.props.children)return ne.createElement("div",{className:"react-datepicker__children-container"},i.props.children)},i.containerRef=S.createRef(),i.state={date:i.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},i}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:yf}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var i=this;if(this.props.preSelection&&(!Wt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var r=!Ti(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&i.handleCustomMonthChange(i.state.date)})}else this.props.openToDate&&!Wt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||WX;return ne.createElement(wg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},ne.createElement(t,{className:mi("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(S.Component),OK=function(n){var e=n.icon,t=n.className,i=t===void 0?"":t,r=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return ne.createElement("i",{className:"".concat(s," ").concat(e," ").concat(i),"aria-hidden":"true",onClick:r});if(ne.isValidElement(e)){var l=e;return ne.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(s," ").concat(i),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof r=="function"&&r(u)}})}return ne.createElement("svg",{className:"".concat(s," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},ne.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},eP=function(n){li(e,n);function e(t){var i=n.call(this,t)||this;return i.portalRoot=null,i.el=document.createElement("div"),i}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return tD.createPortal(this.props.children,this.el)},e}(S.Component),PK="[tabindex], a, button, input, select, textarea",IK=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},tP=function(n){li(e,n);function e(t){var i=n.call(this,t)||this;return i.getTabChildren=function(){var r;return Array.prototype.slice.call((r=i.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(PK),1,-1).filter(IK)},i.handleFocusStart=function(){var r=i.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},i.handleFocusEnd=function(){var r=i.getTabChildren();r&&r.length>1&&r[0].focus()},i.tabLoopRef=S.createRef(),i}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ne.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ne.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ne.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(S.Component);function NK(n){var e=function(t){var i,r=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=S.useRef(null),l=jX(Yt({open:!r,whileElementsMounted:SX,placement:t.popperPlacement,middleware:ra([RX({padding:15}),AX(10),DX({element:s})],(i=t.popperModifiers)!==null&&i!==void 0?i:[],!0)},t.popperProps)),u=Yt(Yt({},t),{hidePopper:r,popperProps:Yt(Yt({},l),{arrowRef:s})});return ne.createElement(n,Yt({},u))};return e}var kK=function(n){li(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,i=t.className,r=t.wrapperClassName,s=t.hidePopper,l=s===void 0?e.defaultProps.hidePopper:s,u=t.popperComponent,d=t.targetComponent,f=t.enableTabLoop,p=t.popperOnKeyDown,m=t.portalId,g=t.portalHost,v=t.popperProps,_=t.showArrow,w=void 0;if(!l){var x=mi("react-datepicker-popper",i);w=ne.createElement(tP,{enableTabLoop:f},ne.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:x,"data-placement":v.placement,onKeyDown:p},u,_&&ne.createElement(UX,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(w=S.createElement(this.props.popperContainer,{},w)),m&&!l&&(w=ne.createElement(eP,{portalId:m,portalHost:g},w));var b=mi("react-datepicker-wrapper",r);return ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:v.refs.setReference,className:b},d),w)},e}(S.Component),UK=NK(kK),SA="react-datepicker-ignore-onclickoutside";function FK(n,e){return n&&e?Ci(n)!==Ci(e)||It(n)!==It(e):n!==e}var K0="Date input not valid.",BK=function(n){li(e,n);function e(t){var i=n.call(this,t)||this;return i.calendar=null,i.input=null,i.getPreSelection=function(){return i.props.openToDate?i.props.openToDate:i.props.selectsEnd&&i.props.startDate?i.props.startDate:i.props.selectsStart&&i.props.endDate?i.props.endDate:sn()},i.modifyHolidays=function(){var r;return(r=i.props.holidays)===null||r===void 0?void 0:r.reduce(function(s,l){var u=new Date(l.date);return Mg(u)?ra(ra([],s,!0),[Yt(Yt({},l),{date:u})],!1):s},[])},i.calcInitialState=function(){var r,s=i.getPreSelection(),l=ZO(i.props),u=QO(i.props),d=l&&yl(s,Jp(l))?l:u&&so(s,oA(u))?u:s;return{open:i.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=i.props.selectsRange?i.props.startDate:i.props.selected)!==null&&r!==void 0?r:d,highlightDates:mA(i.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},i.resetHiddenStatus=function(){i.setState(Yt(Yt({},i.state),{wasHidden:!1}))},i.setHiddenStatus=function(){i.setState(Yt(Yt({},i.state),{wasHidden:!0}))},i.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&i.setHiddenStatus()},i.clearPreventFocusTimeout=function(){i.preventFocusTimeout&&clearTimeout(i.preventFocusTimeout)},i.safeFocus=function(){setTimeout(function(){var r,s;(s=(r=i.input)===null||r===void 0?void 0:r.focus)===null||s===void 0||s.call(r,{preventScroll:!0})},0)},i.safeBlur=function(){setTimeout(function(){var r,s;(s=(r=i.input)===null||r===void 0?void 0:r.blur)===null||s===void 0||s.call(r)},0)},i.setFocus=function(){i.safeFocus()},i.setBlur=function(){i.safeBlur(),i.cancelFocusInput()},i.setOpen=function(r,s){s===void 0&&(s=!1),i.setState({open:r,preSelection:r&&i.state.open?i.state.preSelection:i.calcInitialState().preSelection,lastPreSelectChange:Z0},function(){r||i.setState(function(l){return{focused:s?l.focused:!1}},function(){!s&&i.setBlur(),i.setState({inputValue:null})})})},i.inputOk=function(){return es(i.state.preSelection)},i.isCalendarOpen=function(){return i.props.open===void 0?i.state.open&&!i.props.disabled&&!i.props.readOnly:i.props.open},i.handleFocus=function(r){var s,l,u=i.state.wasHidden,d=u?i.state.open:!0;u&&i.resetHiddenStatus(),i.state.preventFocus||((l=(s=i.props).onFocus)===null||l===void 0||l.call(s,r),d&&!i.props.preventOpenOnFocus&&!i.props.readOnly&&i.setOpen(!0)),i.setState({focused:!0})},i.sendFocusBackToInput=function(){i.preventFocusTimeout&&i.clearPreventFocusTimeout(),i.setState({preventFocus:!0},function(){i.preventFocusTimeout=setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})})},i.cancelFocusInput=function(){clearTimeout(i.inputFocusTimeout),i.inputFocusTimeout=void 0},i.deferFocusInput=function(){i.cancelFocusInput(),i.inputFocusTimeout=setTimeout(function(){return i.setFocus()},1)},i.handleDropdownFocus=function(){i.cancelFocusInput()},i.handleBlur=function(r){var s,l;(!i.state.open||i.props.withPortal||i.props.showTimeInput)&&((l=(s=i.props).onBlur)===null||l===void 0||l.call(s,r)),i.setState({focused:!1})},i.handleCalendarClickOutside=function(r){var s,l;i.props.inline||i.setOpen(!1),(l=(s=i.props).onClickOutside)===null||l===void 0||l.call(s,r),i.props.withPortal&&r.preventDefault()},i.handleChange=function(){for(var r,s,l,u,d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var m=f[0];if(!(i.props.onChangeRaw&&(i.props.onChangeRaw.apply(i,f),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){i.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:zK});var g=i.props,v=g.selectsRange,_=g.startDate,w=g.endDate,x=(r=i.props.dateFormat)!==null&&r!==void 0?r:e.defaultProps.dateFormat,b=(s=i.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,M=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(v){var C=M.split("-",2).map(function(N){return N.trim()}),T=C[0],O=C[1],L=q0(T??"",x,i.props.locale,b),D=q0(O??"",x,i.props.locale,b),I=(_==null?void 0:_.getTime())!==(L==null?void 0:L.getTime()),A=(w==null?void 0:w.getTime())!==(D==null?void 0:D.getTime());if(!I&&!A||L&&br(L,i.props)||D&&br(D,i.props))return;(u=(l=i.props).onChange)===null||u===void 0||u.call(l,[L,D],m)}else{var R=q0(M,x,i.props.locale,b,(d=i.props.selected)!==null&&d!==void 0?d:void 0);(R||!M)&&i.setSelected(R,m,!0)}}},i.handleSelect=function(r,s,l){if(i.props.shouldCloseOnSelect&&!i.props.showTimeSelect&&i.sendFocusBackToInput(),i.props.onChangeRaw&&i.props.onChangeRaw(s),i.setSelected(r,s,!1,l),i.props.showDateSelect&&i.setState({isRenderAriaLiveMessage:!0}),!i.props.shouldCloseOnSelect||i.props.showTimeSelect)i.setPreSelection(r);else if(!i.props.inline){i.props.selectsRange||i.setOpen(!1);var u=i.props,d=u.startDate,f=u.endDate;d&&!f&&(i.props.swapRange||!_A(r,d))&&i.setOpen(!1)}},i.setSelected=function(r,s,l,u){var d,f,p=r;if(i.props.showYearPicker){if(p!==null&&em(It(p),i.props))return}else if(i.props.showMonthYearPicker){if(p!==null&&KO(p,i.props))return}else if(p!==null&&br(p,i.props))return;var m=i.props,g=m.onChange,v=m.selectsRange,_=m.startDate,w=m.endDate,x=m.selectsMultiple,b=m.selectedDates,M=m.minTime,C=m.swapRange;if(!Jo(i.props.selected,p)||i.props.allowSameDay||v||x)if(p!==null&&(i.props.selected&&(!l||!i.props.showTimeSelect&&!i.props.showTimeSelectOnly&&!i.props.showTimeInput)&&(p=$0(p,{hour:ts(i.props.selected),minute:ns(i.props.selected),second:to(i.props.selected)})),!l&&(i.props.showTimeSelect||i.props.showTimeSelectOnly)&&M&&(p=$0(p,{hour:M.getHours(),minute:M.getMinutes(),second:M.getSeconds()})),i.props.inline||i.setState({preSelection:p}),i.props.focusSelectedMonth||i.setState({monthSelectedIn:u})),v){var T=!_&&!w,O=_&&!w,L=_&&w;T?g==null||g([p,null],s):O&&(p===null?g==null||g([null,null],s):_A(p,_)?C?g==null||g([p,_],s):g==null||g([p,null],s):g==null||g([_,p],s)),L&&(g==null||g([p,null],s))}else if(x){if(p!==null)if(!(b!=null&&b.length))g==null||g([p],s);else{var D=b.some(function(A){return Wt(A,p)});if(D){var I=b.filter(function(A){return!Wt(A,p)});g==null||g(I,s)}else g==null||g(ra(ra([],b,!0),[p],!1),s)}}else g==null||g(p,s);l||((f=(d=i.props).onSelect)===null||f===void 0||f.call(d,p,s),i.setState({inputValue:null}))},i.setPreSelection=function(r){var s=es(i.props.minDate),l=es(i.props.maxDate),u=!0;if(r){var d=Jp(r);if(s&&l)u=Ad(r,i.props.minDate,i.props.maxDate);else if(s){var f=Jp(i.props.minDate);u=so(r,f)||Jo(d,f)}else if(l){var p=oA(i.props.maxDate);u=yl(r,p)||Jo(d,p)}}u&&i.setState({preSelection:r})},i.toggleCalendar=function(){i.setOpen(!i.state.open)},i.handleTimeChange=function(r){var s,l;if(!(i.props.selectsRange||i.props.selectsMultiple)){var u=i.props.selected?i.props.selected:i.getPreSelection(),d=i.props.selected?r:$0(u,{hour:ts(r),minute:ns(r)});i.setState({preSelection:d}),(l=(s=i.props).onChange)===null||l===void 0||l.call(s,d),i.props.shouldCloseOnSelect&&!i.props.showTimeInput&&(i.sendFocusBackToInput(),i.setOpen(!1)),i.props.showTimeInput&&i.setOpen(!0),(i.props.showTimeSelectOnly||i.props.showTimeSelect)&&i.setState({isRenderAriaLiveMessage:!0}),i.setState({inputValue:null})}},i.onInputClick=function(){var r,s;!i.props.disabled&&!i.props.readOnly&&i.setOpen(!0),(s=(r=i.props).onInputClick)===null||s===void 0||s.call(r)},i.onInputKeyDown=function(r){var s,l,u,d,f,p;(l=(s=i.props).onKeyDown)===null||l===void 0||l.call(s,r);var m=r.key;if(!i.state.open&&!i.props.inline&&!i.props.preventOpenOnFocus){(m===je.ArrowDown||m===je.ArrowUp||m===je.Enter)&&((u=i.onInputClick)===null||u===void 0||u.call(i));return}if(i.state.open){if(m===je.ArrowDown||m===je.ArrowUp){r.preventDefault();var g=i.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":i.props.showWeekPicker&&i.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':i.props.showFullMonthYearPicker||i.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',v=((d=i.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&i.calendar.containerRef.current.querySelector(g);v instanceof HTMLElement&&v.focus({preventScroll:!0});return}var _=sn(i.state.preSelection);m===je.Enter?(r.preventDefault(),r.target.blur(),i.inputOk()&&i.state.lastPreSelectChange===Z0?(i.handleSelect(_,r),!i.props.shouldCloseOnSelect&&i.setPreSelection(_)):i.setOpen(!1)):m===je.Escape?(r.preventDefault(),r.target.blur(),i.sendFocusBackToInput(),i.setOpen(!1)):m===je.Tab&&i.setOpen(!1),i.inputOk()||(p=(f=i.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:K0})}},i.onPortalKeyDown=function(r){var s=r.key;s===je.Escape&&(r.preventDefault(),i.setState({preventFocus:!0},function(){i.setOpen(!1),setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})}))},i.onDayKeyDown=function(r){var s,l,u,d,f,p,m=i.props,g=m.minDate,v=m.maxDate,_=m.disabledKeyboardNavigation,w=m.showWeekPicker,x=m.shouldCloseOnSelect,b=m.locale,M=m.calendarStartDay,C=m.adjustDateOnChange,T=m.inline;if((l=(s=i.props).onKeyDown)===null||l===void 0||l.call(s,r),!_){var O=r.key,L=r.shiftKey,D=sn(i.state.preSelection),I=function(K,H){var Y=H;switch(K){case je.ArrowRight:Y=w?Tm(H,1):Br(H,1);break;case je.ArrowLeft:Y=w?KC(H):C$(H);break;case je.ArrowUp:Y=KC(H);break;case je.ArrowDown:Y=Tm(H,1);break;case je.PageUp:Y=L?Xu(H,1):ol(H,1);break;case je.PageDown:Y=L?Ja(H,1):zr(H,1);break;case je.Home:Y=no(H,b,M);break;case je.End:Y=ZX(H);break}return Y},A=function(K,H){for(var Y=40,G=K,te=!1,F=0,ee=I(K,H);!te;){if(F>=Y){ee=H;break}g&&ee<g&&(G=je.ArrowRight,ee=br(g,i.props)?I(G,ee):g),v&&ee>v&&(G=je.ArrowLeft,ee=br(v,i.props)?I(G,ee):v),br(ee,i.props)?((G===je.PageUp||G===je.Home)&&(G=je.ArrowRight),(G===je.PageDown||G===je.End)&&(G=je.ArrowLeft),ee=I(G,ee)):te=!0,F++}return ee};if(O===je.Enter){r.preventDefault(),i.handleSelect(D,r),!x&&i.setPreSelection(D);return}else if(O===je.Escape){r.preventDefault(),i.setOpen(!1),i.inputOk()||(d=(u=i.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:K0});return}var R=null;switch(O){case je.ArrowLeft:case je.ArrowRight:case je.ArrowUp:case je.ArrowDown:case je.PageUp:case je.PageDown:case je.Home:case je.End:R=A(O,D);break}if(!R){(p=(f=i.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:K0});return}if(r.preventDefault(),i.setState({lastPreSelectChange:Z0}),C&&i.setSelected(R),i.setPreSelection(R),T){var N=Ci(D),X=Ci(R),$=It(D),Z=It(R);N!==X||$!==Z?i.setState({shouldFocusDayInline:!0}):i.setState({shouldFocusDayInline:!1})}}},i.onPopperKeyDown=function(r){var s=r.key;s===je.Escape&&(r.preventDefault(),i.sendFocusBackToInput())},i.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),i.sendFocusBackToInput();var s=i.props,l=s.selectsRange,u=s.onChange;l?u==null||u([null,null],r):u==null||u(null,r),i.setState({inputValue:null})},i.clear=function(){i.onClearClick()},i.onScroll=function(r){typeof i.props.closeOnScroll=="boolean"&&i.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&i.setOpen(!1):typeof i.props.closeOnScroll=="function"&&i.props.closeOnScroll(r)&&i.setOpen(!1)},i.renderCalendar=function(){var r,s;return!i.props.inline&&!i.isCalendarOpen()?null:ne.createElement(LK,Yt({showMonthYearDropdown:void 0,ref:function(l){i.calendar=l}},i.props,i.state,{setOpen:i.setOpen,dateFormat:(r=i.props.dateFormatCalendar)!==null&&r!==void 0?r:e.defaultProps.dateFormatCalendar,onSelect:i.handleSelect,onClickOutside:i.handleCalendarClickOutside,holidays:uK(i.modifyHolidays()),outsideClickIgnoreClass:SA,onDropdownFocus:i.handleDropdownFocus,onTimeChange:i.handleTimeChange,className:i.props.calendarClassName,container:i.props.calendarContainer,handleOnKeyDown:i.props.onKeyDown,handleOnDayKeyDown:i.onDayKeyDown,setPreSelection:i.setPreSelection,dropdownMode:(s=i.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),i.props.children)},i.renderAriaLiveRegion=function(){var r=i.props,s=r.dateFormat,l=s===void 0?e.defaultProps.dateFormat:s,u=r.locale,d=i.props.showTimeInput||i.props.showTimeSelect,f=d?"PPPPp":"PPPP",p;return i.props.selectsRange?p="Selected start date: ".concat(vr(i.props.startDate,{dateFormat:f,locale:u}),". ").concat(i.props.endDate?"End date: "+vr(i.props.endDate,{dateFormat:f,locale:u}):""):i.props.showTimeSelectOnly?p="Selected time: ".concat(vr(i.props.selected,{dateFormat:l,locale:u})):i.props.showYearPicker?p="Selected year: ".concat(vr(i.props.selected,{dateFormat:"yyyy",locale:u})):i.props.showMonthYearPicker?p="Selected month: ".concat(vr(i.props.selected,{dateFormat:"MMMM yyyy",locale:u})):i.props.showQuarterYearPicker?p="Selected quarter: ".concat(vr(i.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(vr(i.props.selected,{dateFormat:f,locale:u})),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},i.renderDateInput=function(){var r,s,l,u=mi(i.props.className,(r={},r[SA]=i.state.open,r)),d=i.props.customInput||ne.createElement("input",{type:"text"}),f=i.props.customInputRef||"ref",p=i.props,m=p.dateFormat,g=m===void 0?e.defaultProps.dateFormat:m,v=p.locale,_=typeof i.props.value=="string"?i.props.value:typeof i.state.inputValue=="string"?i.state.inputValue:i.props.selectsRange?qX(i.props.startDate,i.props.endDate,{dateFormat:g,locale:v}):i.props.selectsMultiple?$X((l=i.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:g,locale:v}):vr(i.props.selected,{dateFormat:g,locale:v});return S.cloneElement(d,(s={},s[f]=function(w){i.input=w},s.value=_,s.onBlur=i.handleBlur,s.onChange=i.handleChange,s.onClick=i.onInputClick,s.onFocus=i.handleFocus,s.onKeyDown=i.onInputKeyDown,s.id=i.props.id,s.name=i.props.name,s.form=i.props.form,s.autoFocus=i.props.autoFocus,s.placeholder=i.props.placeholderText,s.disabled=i.props.disabled,s.autoComplete=i.props.autoComplete,s.className=mi(d.props.className,u),s.title=i.props.title,s.readOnly=i.props.readOnly,s.required=i.props.required,s.tabIndex=i.props.tabIndex,s["aria-describedby"]=i.props.ariaDescribedBy,s["aria-invalid"]=i.props.ariaInvalid,s["aria-labelledby"]=i.props.ariaLabelledBy,s["aria-required"]=i.props.ariaRequired,s))},i.renderClearButton=function(){var r=i.props,s=r.isClearable,l=r.disabled,u=r.selected,d=r.startDate,f=r.endDate,p=r.clearButtonTitle,m=r.clearButtonClassName,g=m===void 0?"":m,v=r.ariaLabelClose,_=v===void 0?"Close":v,w=r.selectedDates;return s&&(u!=null||d!=null||f!=null||w!=null&&w.length)?ne.createElement("button",{type:"button",className:mi("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":_,onClick:i.onClearClick,title:p,tabIndex:-1}):null},i.state=i.calcInitialState(),i.preventFocusTimeout=void 0,i}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:yf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,i){var r,s,l,u;t.inline&&FK(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:mA(this.props.highlightDates)}),!i.focused&&!Jo(t.selected,this.props.selected)&&this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&((s=(r=this.props).onCalendarOpen)===null||s===void 0||s.call(r)),i.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,i=t.showIcon,r=t.icon,s=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,d=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ne.createElement("div",{className:"react-datepicker__input-container".concat(i?" react-datepicker__view-calendar-icon":"")},i&&ne.createElement(OK,Yt({icon:r,className:mi(l,!l&&s,d&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var i=this.state.open?ne.createElement(tP,{enableTabLoop:this.props.enableTabLoop},ne.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(i=ne.createElement(eP,Yt({portalId:this.props.portalId},this.props),i)),ne.createElement("div",null,this.renderInputContainer(),i)}return ne.createElement(UK,Yt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(S.Component),zK="input",Z0="navigate";const HK=()=>{const[n,e]=S.useState(""),[t,i]=S.useState(""),[r,s]=S.useState(""),[l,u]=S.useState([]),[d,f]=S.useState(""),[p,m]=S.useState({destination:"",startDate:new Date,days:"5",type:"Leisure",budget:"Budget Friendly",travelers:"2",travelStyle:"Relaxed",interests:[],pace:""}),[g,v]=S.useState(!1),_=Nb(),[w,x]=S.useState(!1),[b,M]=S.useState(!1),[C,T]=S.useState(null),O=(R,N)=>{m(X=>({...X,[R]:N}))},L=R=>{m(N=>({...N,startDate:R}))};S.useEffect(()=>{console.log(p)},[p]);const D=R=>({solo:k.jsx(B6,{}),family:k.jsx(g1,{}),romantic:k.jsx(ML,{}),business:k.jsx(O6,{}),group:k.jsx(g1,{}),budget:k.jsx(k6,{}),mid:k.jsx(N6,{}),luxury:k.jsx(I6,{}),ultra:k.jsx(P6,{}),cultural:k.jsx(fW,{}),adventure:k.jsx(mW,{}),food:k.jsx(hW,{}),nature:k.jsx(oW,{}),shopping:k.jsx(sW,{}),relaxation:k.jsx(pW,{}),entertainment:k.jsx(dW,{}),relaxed:k.jsx(cW,{}),moderate:k.jsx(uW,{}),fast:k.jsx(lW,{})})[R]||null,I=()=>{if(!b){x(!0);return}const R=[];if(p.destination||R.push("Destination"),p.days||R.push("Number of Days"),p.type||R.push("Trip Type"),p.budget||R.push("Budget Range"),p.interests.length===0&&R.push("Interests"),p.pace||R.push("Travel Pace"),R.length>0){V0.error("Missing Required Fields",{description:k.jsx("ul",{className:"missing-fields-list",children:R.map(N=>k.jsx("li",{children:N},N))}),duration:5e3});return}V0.success("Generating your travel plan...",{duration:2e3}),_("/travel-plan",{state:{...p}})},A=R=>{M(!0),T(R),V0.success(`Welcome ${R.displayName||R.email}!`)};return k.jsxs("div",{className:"form-container",children:[k.jsx("h2",{className:"form1",children:"Share your travel preferences with us"}),k.jsx("p",{children:"Get a personalized AI-generated travel itinerary tailored to your preferences. Save time, explore efficiently, and experience unforgettable adventuresall with the power of AI!"}),k.jsxs("div",{className:"form-container-input",children:[k.jsxs("div",{children:[k.jsx("h2",{className:"form-title",children:"What is your destination?"}),k.jsx(aW,{apiKey:"AIzaSyBK6HwXG9HMoU-jj76c90rgkD3ZtP4SBq0",selectProps:{destination:n,onChange:R=>{e(R),O("destination",R)},placeholder:"Enter destination",isClearable:!0,className:"google-places-autocomplete"},autocompletionRequest:{types:["(cities)"]}})]}),k.jsxs("div",{className:"form-container-input-number",children:[k.jsx("h2",{className:"form-title",children:"Start Date"}),k.jsx(BK,{selected:p.startDate,onChange:L,minDate:new Date,className:"date-picker",dateFormat:"MMMM d, yyyy",placeholderText:"Select start date"})]}),k.jsxs("div",{className:"form-container-input-number",children:[k.jsx("h2",{className:"form-title",children:"Number of Days"}),k.jsx("input",{type:"number",min:"1",max:"30",value:p.days,onChange:R=>O("days",Math.min(30,Math.max(1,R.target.value))),className:"days-input",placeholder:"Enter number of days"})]}),k.jsxs("div",{children:[k.jsx("h2",{className:"form-title",children:"What type of trip are you planning?"}),k.jsx("div",{className:"options-grid",children:ap.tripType.map(R=>k.jsxs("button",{className:`option-button ${t===R.value?"selected":""}`,onClick:()=>{i(R.value),O("type",R.value)},children:[D(R.value),k.jsx("span",{className:"option-text",children:R.label})]},R.id))})]}),k.jsxs("div",{children:[k.jsx("h2",{className:"form-title",children:"What is your budget range?"}),k.jsx("div",{className:"options-grid",children:ap.budget.map(R=>k.jsxs("button",{className:`option-button ${r===R.value?"selected":""}`,onClick:()=>{s(R.value),O("budget",R.value)},children:[D(R.value),k.jsx("span",{className:"range",children:R.range})]},R.id))})]}),k.jsxs("div",{children:[k.jsx("h2",{className:"form-title",children:"What are your interests?"}),k.jsx("div",{className:"options-grid",children:ap.interests.map(R=>k.jsxs("button",{className:`option-button ${l.includes(R.value)?"selected":""}`,onClick:()=>{const N=l.includes(R.value)?l.filter(X=>X!==R.value):[...l,R.value];u(N),O("interests",N)},children:[D(R.value),k.jsx("span",{className:"option-text",children:R.label})]},R.id))})]}),k.jsxs("div",{children:[k.jsx("h2",{className:"form-title",children:"What's your preferred travel pace?"}),k.jsx("div",{className:"options-grid",children:ap.pace.map(R=>k.jsxs("button",{className:`option-button ${d===R.value?"selected":""}`,onClick:()=>{f(R.value),O("pace",R.value)},children:[D(R.value),k.jsx("span",{className:"option-text",children:R.label})]},R.id))})]})]}),k.jsx("div",{className:"form-footer",children:k.jsx(cg,{text:"Generate My Trip",onClick:I,className:"form-footer-button"})}),g&&k.jsx(Px,{formData:p}),k.jsx(VW,{theme:"dark",position:"top-center",expand:!0,richColors:!0,style:{marginTop:"20px"}}),k.jsx(EL,{isOpen:w,onClose:()=>x(!1),onAuthSuccess:A})]})};function Kd(n){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(n)}function VK(n,e){if(Kd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Kd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function GK(n){var e=VK(n,"string");return Kd(e)=="symbol"?e:e+""}function Se(n,e,t){return(e=GK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Q0,EA;function jK(){if(EA)return Q0;EA=1;var n=function(t,i,r,s,l,u,d,f){if(!t){var p;if(i===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,s,l,u,d,f],g=0;p=new Error(i.replace(/%s/g,function(){return m[g++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Q0=n,Q0}var WK=jK(),Qn=nP(WK),At=S.createContext(null);function YK(){Qn(!!S.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=S.useContext(At);return Qn(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function qK(n,e,t){return Object.keys(n).reduce(function(r,s){return e(r,n[s],s)},t)}function $K(n,e){Object.keys(n).forEach(t=>e(n[t],t))}function XK(n,e,t,i){var r={},s=(l,u)=>{var d=t[u];d!==e[u]&&(r[u]=d,l(i,d))};return $K(n,s),r}function KK(n,e,t){var i=qK(t,function(s,l,u){return typeof n[u]=="function"&&s.push(google.maps.event.addListener(e,l,n[u])),s},[]);return i}function ZK(n){google.maps.event.removeListener(n)}function Ut(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(ZK)}function Nt(n){var{updaterMap:e,eventMap:t,prevProps:i,nextProps:r,instance:s}=n,l=KK(r,s,t);return XK(e,i,r,s),l}var wA={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},MA={extraMapTypes(n,e){e.forEach(function(i,r){n.mapTypes.set(String(r),i)})},center(n,e){n.setCenter(e)},clickableIcons(n,e){n.setClickableIcons(e)},heading(n,e){n.setHeading(e)},mapTypeId(n,e){n.setMapTypeId(e)},options(n,e){n.setOptions(e)},streetView(n,e){n.setStreetView(e)},tilt(n,e){n.setTilt(e)},zoom(n,e){n.setZoom(e)}};function QK(n){var{children:e,options:t,id:i,mapContainerStyle:r,mapContainerClassName:s,center:l,onClick:u,onDblClick:d,onDrag:f,onDragEnd:p,onDragStart:m,onMouseMove:g,onMouseOut:v,onMouseOver:_,onMouseDown:w,onMouseUp:x,onRightClick:b,onCenterChanged:M,onLoad:C,onUnmount:T}=n,[O,L]=S.useState(null),D=S.useRef(null),[I,A]=S.useState(null),[R,N]=S.useState(null),[X,$]=S.useState(null),[Z,K]=S.useState(null),[H,Y]=S.useState(null),[G,te]=S.useState(null),[F,ee]=S.useState(null),[J,ie]=S.useState(null),[V,W]=S.useState(null),[ue,le]=S.useState(null),[he,Ae]=S.useState(null),[ge,Ne]=S.useState(null);return S.useEffect(()=>{t&&O!==null&&O.setOptions(t)},[O,t]),S.useEffect(()=>{O!==null&&typeof l<"u"&&O.setCenter(l)},[O,l]),S.useEffect(()=>{O&&d&&(R!==null&&google.maps.event.removeListener(R),N(google.maps.event.addListener(O,"dblclick",d)))},[d]),S.useEffect(()=>{O&&p&&(X!==null&&google.maps.event.removeListener(X),$(google.maps.event.addListener(O,"dragend",p)))},[p]),S.useEffect(()=>{O&&m&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(O,"dragstart",m)))},[m]),S.useEffect(()=>{O&&w&&(H!==null&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(O,"mousedown",w)))},[w]),S.useEffect(()=>{O&&g&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(O,"mousemove",g)))},[g]),S.useEffect(()=>{O&&v&&(F!==null&&google.maps.event.removeListener(F),ee(google.maps.event.addListener(O,"mouseout",v)))},[v]),S.useEffect(()=>{O&&_&&(J!==null&&google.maps.event.removeListener(J),ie(google.maps.event.addListener(O,"mouseover",_)))},[_]),S.useEffect(()=>{O&&x&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(O,"mouseup",x)))},[x]),S.useEffect(()=>{O&&b&&(ue!==null&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(O,"rightclick",b)))},[b]),S.useEffect(()=>{O&&u&&(he!==null&&google.maps.event.removeListener(he),Ae(google.maps.event.addListener(O,"click",u)))},[u]),S.useEffect(()=>{O&&f&&(ge!==null&&google.maps.event.removeListener(ge),Ne(google.maps.event.addListener(O,"drag",f)))},[f]),S.useEffect(()=>{O&&M&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(O,"center_changed",M)))},[u]),S.useEffect(()=>{var nt=D.current===null?null:new google.maps.Map(D.current,t);return L(nt),nt!==null&&C&&C(nt),()=>{nt!==null&&T&&T(nt)}},[]),k.jsx("div",{id:i,ref:D,style:r,className:s,children:k.jsx(At.Provider,{value:O,children:O!==null?e:null})})}S.memo(QK);class JK extends S.PureComponent{constructor(){super(...arguments),Se(this,"state",{map:null}),Se(this,"registeredEvents",[]),Se(this,"mapRef",null),Se(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),Se(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),Se(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),Se(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Nt({updaterMap:MA,eventMap:wA,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:MA,eventMap:wA,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ut(this.registeredEvents))}render(){return k.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:k.jsx(At.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function TA(n,e,t,i,r,s,l){try{var u=n[s](l),d=u.value}catch(f){return void t(f)}u.done?e(d):Promise.resolve(d).then(i,r)}function iP(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function l(d){TA(s,i,r,l,u,"next",d)}function u(d){TA(s,i,r,l,u,"throw",d)}l(void 0)})}}function rP(n){var{googleMapsApiKey:e,googleMapsClientId:t,version:i="weekly",language:r,region:s,libraries:l,channel:u,mapIds:d,authReferrerPolicy:f}=n,p=[];return Qn(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):t&&p.push("client=".concat(t)),i&&p.push("v=".concat(i)),r&&p.push("language=".concat(r)),s&&p.push("region=".concat(s)),l&&l.length&&p.push("libraries=".concat(l.sort().join(","))),u&&p.push("channel=".concat(u)),d&&d.length&&p.push("map_ids=".concat(d.join(","))),f&&p.push("auth_referrer_policy=".concat(f)),p.push("loading=async"),p.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(p.join("&"))}var el=typeof document<"u";function aP(n){var{url:e,id:t,nonce:i}=n;return el?new Promise(function(s,l){var u=document.getElementById(t),d=window;if(u){var f=u.getAttribute("data-state");if(u.src===e&&f!=="error"){if(f==="ready")return s(t);var p=d.initMap,m=u.onerror;d.initMap=function(){p&&p(),s(t)},u.onerror=function(v){m&&m(v),l(v)};return}else u.remove()}var g=document.createElement("script");g.type="text/javascript",g.src=e,g.id=t,g.async=!0,g.nonce=i||"",g.onerror=function(_){g.setAttribute("data-state","error"),l(_)},d.initMap=function(){g.setAttribute("data-state","ready"),s(t)},document.head.appendChild(g)}).catch(r=>{throw console.error("injectScript error: ",r),r}):Promise.reject(new Error("document is undefined"))}function CA(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function sP(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(r,s){return CA(r)||Reflect.apply(e,n,[r,s]),r};var t=n.appendChild.bind(n);n.appendChild=function(r){return CA(r)||Reflect.apply(t,n,[r]),r}}}var _d=!1;function oP(){return k.jsx("div",{children:"Loading..."})}var Rb={id:"script-loader",version:"weekly"};class eZ extends S.PureComponent{constructor(){super(...arguments),Se(this,"check",S.createRef()),Se(this,"state",{loaded:!1}),Se(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Se(this,"isCleaningUp",iP(function*(){function e(t){if(!_d)t();else if(el)var i=window.setInterval(function(){_d||(window.clearInterval(i),t())},1)}return new Promise(e)})),Se(this,"cleanup",()=>{_d=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})}),Se(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&sP(),Qn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:rP(this.props)};aP(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})})}componentDidMount(){if(el){if(window.google&&window.google.maps&&!_d){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),el&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(el){this.cleanup();var e=()=>{this.check.current||(delete window.google,_d=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return k.jsxs(k.Fragment,{children:[k.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||k.jsx(oP,{})]})}}Se(eZ,"defaultProps",Rb);function tZ(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}function $x(n,e){if(n==null)return{};var t,i,r=tZ(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var AA;function lP(n){var{id:e=Rb.id,version:t=Rb.version,nonce:i,googleMapsApiKey:r,googleMapsClientId:s,language:l,region:u,libraries:d,preventGoogleFontsLoading:f,channel:p,mapIds:m,authReferrerPolicy:g}=n,v=S.useRef(!1),[_,w]=S.useState(!1),[x,b]=S.useState(void 0);S.useEffect(function(){return v.current=!0,()=>{v.current=!1}},[]),S.useEffect(function(){el&&f&&sP()},[f]),S.useEffect(function(){_&&Qn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[_]);var M=rP({version:t,googleMapsApiKey:r,googleMapsClientId:s,language:l,region:u,libraries:d,channel:p,mapIds:m,authReferrerPolicy:g});S.useEffect(function(){if(!el)return;function O(){v.current&&(w(!0),AA=M)}if(window.google&&window.google.maps&&AA===M){O();return}aP({id:e,url:M,nonce:i}).then(O).catch(function(D){v.current&&b(D),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(r||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(D)})},[e,M,i]);var C=S.useRef();return S.useEffect(function(){C.current&&d!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=d},[d]),{isLoaded:_,loadError:x,url:M}}var nZ=["loadingElement","onLoad","onError","onUnmount","children"],iZ=k.jsx(oP,{});function rZ(n){var{loadingElement:e,onLoad:t,onError:i,onUnmount:r,children:s}=n,l=$x(n,nZ),{isLoaded:u,loadError:d}=lP(l);return S.useEffect(function(){u&&typeof t=="function"&&t()},[u,t]),S.useEffect(function(){d&&typeof i=="function"&&i(d)},[d,i]),S.useEffect(function(){return()=>{r&&r()}},[r]),u?s:e||iZ}S.memo(rZ);var RA;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(RA||(RA={}));function DA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Fm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var LA={},OA={options(n,e){n.setOptions(e)}};function aZ(n){var{options:e,onLoad:t,onUnmount:i}=n,r=S.useContext(At),[s,l]=S.useState(null);return S.useEffect(()=>{s!==null&&s.setMap(r)},[r]),S.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),S.useEffect(()=>{var u=new google.maps.TrafficLayer(Fm(Fm({},e),{},{map:r}));return l(u),t&&t(u),()=>{s!==null&&(i&&i(s),s.setMap(null))}},[]),null}S.memo(aZ);class sZ extends S.PureComponent{constructor(){super(...arguments),Se(this,"state",{trafficLayer:null}),Se(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Se(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Fm(Fm({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:OA,eventMap:LA,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:OA,eventMap:LA,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ut(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Se(sZ,"contextType",At);function oZ(n){var{onLoad:e,onUnmount:t}=n,i=S.useContext(At),[r,s]=S.useState(null);return S.useEffect(()=>{r!==null&&r.setMap(i)},[i]),S.useEffect(()=>{var l=new google.maps.BicyclingLayer;return s(l),l.setMap(i),e&&e(l),()=>{l!==null&&(t&&t(l),l.setMap(null))}},[]),null}S.memo(oZ);class lZ extends S.PureComponent{constructor(){super(...arguments),Se(this,"state",{bicyclingLayer:null}),Se(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Se(lZ,"contextType",At);function uZ(n){var{onLoad:e,onUnmount:t}=n,i=S.useContext(At),[r,s]=S.useState(null);return S.useEffect(()=>{r!==null&&r.setMap(i)},[i]),S.useEffect(()=>{var l=new google.maps.TransitLayer;return s(l),l.setMap(i),e&&e(l),()=>{r!==null&&(t&&t(r),r.setMap(null))}},[]),null}S.memo(uZ);class cZ extends S.PureComponent{constructor(){super(...arguments),Se(this,"state",{transitLayer:null}),Se(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Se(cZ,"contextType",At);function PA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Bm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var IA={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},NA={drawingMode(n,e){n.setDrawingMode(e)},options(n,e){n.setOptions(e)}};function dZ(n){var{options:e,drawingMode:t,onCircleComplete:i,onMarkerComplete:r,onOverlayComplete:s,onPolygonComplete:l,onPolylineComplete:u,onRectangleComplete:d,onLoad:f,onUnmount:p}=n,m=S.useContext(At),[g,v]=S.useState(null),[_,w]=S.useState(null),[x,b]=S.useState(null),[M,C]=S.useState(null),[T,O]=S.useState(null),[L,D]=S.useState(null),[I,A]=S.useState(null);return S.useEffect(()=>{g!==null&&g.setMap(m)},[m]),S.useEffect(()=>{e&&g!==null&&g.setOptions(e)},[g,e]),S.useEffect(()=>{g!==null&&g.setDrawingMode(t??null)},[g,t]),S.useEffect(()=>{g&&i&&(_!==null&&google.maps.event.removeListener(_),w(google.maps.event.addListener(g,"circlecomplete",i)))},[g,i]),S.useEffect(()=>{g&&r&&(x!==null&&google.maps.event.removeListener(x),b(google.maps.event.addListener(g,"markercomplete",r)))},[g,r]),S.useEffect(()=>{g&&s&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(g,"overlaycomplete",s)))},[g,s]),S.useEffect(()=>{g&&l&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(g,"polygoncomplete",l)))},[g,l]),S.useEffect(()=>{g&&u&&(L!==null&&google.maps.event.removeListener(L),D(google.maps.event.addListener(g,"polylinecomplete",u)))},[g,u]),S.useEffect(()=>{g&&d&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(g,"rectanglecomplete",d)))},[g,d]),S.useEffect(()=>{Qn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var R=new google.maps.drawing.DrawingManager(Bm(Bm({},e),{},{map:m}));return t&&R.setDrawingMode(t),i&&w(google.maps.event.addListener(R,"circlecomplete",i)),r&&b(google.maps.event.addListener(R,"markercomplete",r)),s&&C(google.maps.event.addListener(R,"overlaycomplete",s)),l&&O(google.maps.event.addListener(R,"polygoncomplete",l)),u&&D(google.maps.event.addListener(R,"polylinecomplete",u)),d&&A(google.maps.event.addListener(R,"rectanglecomplete",d)),v(R),f&&f(R),()=>{g!==null&&(_&&google.maps.event.removeListener(_),x&&google.maps.event.removeListener(x),M&&google.maps.event.removeListener(M),T&&google.maps.event.removeListener(T),L&&google.maps.event.removeListener(L),I&&google.maps.event.removeListener(I),p&&p(g),g.setMap(null))}},[]),null}S.memo(dZ);class fZ extends S.PureComponent{constructor(e){super(e),Se(this,"registeredEvents",[]),Se(this,"state",{drawingManager:null}),Se(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Qn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Bm(Bm({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:NA,eventMap:IA,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:NA,eventMap:IA,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ut(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Se(fZ,"contextType",At);function kA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Pu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var UA={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},FA={animation(n,e){n.setAnimation(e)},clickable(n,e){n.setClickable(e)},cursor(n,e){n.setCursor(e)},draggable(n,e){n.setDraggable(e)},icon(n,e){n.setIcon(e)},label(n,e){n.setLabel(e)},map(n,e){n.setMap(e)},opacity(n,e){n.setOpacity(e)},options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},shape(n,e){n.setShape(e)},title(n,e){n.setTitle(e)},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},zm={};function hZ(n){var{position:e,options:t,clusterer:i,noClustererRedraw:r,children:s,draggable:l,visible:u,animation:d,clickable:f,cursor:p,icon:m,label:g,opacity:v,shape:_,title:w,zIndex:x,onClick:b,onDblClick:M,onDrag:C,onDragEnd:T,onDragStart:O,onMouseOut:L,onMouseOver:D,onMouseUp:I,onMouseDown:A,onRightClick:R,onClickableChanged:N,onCursorChanged:X,onAnimationChanged:$,onDraggableChanged:Z,onFlatChanged:K,onIconChanged:H,onPositionChanged:Y,onShapeChanged:G,onTitleChanged:te,onVisibleChanged:F,onZindexChanged:ee,onLoad:J,onUnmount:ie}=n,V=S.useContext(At),[W,ue]=S.useState(null),[le,he]=S.useState(null),[Ae,ge]=S.useState(null),[Ne,nt]=S.useState(null),[$e,Q]=S.useState(null),[Je,mt]=S.useState(null),[pt,Ze]=S.useState(null),[Lt,Qe]=S.useState(null),[j,U]=S.useState(null),[fe,we]=S.useState(null),[Re,xe]=S.useState(null),[Ye,ke]=S.useState(null),[He,wt]=S.useState(null),[Oe,qe]=S.useState(null),[et,Xe]=S.useState(null),[Ve,ft]=S.useState(null),[it,jt]=S.useState(null),[re,Ue]=S.useState(null),[be,Te]=S.useState(null),[Ie,Fe]=S.useState(null),[Le,st]=S.useState(null),[yt,bt]=S.useState(null);S.useEffect(()=>{W!==null&&W.setMap(V)},[V]),S.useEffect(()=>{typeof t<"u"&&W!==null&&W.setOptions(t)},[W,t]),S.useEffect(()=>{typeof l<"u"&&W!==null&&W.setDraggable(l)},[W,l]),S.useEffect(()=>{e&&W!==null&&W.setPosition(e)},[W,e]),S.useEffect(()=>{typeof u<"u"&&W!==null&&W.setVisible(u)},[W,u]),S.useEffect(()=>{W==null||W.setAnimation(d)},[W,d]),S.useEffect(()=>{W&&f!==void 0&&W.setClickable(f)},[W,f]),S.useEffect(()=>{W&&p!==void 0&&W.setCursor(p)},[W,p]),S.useEffect(()=>{W&&m!==void 0&&W.setIcon(m)},[W,m]),S.useEffect(()=>{W&&g!==void 0&&W.setLabel(g)},[W,g]),S.useEffect(()=>{W&&v!==void 0&&W.setOpacity(v)},[W,v]),S.useEffect(()=>{W&&_!==void 0&&W.setShape(_)},[W,_]),S.useEffect(()=>{W&&w!==void 0&&W.setTitle(w)},[W,w]),S.useEffect(()=>{W&&x!==void 0&&W.setZIndex(x)},[W,x]),S.useEffect(()=>{W&&M&&(le!==null&&google.maps.event.removeListener(le),he(google.maps.event.addListener(W,"dblclick",M)))},[M]),S.useEffect(()=>{W&&T&&(Ae!==null&&google.maps.event.removeListener(Ae),ge(google.maps.event.addListener(W,"dragend",T)))},[T]),S.useEffect(()=>{W&&O&&(Ne!==null&&google.maps.event.removeListener(Ne),nt(google.maps.event.addListener(W,"dragstart",O)))},[O]),S.useEffect(()=>{W&&A&&($e!==null&&google.maps.event.removeListener($e),Q(google.maps.event.addListener(W,"mousedown",A)))},[A]),S.useEffect(()=>{W&&L&&(Je!==null&&google.maps.event.removeListener(Je),mt(google.maps.event.addListener(W,"mouseout",L)))},[L]),S.useEffect(()=>{W&&D&&(pt!==null&&google.maps.event.removeListener(pt),Ze(google.maps.event.addListener(W,"mouseover",D)))},[D]),S.useEffect(()=>{W&&I&&(Lt!==null&&google.maps.event.removeListener(Lt),Qe(google.maps.event.addListener(W,"mouseup",I)))},[I]),S.useEffect(()=>{W&&R&&(j!==null&&google.maps.event.removeListener(j),U(google.maps.event.addListener(W,"rightclick",R)))},[R]),S.useEffect(()=>{W&&b&&(fe!==null&&google.maps.event.removeListener(fe),we(google.maps.event.addListener(W,"click",b)))},[b]),S.useEffect(()=>{W&&C&&(Re!==null&&google.maps.event.removeListener(Re),xe(google.maps.event.addListener(W,"drag",C)))},[C]),S.useEffect(()=>{W&&N&&(Ye!==null&&google.maps.event.removeListener(Ye),ke(google.maps.event.addListener(W,"clickable_changed",N)))},[N]),S.useEffect(()=>{W&&X&&(He!==null&&google.maps.event.removeListener(He),wt(google.maps.event.addListener(W,"cursor_changed",X)))},[X]),S.useEffect(()=>{W&&$&&(Oe!==null&&google.maps.event.removeListener(Oe),qe(google.maps.event.addListener(W,"animation_changed",$)))},[$]),S.useEffect(()=>{W&&Z&&(et!==null&&google.maps.event.removeListener(et),Xe(google.maps.event.addListener(W,"draggable_changed",Z)))},[Z]),S.useEffect(()=>{W&&K&&(Ve!==null&&google.maps.event.removeListener(Ve),ft(google.maps.event.addListener(W,"flat_changed",K)))},[K]),S.useEffect(()=>{W&&H&&(it!==null&&google.maps.event.removeListener(it),jt(google.maps.event.addListener(W,"icon_changed",H)))},[H]),S.useEffect(()=>{W&&Y&&(re!==null&&google.maps.event.removeListener(re),Ue(google.maps.event.addListener(W,"position_changed",Y)))},[Y]),S.useEffect(()=>{W&&G&&(be!==null&&google.maps.event.removeListener(be),Te(google.maps.event.addListener(W,"shape_changed",G)))},[G]),S.useEffect(()=>{W&&te&&(Ie!==null&&google.maps.event.removeListener(Ie),Fe(google.maps.event.addListener(W,"title_changed",te)))},[te]),S.useEffect(()=>{W&&F&&(Le!==null&&google.maps.event.removeListener(Le),st(google.maps.event.addListener(W,"visible_changed",F)))},[F]),S.useEffect(()=>{W&&ee&&(yt!==null&&google.maps.event.removeListener(yt),bt(google.maps.event.addListener(W,"zindex_changed",ee)))},[ee]),S.useEffect(()=>{var nn=Pu(Pu(Pu({},t||zm),i?zm:{map:V}),{},{position:e}),ut=new google.maps.Marker(nn);return i?i.addMarker(ut,!!r):ut.setMap(V),e&&ut.setPosition(e),typeof u<"u"&&ut.setVisible(u),typeof l<"u"&&ut.setDraggable(l),typeof f<"u"&&ut.setClickable(f),typeof p=="string"&&ut.setCursor(p),m&&ut.setIcon(m),typeof g<"u"&&ut.setLabel(g),typeof v<"u"&&ut.setOpacity(v),_&&ut.setShape(_),typeof w=="string"&&ut.setTitle(w),typeof x=="number"&&ut.setZIndex(x),M&&he(google.maps.event.addListener(ut,"dblclick",M)),T&&ge(google.maps.event.addListener(ut,"dragend",T)),O&&nt(google.maps.event.addListener(ut,"dragstart",O)),A&&Q(google.maps.event.addListener(ut,"mousedown",A)),L&&mt(google.maps.event.addListener(ut,"mouseout",L)),D&&Ze(google.maps.event.addListener(ut,"mouseover",D)),I&&Qe(google.maps.event.addListener(ut,"mouseup",I)),R&&U(google.maps.event.addListener(ut,"rightclick",R)),b&&we(google.maps.event.addListener(ut,"click",b)),C&&xe(google.maps.event.addListener(ut,"drag",C)),N&&ke(google.maps.event.addListener(ut,"clickable_changed",N)),X&&wt(google.maps.event.addListener(ut,"cursor_changed",X)),$&&qe(google.maps.event.addListener(ut,"animation_changed",$)),Z&&Xe(google.maps.event.addListener(ut,"draggable_changed",Z)),K&&ft(google.maps.event.addListener(ut,"flat_changed",K)),H&&jt(google.maps.event.addListener(ut,"icon_changed",H)),Y&&Ue(google.maps.event.addListener(ut,"position_changed",Y)),G&&Te(google.maps.event.addListener(ut,"shape_changed",G)),te&&Fe(google.maps.event.addListener(ut,"title_changed",te)),F&&st(google.maps.event.addListener(ut,"visible_changed",F)),ee&&bt(google.maps.event.addListener(ut,"zindex_changed",ee)),ue(ut),J&&J(ut),()=>{le!==null&&google.maps.event.removeListener(le),Ae!==null&&google.maps.event.removeListener(Ae),Ne!==null&&google.maps.event.removeListener(Ne),$e!==null&&google.maps.event.removeListener($e),Je!==null&&google.maps.event.removeListener(Je),pt!==null&&google.maps.event.removeListener(pt),Lt!==null&&google.maps.event.removeListener(Lt),j!==null&&google.maps.event.removeListener(j),fe!==null&&google.maps.event.removeListener(fe),Ye!==null&&google.maps.event.removeListener(Ye),He!==null&&google.maps.event.removeListener(He),Oe!==null&&google.maps.event.removeListener(Oe),et!==null&&google.maps.event.removeListener(et),Ve!==null&&google.maps.event.removeListener(Ve),it!==null&&google.maps.event.removeListener(it),re!==null&&google.maps.event.removeListener(re),Ie!==null&&google.maps.event.removeListener(Ie),Le!==null&&google.maps.event.removeListener(Le),yt!==null&&google.maps.event.removeListener(yt),ie&&ie(ut),i?i.removeMarker(ut,!!r):ut&&ut.setMap(null)}},[]);var ln=S.useMemo(()=>s?S.Children.map(s,nn=>{if(!S.isValidElement(nn))return nn;var ut=nn;return S.cloneElement(ut,{anchor:W})}):null,[s,W]);return k.jsx(k.Fragment,{children:ln})||null}var pZ=S.memo(hZ);class mZ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[])}componentDidMount(){var e=this;return iP(function*(){var t=Pu(Pu(Pu({},e.props.options||zm),e.props.clusterer?zm:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Nt({updaterMap:FA,eventMap:UA,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:FA,eventMap:UA,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ut(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?S.Children.map(this.props.children,t=>{if(!S.isValidElement(t))return t;var i=t;return S.cloneElement(i,{anchor:this.marker})}):null;return e||null}}Se(mZ,"contextType",At);var gZ=function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var i=t.getMaxZoom(),r=this.cluster.getBounds(),s=t.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(r),this.timeOut=window.setTimeout(function(){var l=t.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(r);var u=l.getZoom()||0;i!==null&&u>i&&l.setZoom(i+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,i,r,s,l;if(this.div&&this.center){var u=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),f=parseInt(((e=d[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((t=d[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),m=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(m!==null?"".concat(m.y,"px"):"0","; left: ").concat(m!==null?"".concat(m.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var g=document.createElement("img");g.alt=u,g.src=this.url,g.width=this.width,g.height=this.height,g.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(g.style.clip="rect(-".concat(p,"px, -").concat(f+this.width,"px, -").concat(p+this.height,", -").concat(f,")"));var v=document.createElement("div");v.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((i=this.sums)===null||i===void 0)&&i.text&&(v.innerText="".concat((r=this.sums)===null||r===void 0?void 0:r.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(v.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(g),this.div.appendChild(v),this.div.title=u,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),i=t[Math.min(t.length-1,Math.max(0,e.index-1))];i&&(this.url=i.url,this.height=i.height,this.width=i.width,i.className&&(this.className="".concat(this.clusterClassName," ").concat(i.className)),this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[this.height/2,this.width/2],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif",this.backgroundPosition=i.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n}(),vZ=function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new gZ(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),i=0,r=t;i<r.length;i++){var s=r[i],l=s.getPosition();l&&e.extend(l)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var i=e.getPosition();if(i){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+i.lat())/r,(this.center.lng()*(r-1)+i.lng())/r),this.calculateBounds()}}}else{var i=e.getPosition();i&&(this.center=i,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,l=this.markerClusterer.getMaxZoom(),u=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(l!==null&&typeof u<"u"&&u>l)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var d=0,f=this.markers;d<f.length;d++){var p=f[d];p.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,i=this.markerClusterer.getMaxZoom(),r=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(i!==null&&typeof r<"u"&&r>i){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n}();function yZ(n,e){var t=n.length,i=t.toString().length,r=Math.min(i,e);return{text:t.toString(),index:r,title:""}}var _Z=2e3,bZ=500,xZ="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",SZ="png",EZ=[53,56,66,78,90],wZ="cluster",uP=function(){function n(e,t,i){t===void 0&&(t=[]),i===void 0&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,i.zoomOnClick!==void 0&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,i.averageCenter!==void 0&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,i.ignoreHidden!==void 0&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,i.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||xZ,this.imageExtension=i.imageExtension||SZ,this.imageSizes=i.imageSizes||EZ,this.calculator=i.calculator||yZ,this.batchSize=i.batchSize||_Z,this.batchSizeIE=i.batchSizeIE||bZ,this.clusterClass=i.clusterClass||wZ,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var i=t[e];i.getMap()!==this.activeMap&&i.setMap(this.activeMap)}for(var r=0,s=this.clusters;r<s.length;r++){var l=s[r];l.remove()}this.clusters=[];for(var u=0,d=this.listeners;u<d.length;u++){var f=d[u];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,i=0,r=e;i<r.length;i++){var s=r[i],l=s.getPosition();l&&t.extend(l)}var u=this.getMap();u!==null&&"fitBounds"in u&&u.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];r&&this.pushMarkerTo(r)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var i=0;i<this.markers.length;i++)if(e===this.markers[i]){t=i;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var i=this.removeMarker_(e);return!t&&i&&this.repaint(),i},n.prototype.removeMarkers=function(e,t){for(var i=!1,r=0,s=e;r<s.length;r++){var l=s[r];i=i||this.removeMarker_(l)}return!t&&i&&this.repaint(),i},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var i=0,r=e;i<r.length;i++){var s=r[i];s.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));i!==null&&(i.x+=this.gridSize,i.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(r!==null&&(r.x-=this.gridSize,r.y+=this.gridSize),i!==null){var s=t.fromDivPixelToLatLng(i);s!==null&&e.extend(s)}if(r!==null){var l=t.fromDivPixelToLatLng(r);l!==null&&e.extend(l)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,i=this.clusters;t<i.length;t++){var r=i[t];r.remove()}this.clusters=[];for(var s=0,l=this.markers;s<l.length;s++){var u=l[s];u.isAdded=!1,e&&u.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var i=6371,r=(t.lat()-e.lat())*Math.PI/180,s=(t.lng()-e.lng())*Math.PI/180,l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return i*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},n.prototype.isMarkerInBounds=function(e,t){var i=e.getPosition();return i?t.contains(i):!1},n.prototype.addToClosestCluster=function(e){for(var t,i=4e4,r=null,s=0,l=this.clusters;s<l.length;s++){var u=l[s];t=u;var d=t.getCenter(),f=e.getPosition();if(d&&f){var p=this.distanceBetweenPoints(d,f);p<i&&(i=p,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):(t=new vZ(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var i=this.getMap(),r=i!==null&&("getBounds"in i)?i.getBounds():null,s=(i==null?void 0:i.getZoom())||0,l=s>3?new google.maps.LatLngBounds(r==null?void 0:r.getSouthWest(),r==null?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),u=this.getExtendedBounds(l),d=Math.min(e+this.batchSize,this.markers.length),f=e;f<d;f++){var p=this.markers[f];p&&!p.isAdded&&this.isMarkerInBounds(p,u)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var m=0,g=this.clusters;m<g.length;m++){var v=g[m];v.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(r){for(var s in r.prototype){var l=s;this.prototype[l]=r.prototype[l]}return this}).apply(e,[t])},n}();function BA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function MZ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var gr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Kt={averageCenter(n,e){n.setAverageCenter(e)},batchSizeIE(n,e){n.setBatchSizeIE(e)},calculator(n,e){n.setCalculator(e)},clusterClass(n,e){n.setClusterClass(e)},enableRetinaIcons(n,e){n.setEnableRetinaIcons(e)},gridSize(n,e){n.setGridSize(e)},ignoreHidden(n,e){n.setIgnoreHidden(e)},imageExtension(n,e){n.setImageExtension(e)},imagePath(n,e){n.setImagePath(e)},imageSizes(n,e){n.setImageSizes(e)},maxZoom(n,e){n.setMaxZoom(e)},minimumClusterSize(n,e){n.setMinimumClusterSize(e)},styles(n,e){n.setStyles(e)},title(n,e){n.setTitle(e)},zoomOnClick(n,e){n.setZoomOnClick(e)}},TZ={};function CZ(n){var{children:e,options:t,averageCenter:i,batchSizeIE:r,calculator:s,clusterClass:l,enableRetinaIcons:u,gridSize:d,ignoreHidden:f,imageExtension:p,imagePath:m,imageSizes:g,maxZoom:v,minimumClusterSize:_,styles:w,title:x,zoomOnClick:b,onClick:M,onClusteringBegin:C,onClusteringEnd:T,onMouseOver:O,onMouseOut:L,onLoad:D,onUnmount:I}=n,[A,R]=S.useState(null),N=S.useContext(At),[X,$]=S.useState(null),[Z,K]=S.useState(null),[H,Y]=S.useState(null),[G,te]=S.useState(null),[F,ee]=S.useState(null);return S.useEffect(()=>{A&&L&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(A,gr.onMouseOut,L)))},[L]),S.useEffect(()=>{A&&O&&(F!==null&&google.maps.event.removeListener(F),ee(google.maps.event.addListener(A,gr.onMouseOver,O)))},[O]),S.useEffect(()=>{A&&M&&(X!==null&&google.maps.event.removeListener(X),$(google.maps.event.addListener(A,gr.onClick,M)))},[M]),S.useEffect(()=>{A&&C&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(A,gr.onClusteringBegin,C)))},[C]),S.useEffect(()=>{A&&T&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(A,gr.onClusteringEnd,T)))},[T]),S.useEffect(()=>{typeof i<"u"&&A!==null&&Kt.averageCenter(A,i)},[A,i]),S.useEffect(()=>{typeof r<"u"&&A!==null&&Kt.batchSizeIE(A,r)},[A,r]),S.useEffect(()=>{typeof s<"u"&&A!==null&&Kt.calculator(A,s)},[A,s]),S.useEffect(()=>{typeof l<"u"&&A!==null&&Kt.clusterClass(A,l)},[A,l]),S.useEffect(()=>{typeof u<"u"&&A!==null&&Kt.enableRetinaIcons(A,u)},[A,u]),S.useEffect(()=>{typeof d<"u"&&A!==null&&Kt.gridSize(A,d)},[A,d]),S.useEffect(()=>{typeof f<"u"&&A!==null&&Kt.ignoreHidden(A,f)},[A,f]),S.useEffect(()=>{typeof p<"u"&&A!==null&&Kt.imageExtension(A,p)},[A,p]),S.useEffect(()=>{typeof m<"u"&&A!==null&&Kt.imagePath(A,m)},[A,m]),S.useEffect(()=>{typeof g<"u"&&A!==null&&Kt.imageSizes(A,g)},[A,g]),S.useEffect(()=>{typeof v<"u"&&A!==null&&Kt.maxZoom(A,v)},[A,v]),S.useEffect(()=>{typeof _<"u"&&A!==null&&Kt.minimumClusterSize(A,_)},[A,_]),S.useEffect(()=>{typeof w<"u"&&A!==null&&Kt.styles(A,w)},[A,w]),S.useEffect(()=>{typeof x<"u"&&A!==null&&Kt.title(A,x)},[A,x]),S.useEffect(()=>{typeof b<"u"&&A!==null&&Kt.zoomOnClick(A,b)},[A,b]),S.useEffect(()=>{if(N){var J=MZ({},t||TZ),ie=new uP(N,[],J);return i&&Kt.averageCenter(ie,i),r&&Kt.batchSizeIE(ie,r),s&&Kt.calculator(ie,s),l&&Kt.clusterClass(ie,l),u&&Kt.enableRetinaIcons(ie,u),d&&Kt.gridSize(ie,d),f&&Kt.ignoreHidden(ie,f),p&&Kt.imageExtension(ie,p),m&&Kt.imagePath(ie,m),g&&Kt.imageSizes(ie,g),v&&Kt.maxZoom(ie,v),_&&Kt.minimumClusterSize(ie,_),w&&Kt.styles(ie,w),x&&Kt.title(ie,x),b&&Kt.zoomOnClick(ie,b),L&&te(google.maps.event.addListener(ie,gr.onMouseOut,L)),O&&ee(google.maps.event.addListener(ie,gr.onMouseOver,O)),M&&$(google.maps.event.addListener(ie,gr.onClick,M)),C&&K(google.maps.event.addListener(ie,gr.onClusteringBegin,C)),T&&Y(google.maps.event.addListener(ie,gr.onClusteringEnd,T)),R(ie),D&&D(ie),()=>{G!==null&&google.maps.event.removeListener(G),F!==null&&google.maps.event.removeListener(F),X!==null&&google.maps.event.removeListener(X),Z!==null&&google.maps.event.removeListener(Z),H!==null&&google.maps.event.removeListener(H),I&&I(ie)}}},[]),A!==null&&e(A)||null}S.memo(CZ);class AZ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{markerClusterer:null}),Se(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new uP(this.context,[],this.props.options);this.registeredEvents=Nt({updaterMap:Kt,eventMap:gr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:Kt,eventMap:gr,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ut(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Se(AZ,"contextType",At);function zA(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var cP=function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),e.enableEventPropagation||zA(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var i=this.getPanes();if(i!==null&&i[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var r=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-r.left-r.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,u=s;l<u.length;l++){var d=u[l];this.eventListeners.push(google.maps.event.addListener(this.div,d,zA))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var i=0,r=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var l=t.getDiv(),u=l.offsetWidth,d=l.offsetHeight,f=this.pixelOffset.width,p=this.pixelOffset.height,m=this.div.offsetWidth,g=this.div.offsetHeight,v=this.infoBoxClearance.width,_=this.infoBoxClearance.height,w=this.getProjection(),x=w.fromLatLngToContainerPixel(this.position);x!==null&&(x.x<-f+v?i=x.x+f-v:x.x+m+f+v>u&&(i=x.x+m+f+v-u),this.alignBottom?x.y<-p+_+g?r=x.y+p-_-g:x.y+p+_>d&&(r=x.y+p+_-d):x.y<-p+_?r=x.y+p-_:x.y+g+p+_>d&&(r=x.y+g+p+_-d)),i===0&&r===0||t.panBy(i,r)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var i=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')"',this.div.style.filter="alpha(opacity="+i*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,i=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var i=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var r=t.getPosition();i.setPosition(r)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){i.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var i=t[e];google.maps.event.removeListener(i)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(r){for(var s in r.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=r.prototype[s]);return this}).apply(e,[t])},n}(),RZ=["position"],DZ=["position"];function HA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Hm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var VA={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},GA={options(n,e){n.setOptions(e)},position(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},LZ={};function OZ(n){var{children:e,anchor:t,options:i,position:r,zIndex:s,onCloseClick:l,onDomReady:u,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:m,onUnmount:g}=n,v=S.useContext(At),[_,w]=S.useState(null),[x,b]=S.useState(null),[M,C]=S.useState(null),[T,O]=S.useState(null),[L,D]=S.useState(null),[I,A]=S.useState(null),R=S.useRef(null);return S.useEffect(()=>{v&&_!==null&&(_.close(),t?_.open(v,t):_.getPosition()&&_.open(v))},[v,_,t]),S.useEffect(()=>{i&&_!==null&&_.setOptions(i)},[_,i]),S.useEffect(()=>{if(r&&_!==null){var N=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);_.setPosition(N)}},[r]),S.useEffect(()=>{typeof s=="number"&&_!==null&&_.setZIndex(s)},[s]),S.useEffect(()=>{_&&l&&(x!==null&&google.maps.event.removeListener(x),b(google.maps.event.addListener(_,"closeclick",l)))},[l]),S.useEffect(()=>{_&&u&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(_,"domready",u)))},[u]),S.useEffect(()=>{_&&d&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(_,"content_changed",d)))},[d]),S.useEffect(()=>{_&&f&&(L!==null&&google.maps.event.removeListener(L),D(google.maps.event.addListener(_,"position_changed",f)))},[f]),S.useEffect(()=>{_&&p&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(_,"zindex_changed",p)))},[p]),S.useEffect(()=>{if(v){var N=i||LZ,{position:X}=N,$=$x(N,RZ),Z;X&&!(X instanceof google.maps.LatLng)&&(Z=new google.maps.LatLng(X.lat,X.lng));var K=new cP(Hm(Hm({},$),Z?{position:Z}:{}));R.current=document.createElement("div"),w(K),l&&b(google.maps.event.addListener(K,"closeclick",l)),u&&C(google.maps.event.addListener(K,"domready",u)),d&&O(google.maps.event.addListener(K,"content_changed",d)),f&&D(google.maps.event.addListener(K,"position_changed",f)),p&&A(google.maps.event.addListener(K,"zindex_changed",p)),K.setContent(R.current),t?K.open(v,t):K.getPosition()?K.open(v):Qn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(K)}return()=>{_!==null&&(x&&google.maps.event.removeListener(x),T&&google.maps.event.removeListener(T),M&&google.maps.event.removeListener(M),L&&google.maps.event.removeListener(L),I&&google.maps.event.removeListener(I),g&&g(_),_.close())}},[]),R.current?cs.createPortal(S.Children.only(e),R.current):null}S.memo(OZ);class PZ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"containerElement",null),Se(this,"state",{infoBox:null}),Se(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Qn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Se(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,i=$x(e,DZ),r;t&&!(t instanceof google.maps.LatLng)&&(r=new google.maps.LatLng(t.lat,t.lng));var s=new cP(Hm(Hm({},i),r?{position:r}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Nt({updaterMap:GA,eventMap:VA,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:GA,eventMap:VA,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),Ut(this.registeredEvents),t.close())}render(){return this.containerElement?cs.createPortal(S.Children.only(this.props.children),this.containerElement):null}}Se(PZ,"contextType",At);var J0,jA;function IZ(){return jA||(jA=1,J0=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;){var l=s[r];if(!n(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}),J0}var NZ=IZ(),WA=nP(NZ),YA=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],e_=1,bd=8;class Xx{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,i]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var r=i>>4;if(r!==e_)throw new Error("Got v".concat(r," data when expected v").concat(e_,"."));var s=YA[i&15];if(!s)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(e,2,1),[u]=new Uint32Array(e,4,1);return new Xx(u,l,s,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=YA.indexOf(this.ArrayType),l=e*2*this.ArrayType.BYTES_PER_ELEMENT,u=e*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-u%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(i,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,bd,e),this.coords=new this.ArrayType(this.data,bd+u+d,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(bd+l+u+d),this.ids=new this.IndexArrayType(this.data,bd,e),this.coords=new this.ArrayType(this.data,bd+u+d,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(e_<<4)+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=t,i}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Db(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,i,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:l,nodeSize:u}=this,d=[0,s.length-1,0],f=[];d.length;){var p=d.pop()||0,m=d.pop()||0,g=d.pop()||0;if(m-g<=u){for(var v=g;v<=m;v++){var _=l[2*v],w=l[2*v+1];_>=e&&_<=i&&w>=t&&w<=r&&f.push(s[v])}continue}var x=g+m>>1,b=l[2*x],M=l[2*x+1];b>=e&&b<=i&&M>=t&&M<=r&&f.push(s[x]),(p===0?e<=b:t<=M)&&(d.push(g),d.push(x-1),d.push(1-p)),(p===0?i>=b:r>=M)&&(d.push(x+1),d.push(m),d.push(1-p))}return f}within(e,t,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:s,nodeSize:l}=this,u=[0,r.length-1,0],d=[],f=i*i;u.length;){var p=u.pop()||0,m=u.pop()||0,g=u.pop()||0;if(m-g<=l){for(var v=g;v<=m;v++)qA(s[2*v],s[2*v+1],e,t)<=f&&d.push(r[v]);continue}var _=g+m>>1,w=s[2*_],x=s[2*_+1];qA(w,x,e,t)<=f&&d.push(r[_]),(p===0?e-i<=w:t-i<=x)&&(u.push(g),u.push(_-1),u.push(1-p)),(p===0?e+i>=w:t+i>=x)&&(u.push(_+1),u.push(m),u.push(1-p))}return d}}function Db(n,e,t,i,r,s){if(!(r-i<=t)){var l=i+r>>1;dP(n,e,l,i,r,s),Db(n,e,t,i,l-1,1-s),Db(n,e,t,l+1,r,1-s)}}function dP(n,e,t,i,r,s){for(;r>i;){if(r-i>600){var l=r-i+1,u=t-i+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(i,Math.floor(t-u*f/l+p)),g=Math.min(r,Math.floor(t+(l-u)*f/l+p));dP(n,e,t,m,g,s)}var v=e[2*t+s],_=i,w=r;for(xd(n,e,i,t),e[2*r+s]>v&&xd(n,e,i,r);_<w;){for(xd(n,e,_,w),_++,w--;e[2*_+s]<v;)_++;for(;e[2*w+s]>v;)w--}e[2*i+s]===v?xd(n,e,i,w):(w++,xd(n,e,w,r)),w<=t&&(i=w+1),t<=w&&(r=w-1)}}function xd(n,e,t,i){t_(n,t,i),t_(e,2*t,2*i),t_(e,2*t+1,2*i+1)}function t_(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function qA(n,e,t,i){var r=n-t,s=e-i;return r*r+s*s}var kZ={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},$A=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),zo=2,js=3,n_=4,Vs=5,fP=6;class UZ{constructor(e){this.options=Object.assign(Object.create(kZ),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:i,maxZoom:r}=this.options;t&&console.time("total time");var s="prepare ".concat(e.length," points");t&&console.time(s),this.points=e;for(var l=[],u=0;u<e.length;u++){var d=e[u];if(d.geometry){var[f,p]=d.geometry.coordinates,m=$A(pp(f)),g=$A(mp(p));l.push(m,g,1/0,u,-1,1),this.options.reduce&&l.push(0)}}var v=this.trees[r+1]=this._createTree(l);t&&console.timeEnd(s);for(var _=r;_>=i;_--){var w=+Date.now();v=this.trees[_]=this._createTree(this._cluster(v,_)),t&&console.log("z%d: %d clusters in %dms",_,v.numItems,+Date.now()-w)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var i=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,s=180;else if(i>s){var u=this.getClusters([i,r,180,l],t),d=this.getClusters([-180,r,s,l],t);return u.concat(d)}var f=this.trees[this._limitZoom(t)],p=f.range(pp(i),mp(l),pp(s),mp(r)),m=f.data,g=[];for(var v of p){var _=this.stride*v;g.push(m[_+Vs]>1?XA(m,_,this.clusterProps):this.points[m[_+js]])}return g}getChildren(e){var t=this._getOriginId(e),i=this._getOriginZoom(e),r="No cluster with the specified id.",s=this.trees[i];if(!s)throw new Error(r);var l=s.data;if(t*this.stride>=l.length)throw new Error(r);var u=this.options.radius/(this.options.extent*Math.pow(2,i-1)),d=l[t*this.stride],f=l[t*this.stride+1],p=s.within(d,f,u),m=[];for(var g of p){var v=g*this.stride;l[v+n_]===e&&m.push(l[v+Vs]>1?XA(l,v,this.clusterProps):this.points[l[v+js]])}if(m.length===0)throw new Error(r);return m}getLeaves(e,t,i){t=t||10,i=i||0;var r=[];return this._appendLeaves(r,e,t,i,0),r}getTile(e,t,i){var r=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:l,radius:u}=this.options,d=u/l,f=(i-d)/s,p=(i+1+d)/s,m={features:[]};return this._addTileFeatures(r.range((t-d)/s,f,(t+1+d)/s,p),r.data,t,i,s,m),t===0&&this._addTileFeatures(r.range(1-d/s,f,1,p),r.data,s,i,s,m),t===s-1&&this._addTileFeatures(r.range(0,f,d/s,p),r.data,-1,i,s,m),m.features.length?m:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var i=this.getChildren(e);if(t++,i.length!==1)break;e=i[0].properties.cluster_id}return t}_appendLeaves(e,t,i,r,s){var l=this.getChildren(t);for(var u of l){var d=u.properties;if(d&&d.cluster?s+d.point_count<=r?s+=d.point_count:s=this._appendLeaves(e,d.cluster_id,i,r,s):s<r?s++:e.push(u),e.length===i)break}return s}_createTree(e){for(var t=new Xx(e.length/this.stride|0,this.options.nodeSize,Float32Array),i=0;i<e.length;i+=this.stride)t.add(e[i],e[i+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,i,r,s,l){for(var u of e){var d=u*this.stride,f=t[d+Vs]>1,p=void 0,m=void 0,g=void 0;if(f)p=hP(t,d,this.clusterProps),m=t[d],g=t[d+1];else{var v=this.points[t[d+js]];p=v.properties;var[_,w]=v.geometry.coordinates;m=pp(_),g=mp(w)}var x={type:1,geometry:[[Math.round(this.options.extent*(m*s-i)),Math.round(this.options.extent*(g*s-r))]],tags:p},b=void 0;f||this.options.generateId?b=t[d+js]:b=this.points[t[d+js]].id,b!==void 0&&(x.id=b),l.features.push(x)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:i,extent:r,reduce:s,minPoints:l}=this.options,u=i/(r*Math.pow(2,t)),d=e.data,f=[],p=this.stride,m=0;m<d.length;m+=p)if(!(d[m+zo]<=t)){d[m+zo]=t;var g=d[m],v=d[m+1],_=e.within(d[m],d[m+1],u),w=d[m+Vs],x=w;for(var b of _){var M=b*p;d[M+zo]>t&&(x+=d[M+Vs])}if(x>w&&x>=l){var C=g*w,T=v*w,O=void 0,L=-1,D=((m/p|0)<<5)+(t+1)+this.points.length;for(var I of _){var A=I*p;if(!(d[A+zo]<=t)){d[A+zo]=t;var R=d[A+Vs];C+=d[A]*R,T+=d[A+1]*R,d[A+n_]=D,s&&(O||(O=this._map(d,m,!0),L=this.clusterProps.length,this.clusterProps.push(O)),s(O,this._map(d,A)))}}d[m+n_]=D,f.push(C/x,T/x,1/0,D,-1,x),s&&f.push(L)}else{for(var N=0;N<p;N++)f.push(d[m+N]);if(x>1)for(var X of _){var $=X*p;if(!(d[$+zo]<=t)){d[$+zo]=t;for(var Z=0;Z<p;Z++)f.push(d[$+Z])}}}}return f}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,i){if(e[t+Vs]>1){var r=this.clusterProps[e[t+fP]];return i?Object.assign({},r):r}var s=this.points[e[t+js]].properties,l=this.options.map(s);return i&&l===s?Object.assign({},l):l}}function XA(n,e,t){return{type:"Feature",id:n[e+js],properties:hP(n,e,t),geometry:{type:"Point",coordinates:[FZ(n[e]),BZ(n[e+1])]}}}function hP(n,e,t){var i=n[e+Vs],r=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,s=n[e+fP],l=s===-1?{}:Object.assign({},t[s]);return Object.assign(l,{cluster:!0,cluster_id:n[e+js],point_count:i,point_count_abbreviated:r})}function pp(n){return n/360+.5}function mp(n){var e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function FZ(n){return(n-.5)*360}function BZ(n){var e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zZ(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}class er{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Lb{constructor(e){var{markers:t,position:i}=e;this.markers=t,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(er.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>er.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(er.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class HZ{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return VZ(t)}}var VZ=n=>{var e=n.map(t=>new Lb({position:er.getPosition(t),markers:[t]}));return e};class GZ extends HZ{constructor(e){var{maxZoom:t,radius:i=60}=e,r=zZ(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new UZ(Object.assign({maxZoom:this.maxZoom,radius:i},r))}calculate(e){var t=!1,i={zoom:e.map.getZoom()};if(!WA(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map(s=>{var l=er.getPosition(s),u=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:u},properties:{marker:s}}});this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||i.zoom<=this.maxZoom)&&(t=!WA(this.state,i)),this.state=i,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(i=>this.transformCluster(i))}transformCluster(e){var{geometry:{coordinates:[t,i]},properties:r}=e;if(r.cluster)return new Lb({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:i,lng:t}});var s=r.marker;return new Lb({markers:[s],position:er.getPosition(s)})}}class jZ{constructor(e,t){this.markers={sum:e.length};var i=t.map(s=>s.count),r=i.reduce((s,l)=>s+l,0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...i),max:Math.max(...i)}}}}class WZ{render(e,t,i){var{count:r,position:s}=e,l=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",u='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(r,`</text>
</svg>`),d="Cluster of ".concat(r," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+r;if(er.isAdvancedMarkerAvailable(i)){var p=new DOMParser,m=p.parseFromString(u,"image/svg+xml").documentElement;m.setAttribute("transform","translate(0 25)");var g={map:i,position:s,zIndex:f,title:d,content:m};return new google.maps.marker.AdvancedMarkerElement(g)}var v={position:s,zIndex:f,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(u)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(v)}}function YZ(n,e){for(var t in e.prototype)n.prototype[t]=e.prototype[t]}class Kx{constructor(){YZ(Kx,google.maps.OverlayView)}}var Nd;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(Nd||(Nd={}));var qZ=(n,e,t)=>{t.fitBounds(e.bounds)};class $Z extends Kx{constructor(e){var{map:t,markers:i=[],algorithmOptions:r={},algorithm:s=new GZ(r),renderer:l=new WZ,onClusterClick:u=qZ}=e;super(),this.markers=[...i],this.clusters=[],this.algorithm=s,this.renderer=l,this.onClusterClick=u,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(i=>{this.addMarker(i,!0)}),t||this.render()}removeMarker(e,t){var i=this.markers.indexOf(e);return i===-1?!1:(er.setMap(e,null),this.markers.splice(i,1),t||this.render(),!0)}removeMarkers(e,t){var i=!1;return e.forEach(r=>{i=this.removeMarker(r,!0)||i}),i&&!t&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Nd.CLUSTERING_BEGIN,this);var{clusters:t,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(i||i==null){var r=new Set;for(var s of t)s.markers.length==1&&r.add(s.markers[0]);var l=[];for(var u of this.clusters)u.marker!=null&&(u.markers.length==1?r.has(u.marker)||er.setMap(u.marker,null):l.push(u.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>l.forEach(d=>er.setMap(d,null)))}google.maps.event.trigger(this,Nd.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>er.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new jZ(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(i=>{i.markers.length===1?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e,t),i.markers.forEach(r=>er.setMap(r,null)),this.onClusterClick&&i.marker.addListener("click",r=>{google.maps.event.trigger(this,Nd.CLUSTER_CLICK,i),this.onClusterClick(r,i,t)})),er.setMap(i.marker,t)})}}function KA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ZA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function XZ(n){var e=YK(),[t,i]=S.useState(null);return S.useEffect(()=>{if(e&&t===null){var r=new $Z(ZA(ZA({},n),{},{map:e}));i(r)}},[e]),t}function KZ(n){var{children:e,options:t}=n,i=XZ(t);return i!==null?e(i):null}S.memo(KZ);var QA={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},JA={options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},zIndex(n,e){n.setZIndex(e)}};function ZZ(n){var{children:e,anchor:t,options:i,position:r,zIndex:s,onCloseClick:l,onDomReady:u,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:m,onUnmount:g}=n,v=S.useContext(At),[_,w]=S.useState(null),[x,b]=S.useState(null),[M,C]=S.useState(null),[T,O]=S.useState(null),[L,D]=S.useState(null),[I,A]=S.useState(null),R=S.useRef(null);return S.useEffect(()=>{_!==null&&(_.close(),t?_.open(v,t):_.getPosition()&&_.open(v))},[v,_,t]),S.useEffect(()=>{i&&_!==null&&_.setOptions(i)},[_,i]),S.useEffect(()=>{r&&_!==null&&_.setPosition(r)},[r]),S.useEffect(()=>{typeof s=="number"&&_!==null&&_.setZIndex(s)},[s]),S.useEffect(()=>{_&&l&&(x!==null&&google.maps.event.removeListener(x),b(google.maps.event.addListener(_,"closeclick",l)))},[l]),S.useEffect(()=>{_&&u&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(_,"domready",u)))},[u]),S.useEffect(()=>{_&&d&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(_,"content_changed",d)))},[d]),S.useEffect(()=>{_&&f&&(L!==null&&google.maps.event.removeListener(L),D(google.maps.event.addListener(_,"position_changed",f)))},[f]),S.useEffect(()=>{_&&p&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(_,"zindex_changed",p)))},[p]),S.useEffect(()=>{var N=new google.maps.InfoWindow(i);return w(N),R.current=document.createElement("div"),l&&b(google.maps.event.addListener(N,"closeclick",l)),u&&C(google.maps.event.addListener(N,"domready",u)),d&&O(google.maps.event.addListener(N,"content_changed",d)),f&&D(google.maps.event.addListener(N,"position_changed",f)),p&&A(google.maps.event.addListener(N,"zindex_changed",p)),N.setContent(R.current),r&&N.setPosition(r),s&&N.setZIndex(s),t?N.open(v,t):N.getPosition()?N.open(v):Qn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(N),()=>{x&&google.maps.event.removeListener(x),T&&google.maps.event.removeListener(T),M&&google.maps.event.removeListener(M),L&&google.maps.event.removeListener(L),I&&google.maps.event.removeListener(I),g&&g(N),N.close()}},[]),R.current?cs.createPortal(S.Children.only(e),R.current):null}S.memo(ZZ);class pP extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"containerElement",null),Se(this,"state",{infoWindow:null}),Se(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Qn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Se(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Nt({updaterMap:JA,eventMap:QA,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:JA,eventMap:QA,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ut(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?cs.createPortal(S.Children.only(this.props.children),this.containerElement):null}}Se(pP,"contextType",At);function eR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Vm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var tR={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nR={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},visible(n,e){n.setVisible(e)}},QZ={};function JZ(n){var{options:e,draggable:t,editable:i,visible:r,path:s,onDblClick:l,onDragEnd:u,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:_,onClick:w,onDrag:x,onLoad:b,onUnmount:M}=n,C=S.useContext(At),[T,O]=S.useState(null),[L,D]=S.useState(null),[I,A]=S.useState(null),[R,N]=S.useState(null),[X,$]=S.useState(null),[Z,K]=S.useState(null),[H,Y]=S.useState(null),[G,te]=S.useState(null),[F,ee]=S.useState(null),[J,ie]=S.useState(null),[V,W]=S.useState(null),[ue,le]=S.useState(null);return S.useEffect(()=>{T!==null&&T.setMap(C)},[C]),S.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),S.useEffect(()=>{typeof t<"u"&&T!==null&&T.setDraggable(t)},[T,t]),S.useEffect(()=>{typeof i<"u"&&T!==null&&T.setEditable(i)},[T,i]),S.useEffect(()=>{typeof r<"u"&&T!==null&&T.setVisible(r)},[T,r]),S.useEffect(()=>{typeof s<"u"&&T!==null&&T.setPath(s)},[T,s]),S.useEffect(()=>{T&&l&&(L!==null&&google.maps.event.removeListener(L),D(google.maps.event.addListener(T,"dblclick",l)))},[l]),S.useEffect(()=>{T&&u&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(T,"dragend",u)))},[u]),S.useEffect(()=>{T&&d&&(R!==null&&google.maps.event.removeListener(R),N(google.maps.event.addListener(T,"dragstart",d)))},[d]),S.useEffect(()=>{T&&f&&(X!==null&&google.maps.event.removeListener(X),$(google.maps.event.addListener(T,"mousedown",f)))},[f]),S.useEffect(()=>{T&&p&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(T,"mousemove",p)))},[p]),S.useEffect(()=>{T&&m&&(H!==null&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(T,"mouseout",m)))},[m]),S.useEffect(()=>{T&&g&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(T,"mouseover",g)))},[g]),S.useEffect(()=>{T&&v&&(F!==null&&google.maps.event.removeListener(F),ee(google.maps.event.addListener(T,"mouseup",v)))},[v]),S.useEffect(()=>{T&&_&&(J!==null&&google.maps.event.removeListener(J),ie(google.maps.event.addListener(T,"rightclick",_)))},[_]),S.useEffect(()=>{T&&w&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(T,"click",w)))},[w]),S.useEffect(()=>{T&&x&&(ue!==null&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(T,"drag",x)))},[x]),S.useEffect(()=>{var he=new google.maps.Polyline(Vm(Vm({},e||QZ),{},{map:C}));return s&&he.setPath(s),typeof r<"u"&&he.setVisible(r),typeof i<"u"&&he.setEditable(i),typeof t<"u"&&he.setDraggable(t),l&&D(google.maps.event.addListener(he,"dblclick",l)),u&&A(google.maps.event.addListener(he,"dragend",u)),d&&N(google.maps.event.addListener(he,"dragstart",d)),f&&$(google.maps.event.addListener(he,"mousedown",f)),p&&K(google.maps.event.addListener(he,"mousemove",p)),m&&Y(google.maps.event.addListener(he,"mouseout",m)),g&&te(google.maps.event.addListener(he,"mouseover",g)),v&&ee(google.maps.event.addListener(he,"mouseup",v)),_&&ie(google.maps.event.addListener(he,"rightclick",_)),w&&W(google.maps.event.addListener(he,"click",w)),x&&le(google.maps.event.addListener(he,"drag",x)),O(he),b&&b(he),()=>{L!==null&&google.maps.event.removeListener(L),I!==null&&google.maps.event.removeListener(I),R!==null&&google.maps.event.removeListener(R),X!==null&&google.maps.event.removeListener(X),Z!==null&&google.maps.event.removeListener(Z),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),F!==null&&google.maps.event.removeListener(F),J!==null&&google.maps.event.removeListener(J),V!==null&&google.maps.event.removeListener(V),M&&M(he),he.setMap(null)}},[]),null}S.memo(JZ);class eQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{polyline:null}),Se(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Vm(Vm({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:nR,eventMap:tR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:nR,eventMap:tR,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ut(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Se(eQ,"contextType",At);function iR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var aR={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sR={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},paths(n,e){n.setPaths(e)},visible(n,e){n.setVisible(e)}};function tQ(n){var{options:e,draggable:t,editable:i,visible:r,path:s,paths:l,onDblClick:u,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:m,onMouseOut:g,onMouseOver:v,onMouseUp:_,onRightClick:w,onClick:x,onDrag:b,onLoad:M,onUnmount:C,onEdit:T}=n,O=S.useContext(At),[L,D]=S.useState(null),[I,A]=S.useState(null),[R,N]=S.useState(null),[X,$]=S.useState(null),[Z,K]=S.useState(null),[H,Y]=S.useState(null),[G,te]=S.useState(null),[F,ee]=S.useState(null),[J,ie]=S.useState(null),[V,W]=S.useState(null),[ue,le]=S.useState(null),[he,Ae]=S.useState(null);return S.useEffect(()=>{L!==null&&L.setMap(O)},[O]),S.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),S.useEffect(()=>{typeof t<"u"&&L!==null&&L.setDraggable(t)},[L,t]),S.useEffect(()=>{typeof i<"u"&&L!==null&&L.setEditable(i)},[L,i]),S.useEffect(()=>{typeof r<"u"&&L!==null&&L.setVisible(r)},[L,r]),S.useEffect(()=>{typeof s<"u"&&L!==null&&L.setPath(s)},[L,s]),S.useEffect(()=>{typeof l<"u"&&L!==null&&L.setPaths(l)},[L,l]),S.useEffect(()=>{L&&typeof u=="function"&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(L,"dblclick",u)))},[u]),S.useEffect(()=>{L&&(google.maps.event.addListener(L.getPath(),"insert_at",()=>{T==null||T(L)}),google.maps.event.addListener(L.getPath(),"set_at",()=>{T==null||T(L)}),google.maps.event.addListener(L.getPath(),"remove_at",()=>{T==null||T(L)}))},[L,T]),S.useEffect(()=>{L&&typeof d=="function"&&(R!==null&&google.maps.event.removeListener(R),N(google.maps.event.addListener(L,"dragend",d)))},[d]),S.useEffect(()=>{L&&typeof f=="function"&&(X!==null&&google.maps.event.removeListener(X),$(google.maps.event.addListener(L,"dragstart",f)))},[f]),S.useEffect(()=>{L&&typeof p=="function"&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(L,"mousedown",p)))},[p]),S.useEffect(()=>{L&&typeof m=="function"&&(H!==null&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(L,"mousemove",m)))},[m]),S.useEffect(()=>{L&&typeof g=="function"&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(L,"mouseout",g)))},[g]),S.useEffect(()=>{L&&typeof v=="function"&&(F!==null&&google.maps.event.removeListener(F),ee(google.maps.event.addListener(L,"mouseover",v)))},[v]),S.useEffect(()=>{L&&typeof _=="function"&&(J!==null&&google.maps.event.removeListener(J),ie(google.maps.event.addListener(L,"mouseup",_)))},[_]),S.useEffect(()=>{L&&typeof w=="function"&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(L,"rightclick",w)))},[w]),S.useEffect(()=>{L&&typeof x=="function"&&(ue!==null&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(L,"click",x)))},[x]),S.useEffect(()=>{L&&typeof b=="function"&&(he!==null&&google.maps.event.removeListener(he),Ae(google.maps.event.addListener(L,"drag",b)))},[b]),S.useEffect(()=>{var ge=new google.maps.Polygon(rR(rR({},e),{},{map:O}));return s&&ge.setPath(s),l&&ge.setPaths(l),typeof r<"u"&&ge.setVisible(r),typeof i<"u"&&ge.setEditable(i),typeof t<"u"&&ge.setDraggable(t),u&&A(google.maps.event.addListener(ge,"dblclick",u)),d&&N(google.maps.event.addListener(ge,"dragend",d)),f&&$(google.maps.event.addListener(ge,"dragstart",f)),p&&K(google.maps.event.addListener(ge,"mousedown",p)),m&&Y(google.maps.event.addListener(ge,"mousemove",m)),g&&te(google.maps.event.addListener(ge,"mouseout",g)),v&&ee(google.maps.event.addListener(ge,"mouseover",v)),_&&ie(google.maps.event.addListener(ge,"mouseup",_)),w&&W(google.maps.event.addListener(ge,"rightclick",w)),x&&le(google.maps.event.addListener(ge,"click",x)),b&&Ae(google.maps.event.addListener(ge,"drag",b)),D(ge),M&&M(ge),()=>{I!==null&&google.maps.event.removeListener(I),R!==null&&google.maps.event.removeListener(R),X!==null&&google.maps.event.removeListener(X),Z!==null&&google.maps.event.removeListener(Z),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),F!==null&&google.maps.event.removeListener(F),J!==null&&google.maps.event.removeListener(J),V!==null&&google.maps.event.removeListener(V),ue!==null&&google.maps.event.removeListener(ue),C&&C(ge),ge.setMap(null)}},[]),null}S.memo(tQ);class nQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Nt({updaterMap:sR,eventMap:aR,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:sR,eventMap:aR,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ut(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}Se(nQ,"contextType",At);function oR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var lR={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},uR={bounds(n,e){n.setBounds(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},visible(n,e){n.setVisible(e)}};function iQ(n){var{options:e,bounds:t,draggable:i,editable:r,visible:s,onDblClick:l,onDragEnd:u,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:_,onClick:w,onDrag:x,onBoundsChanged:b,onLoad:M,onUnmount:C}=n,T=S.useContext(At),[O,L]=S.useState(null),[D,I]=S.useState(null),[A,R]=S.useState(null),[N,X]=S.useState(null),[$,Z]=S.useState(null),[K,H]=S.useState(null),[Y,G]=S.useState(null),[te,F]=S.useState(null),[ee,J]=S.useState(null),[ie,V]=S.useState(null),[W,ue]=S.useState(null),[le,he]=S.useState(null),[Ae,ge]=S.useState(null);return S.useEffect(()=>{O!==null&&O.setMap(T)},[T]),S.useEffect(()=>{typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),S.useEffect(()=>{typeof i<"u"&&O!==null&&O.setDraggable(i)},[O,i]),S.useEffect(()=>{typeof r<"u"&&O!==null&&O.setEditable(r)},[O,r]),S.useEffect(()=>{typeof s<"u"&&O!==null&&O.setVisible(s)},[O,s]),S.useEffect(()=>{typeof t<"u"&&O!==null&&O.setBounds(t)},[O,t]),S.useEffect(()=>{O&&l&&(D!==null&&google.maps.event.removeListener(D),I(google.maps.event.addListener(O,"dblclick",l)))},[l]),S.useEffect(()=>{O&&u&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(O,"dragend",u)))},[u]),S.useEffect(()=>{O&&d&&(N!==null&&google.maps.event.removeListener(N),X(google.maps.event.addListener(O,"dragstart",d)))},[d]),S.useEffect(()=>{O&&f&&($!==null&&google.maps.event.removeListener($),Z(google.maps.event.addListener(O,"mousedown",f)))},[f]),S.useEffect(()=>{O&&p&&(K!==null&&google.maps.event.removeListener(K),H(google.maps.event.addListener(O,"mousemove",p)))},[p]),S.useEffect(()=>{O&&m&&(Y!==null&&google.maps.event.removeListener(Y),G(google.maps.event.addListener(O,"mouseout",m)))},[m]),S.useEffect(()=>{O&&g&&(te!==null&&google.maps.event.removeListener(te),F(google.maps.event.addListener(O,"mouseover",g)))},[g]),S.useEffect(()=>{O&&v&&(ee!==null&&google.maps.event.removeListener(ee),J(google.maps.event.addListener(O,"mouseup",v)))},[v]),S.useEffect(()=>{O&&_&&(ie!==null&&google.maps.event.removeListener(ie),V(google.maps.event.addListener(O,"rightclick",_)))},[_]),S.useEffect(()=>{O&&w&&(W!==null&&google.maps.event.removeListener(W),ue(google.maps.event.addListener(O,"click",w)))},[w]),S.useEffect(()=>{O&&x&&(le!==null&&google.maps.event.removeListener(le),he(google.maps.event.addListener(O,"drag",x)))},[x]),S.useEffect(()=>{O&&b&&(Ae!==null&&google.maps.event.removeListener(Ae),ge(google.maps.event.addListener(O,"bounds_changed",b)))},[b]),S.useEffect(()=>{var Ne=new google.maps.Rectangle(Gm(Gm({},e),{},{map:T}));return typeof s<"u"&&Ne.setVisible(s),typeof r<"u"&&Ne.setEditable(r),typeof i<"u"&&Ne.setDraggable(i),typeof t<"u"&&Ne.setBounds(t),l&&I(google.maps.event.addListener(Ne,"dblclick",l)),u&&R(google.maps.event.addListener(Ne,"dragend",u)),d&&X(google.maps.event.addListener(Ne,"dragstart",d)),f&&Z(google.maps.event.addListener(Ne,"mousedown",f)),p&&H(google.maps.event.addListener(Ne,"mousemove",p)),m&&G(google.maps.event.addListener(Ne,"mouseout",m)),g&&F(google.maps.event.addListener(Ne,"mouseover",g)),v&&J(google.maps.event.addListener(Ne,"mouseup",v)),_&&V(google.maps.event.addListener(Ne,"rightclick",_)),w&&ue(google.maps.event.addListener(Ne,"click",w)),x&&he(google.maps.event.addListener(Ne,"drag",x)),b&&ge(google.maps.event.addListener(Ne,"bounds_changed",b)),L(Ne),M&&M(Ne),()=>{D!==null&&google.maps.event.removeListener(D),A!==null&&google.maps.event.removeListener(A),N!==null&&google.maps.event.removeListener(N),$!==null&&google.maps.event.removeListener($),K!==null&&google.maps.event.removeListener(K),Y!==null&&google.maps.event.removeListener(Y),te!==null&&google.maps.event.removeListener(te),ee!==null&&google.maps.event.removeListener(ee),ie!==null&&google.maps.event.removeListener(ie),W!==null&&google.maps.event.removeListener(W),le!==null&&google.maps.event.removeListener(le),Ae!==null&&google.maps.event.removeListener(Ae),C&&C(Ne),Ne.setMap(null)}},[]),null}S.memo(iQ);class rQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{rectangle:null}),Se(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Gm(Gm({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:uR,eventMap:lR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:uR,eventMap:lR,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ut(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Se(rQ,"contextType",At);function cR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var dR={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},fR={center(n,e){n.setCenter(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},radius(n,e){n.setRadius(e)},visible(n,e){n.setVisible(e)}},aQ={};function sQ(n){var{options:e,center:t,radius:i,draggable:r,editable:s,visible:l,onDblClick:u,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:m,onMouseOut:g,onMouseOver:v,onMouseUp:_,onRightClick:w,onClick:x,onDrag:b,onCenterChanged:M,onRadiusChanged:C,onLoad:T,onUnmount:O}=n,L=S.useContext(At),[D,I]=S.useState(null),[A,R]=S.useState(null),[N,X]=S.useState(null),[$,Z]=S.useState(null),[K,H]=S.useState(null),[Y,G]=S.useState(null),[te,F]=S.useState(null),[ee,J]=S.useState(null),[ie,V]=S.useState(null),[W,ue]=S.useState(null),[le,he]=S.useState(null),[Ae,ge]=S.useState(null),[Ne,nt]=S.useState(null),[$e,Q]=S.useState(null);return S.useEffect(()=>{D!==null&&D.setMap(L)},[L]),S.useEffect(()=>{typeof e<"u"&&D!==null&&D.setOptions(e)},[D,e]),S.useEffect(()=>{typeof r<"u"&&D!==null&&D.setDraggable(r)},[D,r]),S.useEffect(()=>{typeof s<"u"&&D!==null&&D.setEditable(s)},[D,s]),S.useEffect(()=>{typeof l<"u"&&D!==null&&D.setVisible(l)},[D,l]),S.useEffect(()=>{typeof i=="number"&&D!==null&&D.setRadius(i)},[D,i]),S.useEffect(()=>{typeof t<"u"&&D!==null&&D.setCenter(t)},[D,t]),S.useEffect(()=>{D&&u&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(D,"dblclick",u)))},[u]),S.useEffect(()=>{D&&d&&(N!==null&&google.maps.event.removeListener(N),X(google.maps.event.addListener(D,"dragend",d)))},[d]),S.useEffect(()=>{D&&f&&($!==null&&google.maps.event.removeListener($),Z(google.maps.event.addListener(D,"dragstart",f)))},[f]),S.useEffect(()=>{D&&p&&(K!==null&&google.maps.event.removeListener(K),H(google.maps.event.addListener(D,"mousedown",p)))},[p]),S.useEffect(()=>{D&&m&&(Y!==null&&google.maps.event.removeListener(Y),G(google.maps.event.addListener(D,"mousemove",m)))},[m]),S.useEffect(()=>{D&&g&&(te!==null&&google.maps.event.removeListener(te),F(google.maps.event.addListener(D,"mouseout",g)))},[g]),S.useEffect(()=>{D&&v&&(ee!==null&&google.maps.event.removeListener(ee),J(google.maps.event.addListener(D,"mouseover",v)))},[v]),S.useEffect(()=>{D&&_&&(ie!==null&&google.maps.event.removeListener(ie),V(google.maps.event.addListener(D,"mouseup",_)))},[_]),S.useEffect(()=>{D&&w&&(W!==null&&google.maps.event.removeListener(W),ue(google.maps.event.addListener(D,"rightclick",w)))},[w]),S.useEffect(()=>{D&&x&&(le!==null&&google.maps.event.removeListener(le),he(google.maps.event.addListener(D,"click",x)))},[x]),S.useEffect(()=>{D&&b&&(Ae!==null&&google.maps.event.removeListener(Ae),ge(google.maps.event.addListener(D,"drag",b)))},[b]),S.useEffect(()=>{D&&M&&(Ne!==null&&google.maps.event.removeListener(Ne),nt(google.maps.event.addListener(D,"center_changed",M)))},[x]),S.useEffect(()=>{D&&C&&($e!==null&&google.maps.event.removeListener($e),Q(google.maps.event.addListener(D,"radius_changed",C)))},[C]),S.useEffect(()=>{var Je=new google.maps.Circle(jm(jm({},e||aQ),{},{map:L}));return typeof i=="number"&&Je.setRadius(i),typeof t<"u"&&Je.setCenter(t),typeof i=="number"&&Je.setRadius(i),typeof l<"u"&&Je.setVisible(l),typeof s<"u"&&Je.setEditable(s),typeof r<"u"&&Je.setDraggable(r),u&&R(google.maps.event.addListener(Je,"dblclick",u)),d&&X(google.maps.event.addListener(Je,"dragend",d)),f&&Z(google.maps.event.addListener(Je,"dragstart",f)),p&&H(google.maps.event.addListener(Je,"mousedown",p)),m&&G(google.maps.event.addListener(Je,"mousemove",m)),g&&F(google.maps.event.addListener(Je,"mouseout",g)),v&&J(google.maps.event.addListener(Je,"mouseover",v)),_&&V(google.maps.event.addListener(Je,"mouseup",_)),w&&ue(google.maps.event.addListener(Je,"rightclick",w)),x&&he(google.maps.event.addListener(Je,"click",x)),b&&ge(google.maps.event.addListener(Je,"drag",b)),M&&nt(google.maps.event.addListener(Je,"center_changed",M)),C&&Q(google.maps.event.addListener(Je,"radius_changed",C)),I(Je),T&&T(Je),()=>{A!==null&&google.maps.event.removeListener(A),N!==null&&google.maps.event.removeListener(N),$!==null&&google.maps.event.removeListener($),K!==null&&google.maps.event.removeListener(K),Y!==null&&google.maps.event.removeListener(Y),te!==null&&google.maps.event.removeListener(te),ee!==null&&google.maps.event.removeListener(ee),ie!==null&&google.maps.event.removeListener(ie),W!==null&&google.maps.event.removeListener(W),le!==null&&google.maps.event.removeListener(le),Ne!==null&&google.maps.event.removeListener(Ne),$e!==null&&google.maps.event.removeListener($e),O&&O(Je),Je.setMap(null)}},[]),null}S.memo(sQ);class oQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{circle:null}),Se(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(jm(jm({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:fR,eventMap:dR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:fR,eventMap:dR,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ut(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}Se(oQ,"contextType",At);function hR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var pR={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},mR={add(n,e){n.add(e)},addgeojson(n,e,t){n.addGeoJson(e,t)},contains(n,e){n.contains(e)},foreach(n,e){n.forEach(e)},loadgeojson(n,e,t,i){n.loadGeoJson(e,t,i)},overridestyle(n,e,t){n.overrideStyle(e,t)},remove(n,e){n.remove(e)},revertstyle(n,e){n.revertStyle(e)},controlposition(n,e){n.setControlPosition(e)},controls(n,e){n.setControls(e)},drawingmode(n,e){n.setDrawingMode(e)},map(n,e){n.setMap(e)},style(n,e){n.setStyle(e)},togeojson(n,e){n.toGeoJson(e)}};function lQ(n){var{options:e,onClick:t,onDblClick:i,onMouseDown:r,onMouseMove:s,onMouseOut:l,onMouseOver:u,onMouseUp:d,onRightClick:f,onAddFeature:p,onRemoveFeature:m,onRemoveProperty:g,onSetGeometry:v,onSetProperty:_,onLoad:w,onUnmount:x}=n,b=S.useContext(At),[M,C]=S.useState(null),[T,O]=S.useState(null),[L,D]=S.useState(null),[I,A]=S.useState(null),[R,N]=S.useState(null),[X,$]=S.useState(null),[Z,K]=S.useState(null),[H,Y]=S.useState(null),[G,te]=S.useState(null),[F,ee]=S.useState(null),[J,ie]=S.useState(null),[V,W]=S.useState(null),[ue,le]=S.useState(null),[he,Ae]=S.useState(null);return S.useEffect(()=>{M!==null&&M.setMap(b)},[b]),S.useEffect(()=>{M&&i&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(M,"dblclick",i)))},[i]),S.useEffect(()=>{M&&r&&(L!==null&&google.maps.event.removeListener(L),D(google.maps.event.addListener(M,"mousedown",r)))},[r]),S.useEffect(()=>{M&&s&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(M,"mousemove",s)))},[s]),S.useEffect(()=>{M&&l&&(R!==null&&google.maps.event.removeListener(R),N(google.maps.event.addListener(M,"mouseout",l)))},[l]),S.useEffect(()=>{M&&u&&(X!==null&&google.maps.event.removeListener(X),$(google.maps.event.addListener(M,"mouseover",u)))},[u]),S.useEffect(()=>{M&&d&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(M,"mouseup",d)))},[d]),S.useEffect(()=>{M&&f&&(H!==null&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(M,"rightclick",f)))},[f]),S.useEffect(()=>{M&&t&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(M,"click",t)))},[t]),S.useEffect(()=>{M&&p&&(F!==null&&google.maps.event.removeListener(F),ee(google.maps.event.addListener(M,"addfeature",p)))},[p]),S.useEffect(()=>{M&&m&&(J!==null&&google.maps.event.removeListener(J),ie(google.maps.event.addListener(M,"removefeature",m)))},[m]),S.useEffect(()=>{M&&g&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(M,"removeproperty",g)))},[g]),S.useEffect(()=>{M&&v&&(ue!==null&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(M,"setgeometry",v)))},[v]),S.useEffect(()=>{M&&_&&(he!==null&&google.maps.event.removeListener(he),Ae(google.maps.event.addListener(M,"setproperty",_)))},[_]),S.useEffect(()=>{if(b!==null){var ge=new google.maps.Data(Wm(Wm({},e),{},{map:b}));i&&O(google.maps.event.addListener(ge,"dblclick",i)),r&&D(google.maps.event.addListener(ge,"mousedown",r)),s&&A(google.maps.event.addListener(ge,"mousemove",s)),l&&N(google.maps.event.addListener(ge,"mouseout",l)),u&&$(google.maps.event.addListener(ge,"mouseover",u)),d&&K(google.maps.event.addListener(ge,"mouseup",d)),f&&Y(google.maps.event.addListener(ge,"rightclick",f)),t&&te(google.maps.event.addListener(ge,"click",t)),p&&ee(google.maps.event.addListener(ge,"addfeature",p)),m&&ie(google.maps.event.addListener(ge,"removefeature",m)),g&&W(google.maps.event.addListener(ge,"removeproperty",g)),v&&le(google.maps.event.addListener(ge,"setgeometry",v)),_&&Ae(google.maps.event.addListener(ge,"setproperty",_)),C(ge),w&&w(ge)}return()=>{M&&(T!==null&&google.maps.event.removeListener(T),L!==null&&google.maps.event.removeListener(L),I!==null&&google.maps.event.removeListener(I),R!==null&&google.maps.event.removeListener(R),X!==null&&google.maps.event.removeListener(X),Z!==null&&google.maps.event.removeListener(Z),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),F!==null&&google.maps.event.removeListener(F),J!==null&&google.maps.event.removeListener(J),V!==null&&google.maps.event.removeListener(V),ue!==null&&google.maps.event.removeListener(ue),he!==null&&google.maps.event.removeListener(he),x&&x(M),M.setMap(null))}},[]),null}S.memo(lQ);class uQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{data:null}),Se(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Wm(Wm({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:mR,eventMap:pR,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:mR,eventMap:pR,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ut(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Se(uQ,"contextType",At);function gR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var yR={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},_R={options(n,e){n.setOptions(e)},url(n,e){n.setUrl(e)},zIndex(n,e){n.setZIndex(e)}};class cQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{kmlLayer:null}),Se(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(vR(vR({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:_R,eventMap:yR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:_R,eventMap:yR,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ut(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Se(cQ,"contextType",At);function mP(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function dQ(n,e){return new e(n.lat,n.lng)}function fQ(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function hQ(n,e,t){return n instanceof e?n:t(n,e)}function pQ(n,e,t){return n instanceof e?n:t(n,e)}function mQ(n,e,t){var i=n&&n.fromLatLngToDivPixel(t.getNorthEast()),r=n&&n.fromLatLngToDivPixel(t.getSouthWest());return i&&r?{left:"".concat(r.x+e.x,"px"),top:"".concat(i.y+e.y,"px"),width:"".concat(i.x-r.x-e.x,"px"),height:"".concat(r.y-i.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function gQ(n,e,t){var i=n&&n.fromLatLngToDivPixel(t);if(i){var{x:r,y:s}=i;return{left:"".concat(r+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function gP(n,e,t,i){return t!==void 0?mQ(n,e,pQ(t,google.maps.LatLngBounds,fQ)):gQ(n,e,hQ(i,google.maps.LatLng,dQ))}function vQ(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function bR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yQ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _Q(n,e,t,i,r){class s extends google.maps.OverlayView{constructor(u,d,f,p){super(),this.container=u,this.pane=d,this.position=f,this.bounds=p}onAdd(){var u,d=(u=this.getPanes())===null||u===void 0?void 0:u[this.pane];d==null||d.appendChild(this.container)}draw(){var u=this.getProjection(),d=yQ({},this.container?mP(this.container,r):{x:0,y:0}),f=gP(u,d,this.bounds,this.position);for(var[p,m]of Object.entries(f))this.container.style[p]=m}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(n,e,t,i)}function xR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bQ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SR(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function ER(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function xQ(n){var{position:e,bounds:t,mapPaneName:i,zIndex:r,onLoad:s,onUnmount:l,getPixelPositionOffset:u,children:d}=n,f=S.useContext(At),p=S.useMemo(()=>{var g=document.createElement("div");return g.style.position="absolute",g},[]),m=S.useMemo(()=>_Q(p,i,e,t,u),[p,i,e,t]);return S.useEffect(()=>(s==null||s(m),m==null||m.setMap(f),()=>{l==null||l(m),m==null||m.setMap(null)}),[f,m]),S.useEffect(()=>{p.style.zIndex="".concat(r)},[r,p]),cs.createPortal(d,p)}S.memo(xQ);class uc extends S.PureComponent{constructor(e){super(e),Se(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Se(this,"updatePane",()=>{var i=this.props.mapPaneName,r=this.overlayView.getPanes();Qn(!!i,"OverlayView requires props.mapPaneName but got %s",i),r?this.setState({paneEl:r[i]}):this.setState({paneEl:null})}),Se(this,"onAdd",()=>{var i,r;this.updatePane(),(i=(r=this.props).onLoad)===null||i===void 0||i.call(r,this.overlayView)}),Se(this,"onPositionElement",()=>{var i=this.overlayView.getProjection(),r=bQ({x:0,y:0},this.containerRef.current?mP(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=gP(i,r,this.props.bounds,this.props.position);if(!vQ(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,u,d,f;this.setState({containerStyle:{top:(l=s.top)!==null&&l!==void 0?l:0,left:(u=s.left)!==null&&u!==void 0?u:0,width:(d=s.width)!==null&&d!==void 0?d:0,height:(f=s.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),Se(this,"draw",()=>{this.onPositionElement()}),Se(this,"onRemove",()=>{var i,r;this.setState(()=>({paneEl:null})),(i=(r=this.props).onUnmount)===null||i===void 0||i.call(r,this.overlayView)}),this.containerRef=S.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=SR(e.position),i=SR(this.props.position),r=ER(e.bounds),s=ER(this.props.bounds);(t!==i||r!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?cs.createPortal(k.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:S.Children.only(this.props.children)}),e):null}}Se(uc,"FLOAT_PANE","floatPane");Se(uc,"MAP_PANE","mapPane");Se(uc,"MARKER_LAYER","markerLayer");Se(uc,"OVERLAY_LAYER","overlayLayer");Se(uc,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Se(uc,"contextType",At);function SQ(){}function wR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function MR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var TR={onDblClick:"dblclick",onClick:"click"},CR={opacity(n,e){n.setOpacity(e)}};function EQ(n){var{url:e,bounds:t,options:i,visible:r}=n,s=S.useContext(At),l=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),u=S.useMemo(()=>new google.maps.GroundOverlay(e,l,i),[]);return S.useEffect(()=>{u!==null&&u.setMap(s)},[s]),S.useEffect(()=>{typeof e<"u"&&u!==null&&(u.set("url",e),u.setMap(s))},[u,e]),S.useEffect(()=>{typeof r<"u"&&u!==null&&u.setOpacity(r?1:0)},[u,r]),S.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&u!==null&&(u.set("bounds",d),u.setMap(s))},[u,t]),null}S.memo(EQ);class vP extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{groundOverlay:null}),Se(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Qn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,MR(MR({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:CR,eventMap:TR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:CR,eventMap:TR,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Se(vP,"defaultProps",{onLoad:SQ});Se(vP,"contextType",At);function AR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ym(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(t),!0).forEach(function(i){Se(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var RR={},DR={data(n,e){n.setData(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)}};function wQ(n){var{data:e,onLoad:t,onUnmount:i,options:r}=n,s=S.useContext(At),[l,u]=S.useState(null);return S.useEffect(()=>{google.maps.visualization||Qn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),S.useEffect(()=>{Qn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),S.useEffect(()=>{l!==null&&l.setMap(s)},[s]),S.useEffect(()=>{r&&l!==null&&l.setOptions(r)},[l,r]),S.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(Ym(Ym({},r),{},{data:e,map:s}));return u(d),t&&t(d),()=>{l!==null&&(i&&i(l),l.setMap(null))}},[]),null}S.memo(wQ);class MQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{heatmapLayer:null}),Se(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Qn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Qn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Ym(Ym({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Nt({updaterMap:DR,eventMap:RR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:DR,eventMap:RR,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ut(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Se(MQ,"contextType",At);var LR={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},OR={register(n,e,t){n.registerPanoProvider(e,t)},links(n,e){n.setLinks(e)},motionTracking(n,e){n.setMotionTracking(e)},options(n,e){n.setOptions(e)},pano(n,e){n.setPano(e)},position(n,e){n.setPosition(e)},pov(n,e){n.setPov(e)},visible(n,e){n.setVisible(e)},zoom(n,e){n.setZoom(e)}};class TQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{streetViewPanorama:null}),Se(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,i=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Nt({updaterMap:OR,eventMap:LR,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({streetViewPanorama:i}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:OR,eventMap:LR,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ut(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Se(TQ,"contextType",At);class CQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"state",{streetViewService:null}),Se(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Se(CQ,"contextType",At);var PR={onDirectionsChanged:"directions_changed"},IR={directions(n,e){n.setDirections(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},panel(n,e){n.setPanel(e)},routeIndex(n,e){n.setRouteIndex(e)}};class AQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{directionsRenderer:null}),Se(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Nt({updaterMap:IR,eventMap:PR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:IR,eventMap:PR,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ut(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Se(AQ,"contextType",At);var NR={onPlacesChanged:"places_changed"},kR={bounds(n,e){n.setBounds(e)}};class RQ extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"containerElement",S.createRef()),Se(this,"state",{searchBox:null}),Se(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Qn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Nt({updaterMap:kR,eventMap:NR,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:kR,eventMap:NR,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ut(this.registeredEvents))}render(){return k.jsx("div",{ref:this.containerElement,children:S.Children.only(this.props.children)})}}Se(RQ,"contextType",At);var UR={onPlaceChanged:"place_changed"},FR={bounds(n,e){n.setBounds(e)},restrictions(n,e){n.setComponentRestrictions(e)},fields(n,e){n.setFields(e)},options(n,e){n.setOptions(e)},types(n,e){n.setTypes(e)}};class yP extends S.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"containerElement",S.createRef()),Se(this,"state",{autocomplete:null}),Se(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Qn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var i=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Nt({updaterMap:FR,eventMap:UR,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({autocomplete:i}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ut(this.registeredEvents),this.registeredEvents=Nt({updaterMap:FR,eventMap:UR,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ut(this.registeredEvents)}render(){return k.jsx("div",{ref:this.containerElement,className:this.props.className,children:S.Children.only(this.props.children)})}}Se(yP,"defaultProps",{className:""});Se(yP,"contextType",At);const DQ=({place:n})=>{const[e,t]=S.useState(null);return S.useEffect(()=>{(async()=>{var r;if((r=n==null?void 0:n.photos)!=null&&r[0])try{const u=`https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=${n.photos[0].photo_reference}&key=AIzaSyBK6HwXG9HMoU-jj76c90rgkD3ZtP4SBq0`;t(u)}catch(s){console.error("Error fetching place photo:",s)}})()},[n]),e?k.jsx("div",{className:"place-photo",children:k.jsx("img",{src:e,alt:n.name,loading:"lazy"})}):null},LQ=({city:n,days:e,startDate:t})=>{const[i,r]=S.useState(null),[s,l]=S.useState(!0),u="853f5999ceff9bc08a03e0b9bba1cbfd";return S.useEffect(()=>{n&&t&&(async()=>{try{const f=n.split(",")[0].trim(),m=await(await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${f}&limit=1&appid=${u}`)).json();if(!m||m.length===0){console.error("Location not found"),l(!1);return}const g=m[0],v=Math.floor(t.getTime()/1e3),b=(await(await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${g.lat}&lon=${g.lon}&units=metric&appid=${u}`)).json()).list.filter(M=>M.dt>=v).reduce((M,C)=>{const T=new Date(C.dt*1e3).toLocaleDateString();return M[T]?(M[T].temp.max=Math.max(M[T].temp.max,C.main.temp_max),M[T].temp.min=Math.min(M[T].temp.min,C.main.temp_min)):M[T]={dt:C.dt,temp:{max:C.main.temp_max,min:C.main.temp_min},weather:C.weather,humidity:C.main.humidity,speed:C.wind.speed},M},{});r(Object.values(b).slice(0,e)),l(!1)}catch(f){console.error("Error fetching weather:",f),l(!1)}})()},[n,e,t,u]),s?k.jsx("div",{className:"weather-container",children:k.jsxs("div",{className:"weather-loading",children:[k.jsx("div",{className:"loading-spinner"}),k.jsx("div",{children:"Loading weather forecast..."})]})}):i?k.jsxs("div",{className:"weather-container",children:[k.jsxs("h3",{children:[k.jsx("i",{className:"fas fa-cloud-sun"}),"Weather Forecast"]}),k.jsx("div",{className:"weather-grid-container",children:k.jsx("div",{className:"weather-grid",children:i.map((d,f)=>k.jsxs("div",{className:"weather-card",children:[k.jsx("div",{className:"weather-date",children:new Date(d.dt*1e3).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),k.jsx("div",{className:"weather-icon",children:k.jsx("img",{src:`https://openweathermap.org/img/wn/${d.weather[0].icon}@2x.png`,alt:d.weather[0].description})}),k.jsxs("div",{className:"weather-temp",children:[k.jsxs("span",{className:"max-temp",children:[Math.round(d.temp.max),""]}),k.jsxs("span",{className:"min-temp",children:[Math.round(d.temp.min),""]})]}),k.jsx("div",{className:"weather-desc",children:d.weather[0].description}),k.jsxs("div",{className:"weather-details",children:[k.jsxs("span",{children:[k.jsx("i",{className:"fas fa-tint"}),d.humidity,"%"]}),k.jsxs("span",{children:[k.jsx("i",{className:"fas fa-wind"}),Math.round(d.speed)," m/s"]})]})]},f))})})]}):null},OQ=["places"],PQ=()=>{var te,F,ee;const n=lo(),e=Nb(),t=n.state,{isLoaded:i}=lP({googleMapsApiKey:"AIzaSyBK6HwXG9HMoU-jj76c90rgkD3ZtP4SBq0",libraries:OQ}),[r,s]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState([]),[p,m]=S.useState(null),[g,v]=S.useState(null),[_,w]=S.useState(null),[x,b]=S.useState({x:0,y:0}),[M,C]=S.useState([]),[T,O]=S.useState([]),[L,D]=S.useState({}),[I,A]=S.useState(!1),R=S.useMemo(()=>({disableDefaultUI:!1,clickableIcons:!0,scrollwheel:!0}),[]);S.useMemo(()=>({height:"400px",width:"100%",borderRadius:"15px",marginTop:"2rem"}),[]);const N=S.useCallback(async J=>{try{const ie=new window.google.maps.Geocoder,V=await new Promise((W,ue)=>{ie.geocode({address:J},(le,he)=>{he==="OK"?W(le[0].geometry.location):ue(he)})});return{lat:V.lat(),lng:V.lng()}}catch(ie){return console.error("Geocoding error:",ie),null}},[]),X=S.useCallback(async J=>{var ie;if(!(!J||!i))try{const V=[],W=((ie=t.destination)==null?void 0:ie.label)||t.destination;console.log("Updating markers for destination:",W);const ue=await N(W);if(ue){if(console.log("Destination coordinates:",ue),u(ue),V.push({id:"destination",position:ue,title:W,type:"destination"}),J.hotelOptions){console.log("Processing hotels:",J.hotelOptions);for(const le of J.hotelOptions)try{const he=`${le.name}, ${W}`;console.log("Geocoding hotel:",he);const Ae=await N(he);Ae?(console.log("Hotel coordinates found:",Ae),V.push({id:`hotel-${le.name}`,position:Ae,title:le.name,type:"hotel",details:le})):console.warn("No coordinates found for hotel:",he)}catch(he){console.error("Error processing hotel:",le.name,he)}}if(J.itinerary){console.log("Processing activities:",J.itinerary);for(const[le,he]of Object.entries(J.itinerary))for(const[Ae,ge]of Object.entries(he))try{const Ne=typeof ge=="string"?ge:ge.name||ge.location;if(!Ne){console.warn("Activity missing name/location:",ge);continue}const nt=`${Ne}, ${W}`;console.log("Geocoding activity:",nt);const $e=await N(nt);$e?(console.log("Activity coordinates found:",$e),V.push({id:`activity-${le}-${Ae}`,position:$e,title:Ne,type:"activity",details:{day:le,time:Ae,name:Ne,description:typeof ge=="object"?ge.description:""}})):console.warn("No coordinates found for activity:",nt)}catch(Ne){console.error("Error processing activity:",ge,Ne)}}}if(console.log("Final markers array:",V),f(V),V.length>0&&g){const le=new window.google.maps.LatLngBounds;V.forEach(he=>le.extend(he.position)),g.fitBounds(le),V.length===1&&g.setZoom(14)}}catch(V){console.error("Error updating markers:",V)}},[t,g,N,i]),$=J=>{if(console.log("AI Response received:",J),m(J),J.hotelOptions&&(console.log("Hotels:",J.hotelOptions),C(J.hotelOptions)),J.itinerary){console.log("Itinerary:",J.itinerary);const ie=[];Object.entries(J.itinerary).forEach(([V,W])=>{Object.entries(W).forEach(([ue,le])=>{ie.push({day:V,time:ue,...le})})}),O(ie)}X(J)};S.useEffect(()=>{if(!i||!(t!=null&&t.destination))return;(async()=>{var ie;try{const V=await N(((ie=t.destination)==null?void 0:ie.label)||t.destination);V&&u(V)}catch(V){console.error("Error initializing map:",V)}})()},[i,t]);const Z=S.useCallback(J=>{v(J)},[]);S.useCallback(()=>{v(null)},[]);const K=J=>{const ie={destination:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",hotel:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",activity:"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"};return ie[J]||ie.destination};S.useCallback(async(J,ie)=>{var V,W,ue,le;if(!(!J||!i))try{const he=new window.google.maps.places.PlacesService(g||document.createElement("div")),Ae={query:J.name,fields:["place_id","name","photos","formatted_address"],locationBias:{lat:((V=J.location)==null?void 0:V.lat)||((W=J.position)==null?void 0:W.lat),lng:((ue=J.location)==null?void 0:ue.lng)||((le=J.position)==null?void 0:le.lng)}};he.findPlaceFromQuery(Ae,(ge,Ne)=>{Ne===window.google.maps.places.PlacesServiceStatus.OK&&(ge!=null&&ge[0])&&(w({place_id:ge[0].place_id,name:J.name,location:J.location||J.position}),b({x:ie.clientX+20,y:ie.clientY+20}))})}catch(he){console.error("Error in handleLocationHover:",he)}},[g,i]);const H=async J=>{var ie;try{if(!J||!J.name)return;const V=new window.google.maps.places.PlacesService(document.createElement("div")),W={query:`${J.name}, ${((ie=t.destination)==null?void 0:ie.label)||t.destination}`,fields:["photos","place_id"]};V.textSearch(W,(ue,le)=>{if(le===window.google.maps.places.PlacesServiceStatus.OK&&ue[0]&&ue[0].photos&&ue[0].photos.length>0){const he=ue[0].photos[0].getUrl({maxWidth:400,maxHeight:300});D(Ae=>({...Ae,[J.name]:he}))}})}catch(V){console.error("Error fetching location image:",V)}};S.useEffect(()=>{(M==null?void 0:M.length)>0&&M.forEach(J=>H(J)),(T==null?void 0:T.length)>0&&T.forEach(J=>H(J))},[M,T]),S.useEffect(()=>{const J=document.querySelectorAll(".itinerary-item"),ie=ue=>{const le=ue.currentTarget,he=le.getBoundingClientRect(),Ae=ue.clientX-he.left,ge=ue.clientY-he.top;le.style.setProperty("--mouse-x",`${Ae}px`),le.style.setProperty("--mouse-y",`${ge}px`)};J.forEach(ue=>{ue.addEventListener("mousemove",ie)});const V=new IntersectionObserver(ue=>{ue.forEach(le=>{le.isIntersecting&&le.target.classList.add("visible")})},{threshold:.1}),W=document.querySelectorAll(".day-section, .itinerary-item");return W.forEach(ue=>{ue.classList.add("scroll-trigger"),V.observe(ue)}),()=>{J.forEach(ue=>{ue.removeEventListener("mousemove",ie)}),W.forEach(ue=>V.unobserve(ue))}},[]);const Y=()=>{C([]),O([]),D({}),u(null),f([]),m(null),e("/",{replace:!0,state:null})};S.useEffect(()=>()=>{var J;g&&((J=window.google)==null||J.maps.event.clearInstanceListeners(g))},[g]);const G=()=>{e("/",{replace:!0})};return I?k.jsxs("div",{className:"loading-container",children:[k.jsx("div",{className:"loading-spinner"}),k.jsx("div",{className:"loading-text",children:"Creating Your Perfect Travel Plan"}),k.jsx("div",{className:"loading-subtext",children:"Please wait while we craft your personalized itinerary..."})]}):i?k.jsxs("div",{className:"travel-plan-container",children:[k.jsxs("div",{className:"travel-plan-header",children:[k.jsx("div",{className:"header-controls",children:k.jsxs("button",{onClick:G,className:"home-btn",children:[k.jsx("i",{className:"fas fa-home"}),"Home"]})}),k.jsx("h1",{children:k.jsx("span",{className:"glow-text",children:"Your Travel Plan"})}),k.jsx("br",{}),k.jsxs("div",{className:"destination",children:[k.jsx("i",{className:"fas fa-map-marker-alt"}),((te=t.destination)==null?void 0:te.label)||t.destination]}),k.jsxs("div",{className:"trip-details",children:[k.jsxs("span",{className:"detail-item",children:[k.jsx("i",{className:"fas fa-calendar-alt"}),t.startDate?new Date(t.startDate).toLocaleDateString():"Date not set"]}),k.jsxs("span",{className:"detail-item",children:[k.jsx("i",{className:"fas fa-clock"}),"Duration: ",t.days," Days"]}),k.jsxs("span",{className:"detail-item",children:[k.jsx("i",{className:"fas fa-wallet"}),"Budget: ",t.budget]}),k.jsxs("span",{className:"detail-item",children:[k.jsx("i",{className:"fas fa-users"}),"Travelers: ",t.travelers]}),k.jsxs("span",{className:"detail-item",children:[k.jsx("i",{className:"fas fa-compass"}),"Style: ",t.travelStyle]}),t.interests&&t.interests.length>0&&k.jsxs("span",{className:"detail-item",children:[k.jsx("i",{className:"fas fa-heart"}),"Interests: ",Array.isArray(t.interests)?t.interests.join(", "):t.interests]})]})]}),k.jsx("div",{className:"weather-forecast-section",children:k.jsx(LQ,{city:((F=t.destination)==null?void 0:F.label)||t.destination,days:Math.min(parseInt(t.days)||5,7),startDate:new Date(t.startDate)})}),k.jsxs("div",{className:"overview-section",children:[k.jsxs("div",{className:"overview-header",children:[k.jsx("i",{className:"fas fa-map-marked-alt"}),k.jsx("h3",{children:"Trip Overview"})]}),k.jsx("div",{className:"overview-content",children:p?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"overview-description",children:p.tripDescription}),k.jsxs("div",{className:"overview-highlights",children:[k.jsx("h4",{children:"Trip Highlights"}),k.jsx("ul",{children:(ee=p.highlights)==null?void 0:ee.map((J,ie)=>k.jsx("li",{children:J},ie))})]})]}):k.jsx("div",{className:"loading-message",children:"Generating your personalized trip plan..."})})]}),l&&i&&k.jsxs("div",{className:"map-section",children:[k.jsxs("h3",{children:[k.jsx("i",{className:"fas fa-map-marker-alt"})," Trip Map"]}),k.jsxs(JK,{options:R,zoom:14,center:l,mapContainerStyle:{width:"100%",height:"400px",borderRadius:"15px"},onLoad:Z,children:[d.map((J,ie)=>k.jsx(pZ,{position:J.position,title:J.title,icon:K(J.type),onClick:()=>s(J),animation:window.google.maps.Animation.DROP},ie)),r&&k.jsx(pP,{position:r.position,onCloseClick:()=>s(null),children:k.jsxs("div",{className:"info-window",children:[k.jsxs("div",{className:"info-window-header",children:[k.jsx("h4",{children:r.title}),k.jsx("span",{className:"location-badge",children:r.type})]}),r.details&&k.jsxs("div",{className:"info-details",children:[r.type==="hotel"&&k.jsxs(k.Fragment,{children:[k.jsxs("p",{children:[k.jsx("i",{className:"fas fa-star"})," Rating: ",r.details.rating]}),k.jsxs("p",{children:[k.jsx("i",{className:"fas fa-dollar-sign"})," Price: ",r.details.price]})]}),r.type==="activity"&&k.jsxs(k.Fragment,{children:[k.jsxs("p",{children:[k.jsx("i",{className:"fas fa-calendar-day"})," Day ",r.details.day]}),k.jsxs("p",{children:[k.jsx("i",{className:"fas fa-clock"})," ",r.details.timeSlot]}),r.details.description&&k.jsxs("p",{children:[k.jsx("i",{className:"fas fa-info-circle"})," ",r.details.description]})]})]})]})})]}),k.jsxs("div",{className:"marker-legend",children:[k.jsxs("div",{className:"marker-type",children:[k.jsx("img",{src:K("destination"),alt:"Destination"}),k.jsx("span",{children:"Destination"})]}),k.jsxs("div",{className:"marker-type",children:[k.jsx("img",{src:K("hotel"),alt:"Hotels"}),k.jsx("span",{children:"Hotels"})]}),k.jsxs("div",{className:"marker-type",children:[k.jsx("img",{src:K("activity"),alt:"Activities"}),k.jsx("span",{children:"Activities"})]})]})]}),k.jsx(Px,{formData:{...t,onResponse:$}}),k.jsx("button",{onClick:Y,className:"new-plan-btn",children:"Create New Plan"}),k.jsx(DQ,{place:_,visible:!!_,position:x,className:`place-photo-preview ${_?"visible":""}`})]}):k.jsxs("div",{className:"loading-container",children:[k.jsx("div",{className:"loading-spinner"}),k.jsx("div",{className:"loading-text",children:"Loading Map"}),k.jsx("div",{className:"loading-subtext",children:"Getting everything ready for you..."})]})},IQ=()=>k.jsxs("div",{className:"about-container",id:"about",children:[k.jsxs("div",{className:"about-header",children:[k.jsxs("h1",{children:["About ",k.jsx("span",{className:"highlight",children:"TravelXP"})]}),k.jsx("p",{className:"subtitle",children:"Revolutionizing Travel Planning with AI"})]}),k.jsxs("div",{className:"about-grid",children:[k.jsxs("div",{className:"about-card",children:[k.jsx(F6,{className:"about-icon"}),k.jsx("h2",{children:"AI-Powered Planning"}),k.jsx("p",{children:"Our advanced AI algorithms analyze thousands of travel data points to create personalized itineraries that match your unique preferences, style, and budget."})]}),k.jsxs("div",{className:"about-card",children:[k.jsx(U6,{className:"about-icon"}),k.jsx("h2",{children:"Smart Recommendations"}),k.jsx("p",{children:"Discover hidden gems and local favorites with our intelligent recommendation system that goes beyond typical tourist attractions."})]}),k.jsxs("div",{className:"about-card",children:[k.jsx(ML,{className:"about-icon"}),k.jsx("h2",{children:"Personalized Experience"}),k.jsx("p",{children:"Every journey is unique, just like you. We tailor each itinerary to your interests, pace preferences, and travel style."})]})]}),k.jsxs("div",{className:"about-content",children:[k.jsx("h2",{children:"Our Mission"}),k.jsx("p",{children:"At TravelXP, we believe that every journey should be extraordinary. Our mission is to combine the power of artificial intelligence with human wanderlust to create travel experiences that are both efficient and unforgettable."}),k.jsx("h2",{children:"How It Works"}),k.jsx("p",{children:"Simply tell us your destination, preferences, and travel style. Our AI analyzes countless data points, reviews, and local insights to craft a personalized itinerary that maximizes your travel experience while respecting your time and budget."}),k.jsx("h2",{children:"Why Choose Us"}),k.jsx("p",{children:"We're not just another travel planner. Our AI-powered platform learns from each interaction, continuously improving its recommendations to provide you with the most relevant and exciting travel suggestions."})]})]}),NQ=()=>{const n=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};return k.jsxs("footer",{className:"footer",children:[k.jsxs("div",{className:"footer-content",children:[k.jsxs("div",{className:"footer-section",children:[k.jsx("h3",{children:"TravelXP"}),k.jsx("p",{children:"Your AI-powered travel companion for creating personalized trip itineraries."})]}),k.jsxs("div",{className:"footer-section",children:[k.jsx("h4",{children:"Quick Links"}),k.jsx(ul,{to:"/",children:"Home"}),k.jsx(ul,{to:"/create-trip",children:"Plan Trip"}),k.jsx("a",{href:"#",onClick:e=>{e.preventDefault(),n("about")},children:"About Us"}),k.jsx("a",{href:"#contact",children:"Contact"})]}),k.jsxs("div",{className:"footer-section",children:[k.jsx("h4",{children:"Connect With Us"}),k.jsxs("div",{className:"social-links",children:[k.jsx("a",{href:"https://github.com/Prigoistic",target:"_blank",rel:"noopener noreferrer",children:k.jsx(R6,{})}),k.jsx("a",{href:"https://www.linkedin.com/in/priyam-ghosh-252076231/",target:"_blank",rel:"noopener noreferrer",children:k.jsx(D6,{})}),k.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",children:k.jsx(L6,{})})]})]})]}),k.jsx("div",{className:"footer-bottom",children:k.jsx("p",{children:" 2024 TravelXP. All rights reserved."})})]})},kQ=()=>k.jsxs($3,{children:[k.jsx(H6,{}),k.jsxs(w3,{children:[k.jsx(Sd,{path:"/",element:k.jsxs(k.Fragment,{children:[k.jsx(sj,{}),k.jsx(IQ,{}),k.jsx(NQ,{})]})}),k.jsx(Sd,{path:"/create-trip",element:k.jsx(oj,{})}),k.jsx(Sd,{path:"/form",element:k.jsx(HK,{})}),k.jsx(Sd,{path:"/travel-plan",element:k.jsx(PQ,{})})]})]});function UQ(n={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:i}=n,[r,s]=S.useState(!1),l=S.useRef(t);l.current=t;const u=S.useRef(i);return u.current=i,S.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=e,d.onload=()=>{var f;s(!0),(f=l.current)===null||f===void 0||f.call(l)},d.onerror=()=>{var f;s(!1),(f=u.current)===null||f===void 0||f.call(u)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[e]),r}const FQ=S.createContext(null);function BQ({clientId:n,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:i,children:r}){const s=UQ({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:i}),l=S.useMemo(()=>({clientId:n,scriptLoadedSuccessfully:s}),[n,s]);return ne.createElement(FQ.Provider,{value:l},r)}const zQ="791961635416-d0ok2vmfss38qqscngve89fflc34pan3.apps.googleusercontent.com";IN.createRoot(document.getElementById("root")).render(k.jsx(ne.StrictMode,{children:k.jsx(BQ,{clientId:zQ,onScriptLoadError:()=>console.error("Google Script failed to load"),children:k.jsx(C6,{children:k.jsx(kQ,{})})})}));
